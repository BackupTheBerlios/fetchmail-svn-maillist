<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [fetchmail-svn] r5017 - branches/BRANCH_6-3/contrib
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/fetchmail-svn/2007-January/index.html" >
   <LINK REL="made" HREF="mailto:fetchmail-svn%40lists.berlios.de?Subject=Re%3A%20%5Bfetchmail-svn%5D%20r5017%20-%20branches/BRANCH_6-3/contrib&In-Reply-To=%3C20070114201718.918E8218001%40mknod.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000011.html">
   <LINK REL="Next"  HREF="000013.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[fetchmail-svn] r5017 - branches/BRANCH_6-3/contrib</H1>
    <B>svn at mknod.org</B> 
    <A HREF="mailto:fetchmail-svn%40lists.berlios.de?Subject=Re%3A%20%5Bfetchmail-svn%5D%20r5017%20-%20branches/BRANCH_6-3/contrib&In-Reply-To=%3C20070114201718.918E8218001%40mknod.org%3E"
       TITLE="[fetchmail-svn] r5017 - branches/BRANCH_6-3/contrib">svn at mknod.org
       </A><BR>
    <I>Sun Jan 14 21:17:18 CET 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="000011.html">[fetchmail-svn] r5016 - branches/BRANCH_6-3
</A></li>
        <LI>Next message: <A HREF="000013.html">[fetchmail-svn] r5018 - branches/BRANCH_6-3
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12">[ date ]</a>
              <a href="thread.html#12">[ thread ]</a>
              <a href="subject.html#12">[ subject ]</a>
              <a href="author.html#12">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: m-a
Date: 2007-01-14 14:17:17 -0600 (Sun, 14 Jan 2007)
New Revision: 5017

Added:
   branches/BRANCH_6-3/contrib/fetchmail.logrotate
Modified:
   branches/BRANCH_6-3/contrib/README
Log:
Add Daniel Leidert's fetchmail.logrotate sample.
Ask him for a license, he wanted a permit-all kind of license.
Also give a short introduction.

Modified: branches/BRANCH_6-3/contrib/README
===================================================================
--- branches/BRANCH_6-3/contrib/README	2007-01-14 19:14:47 UTC (rev 5016)
+++ branches/BRANCH_6-3/contrib/README	2007-01-14 20:17:17 UTC (rev 5017)
@@ -1,24 +1,28 @@
-These are scripts to help you running fetchmail in special situations. 
-Note: you're on your own using these -- I don't really understand them,
-I'm just passing them along.
-								--esr
+These are scripts or configuration snippets to help you running
+fetchmail in special situations.
 
-0*.html:
+Note: you're on your own using these -- the fetchmail team undertakes no
+efforts in understanding them, they are just passing them along.
+								--esr, ma
+
+This file is currently unsorted. Use your pager's search function when
+looking for the description of a particular file in this directory.  --ma
+
+### 0*.html:
 Messages from the archives of the old fetchmail-friends mailing list,
 for off-line reading.
 
-maildaemon:
-
+### maildaemon:
 Larry Fahnoe wrote this for driving fetchmail from cron.  It may be useful if
 you want to force a PPP link up and then poll for mail at specified times.
 I have rearranged it slightly to make it easier to configure.
 
-novell:
+### novell:
 
 Some mail from Dan Newcombe describing how to write a procmail rule that
 will domainify Novell server names.
 
-login &amp; logout:
+### login &amp; logout:
 
 These are intended to help if you typically have multiple logins active.
 Here's the script composer's original README:
@@ -51,18 +55,18 @@
     /usr/bin/fetchmail -q &gt; /dev/null 2&gt;&amp;1
 fi
 
-ip-up:
+### ip-up:
 
 A note from James Stevens about using fetchmail in an ip-up script without
 disabling timeouts.
 
-runfetchmail:
+### runfetchmail:
 
 A shellscript front end for fetchmail that mails you various statistics on
 the downloaded mail and the state of your folders.  A good example of what
 you can do with your own front end.
 
-fetchspool:
+### fetchspool:
 
 If you find that the speed of forwarding to port 25 is limited by the
 SMTP listener's speed, it may make sense to locally spool all the mail
@@ -70,14 +74,14 @@
 This shellscript aims to do exactly that.  It would be smarter to
 figure out why sendmail is slow, however.
 
-fetchsetup:
+### fetchsetup:
 
 This is a shell script for creating a $HOME/.fetchmailrc file, it will ask
 you some questions and based on your answers it will create a .fetchmailrc
 file, fetchsetup is linux specific so it may not work on another operating
 system.
 
-mailqueue.pl:
+### mailqueue.pl:
 
 This script will connect to your isp (if not already connected),
 send any outgoing mail and retrieve any incoming mail.  If this
@@ -85,28 +89,31 @@
 when it is done.  By Bill Adams, &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/fetchmail-svn">bill at evil.inetarena.com</A>&gt;.  The
 latest version is carried at &lt;<A HREF="http://evil.inetarena.com/">http://evil.inetarena.com/</A>&gt;.
 
-redhat_rc:
+### redhat_rc:
 
 A fetchmail boot-time init file compatible with RedHat 5.1.  It leaves
 fetchmail in background to get messages when you connect to your ISP.
 The invoked fetchmail expects to find its configuration in
 /etc/fetchmailrc, and must include the proper &quot;interface&quot; directive.
 
-debian_rc:
+### debian_rc:
 
 A fetchmail boot-time init file compatible with Debian.  It leaves
 fetchmail in background to get messages when you connect to your ISP.
 The invoked fetchmail expects to find its configuration in
 /root/.fetchmailrc, and must include the proper &quot;interface&quot; directive.
 
-start_dynamic_ppp:
+Matthias Andree adds: note that current Debian packages (as of January
+2007) ship with their own init files.
 
+### start_dynamic_ppp:
+
 An admittedly scratchy ip-up script that Ryan Murray wrote to cope with
 dynamic PPP addressing.  Will need some customizing.
 
 	<A HREF="http://www.inetarena.com/~badams/linux/programs/mailqueue.pl">http://www.inetarena.com/~badams/linux/programs/mailqueue.pl</A>
 
-getfetchmail:
+### getfetchmail:
 
 Here's a script that gets Eric's most recent fetchmail source rpm,
 downloads it and (if the rpm's not broken) rebuilds it.
@@ -122,18 +129,18 @@
 The script as written works on bash 2.  By John Summerfield
 &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/fetchmail-svn">summer at os2.ami.com.au</A>&gt;.
 
-zsh-completion:
+### zsh-completion:
 
 These commands set up command completion for fetchmail under zsh.
 Jay Kominek &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/fetchmail-svn">jay.kominek at colorado.edu</A>&gt;.
 
-getmail/gotmail:
+### getmail/gotmail:
 
 These scripts are front ends for fetchmail in daemon mode that can gather
 log statistics and generate text or HTML reports.  See README.getmail for
 details.  Scripts by Thomas Nesges &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/fetchmail-svn">ThomaNesges at TNT-Computer.de</A>&gt;.
 
-fetchmaildistrib:
+### fetchmaildistrib:
 
 This script resolves the issue where the sysadmin polls for mail with fetchmail
 only at set intervals, but where a user wishes to see his email right
@@ -142,45 +149,51 @@
 script is run to distribute the stuff into all user's ~/.fetchmailrc
 files.
 
-multidrop:
+### multidrop:
 
 Martijn Lievaart's sendmail hacks to make multidrop reliable.
 
-domino:
+### domino:
 
 Gustavo Chaves &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/fetchmail-svn">gustavo at cpqd.com.br</A>&gt; wrote this script to deal with 
 the boundary-mismatch bug in Domino (see FAQ item X5).  If you use
 this with --mda, the broken boundaries will be fixed and the result
 passed to procmail.
 
-toprocmail:
+### toprocmail:
 
 John Lim Eng Hooi &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/fetchmail-svn">jleh at mail.com</A>&gt; wrote this script, yet another 
 mda plugin, to be used with fetchmail in foreground mode.  It displays
 some header lines to stdout in color, passing them (and the rest of the
 message content) to procmail.
 
-preauth-harness:
+### preauth-harness:
 
 Emmanuel Dreyfus's Perl test script for exercising IMAP PREAUTH
 connections.  You'll have to patch in your username and password.
 
-sm-hybrid:
+### sm-hybrid:
 
 Peter 'Rattacresh' Backes sent this patch to improve the behavior of 
 sendmail 8.11.0 with multidrop.
 
-fetchmailnochda.pl
+### fetchmailnochda.pl
 
 Watchdog script to check whether fetchmail is working in daemon mode.
 
-mold-remover.py
+### mold-remover.py
 
 A short python script to remove old read mail from a pop3 mailserver.
 Dovetails with fetchmail with keep option.
 Run it as a cron job...
 
-PopDel.py
+### PopDel.py
 
 PopDel stands for Pop Delete; this program deletes selected email from a
 pop mail server. (By Richard Harris, improved by Joshua Crawford.)
+
+### fetchmail.logrotate (added 2007-01-14, --ma)
+
+A logrotate configuration file developped by Daniel Leidert for Debian,
+when he wanted to use /var/log/fetchmail instead of the usual syslog.
+It probably needs to be adjusted for use on other systems.

Added: branches/BRANCH_6-3/contrib/fetchmail.logrotate
===================================================================
--- branches/BRANCH_6-3/contrib/fetchmail.logrotate	2007-01-14 19:14:47 UTC (rev 5016)
+++ branches/BRANCH_6-3/contrib/fetchmail.logrotate	2007-01-14 20:17:17 UTC (rev 5017)
@@ -0,0 +1,56 @@
+# fetchmail.logrotate
+#
+# This is an example logrotate configuration file, editing required
+# before use. It is useful if you have fetchmail logging to a separate
+# file, /var/log/fetchmail as shown below.
+#
+# This file has been written for Debian Linux systems.
+#
+# Other systems will probably require adjustments, such as: how
+# often to rotate, how many files to retain, how to name them, if
+# compression is desired, which user and group the file should be
+# created with, and where the .pid file is. Check the logrotate
+# documentation for details.
+#                                        --Matthias Andree, 2007-01-14
+# ----------------------------------------------------------------------
+# The following license applies to the remainder of this file:
+#
+# Copyright (c) 2007 Daniel Leidert &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/fetchmail-svn">daniel.leidert at wgdd.de</A>&gt;
+#
+# Permission is hereby granted, free of charge, to any person obtaining
+# a copy of this software and associated documentation files (the
+# &quot;Software&quot;), to deal in the Software without restriction, including
+# without limitation the rights to use, copy, modify, merge, publish,
+# distribute, sublicense, and/or sell copies of the Software, and to
+# permit persons to whom the Software is furnished to do so, subject to
+# the following conditions:
+#
+# The above copyright notice and this permission notice shall be
+# included in all copies or substantial portions of the Software.
+#
+# THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND,
+# EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
+# MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
+# IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
+# CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
+# TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
+# SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
+
+/var/log/fetchmail {
+    weekly
+    rotate 5
+    compress
+    missingok
+    notifempty
+    create 640 fetchmail root
+    sharedscripts
+    postrotate
+        if [ -f /var/run/fetchmail/fetchmail.pid ]; then \
+            if [ -x /usr/sbin/invoke-rc.d ]; then \
+                invoke-rc.d fetchmail restart &gt; /dev/null; \
+            else \
+                /etc/init.d/fetchmail restart &gt; /dev/null; \
+            fi; \
+        fi;
+    endscript
+}


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000011.html">[fetchmail-svn] r5016 - branches/BRANCH_6-3
</A></li>
	<LI>Next message: <A HREF="000013.html">[fetchmail-svn] r5018 - branches/BRANCH_6-3
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12">[ date ]</a>
              <a href="thread.html#12">[ thread ]</a>
              <a href="subject.html#12">[ subject ]</a>
              <a href="author.html#12">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/fetchmail-svn">More information about the fetchmail-svn
mailing list</a><br>
</body></html>
