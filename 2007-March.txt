From svn at mknod.org  Fri Mar  2 01:03:44 2007
From: svn at mknod.org (svn at mknod.org)
Date: Thu,  1 Mar 2007 18:03:44 -0600 (CST)
Subject: [fetchmail-svn] r5043 - branches/BRANCH_6-3
Message-ID: <20070302000344.ABA7121800C@mknod.org>

Author: m-a
Date: 2007-03-01 18:03:43 -0600 (Thu, 01 Mar 2007)
New Revision: 5043

Modified:
   branches/BRANCH_6-3/NEWS
   branches/BRANCH_6-3/fetchmail.man
Log:
Fix manual page: --sslcheck -> --sslcertck, and do not set trailing
"recommended:" in bold. Debian Bug #413059, reported by Rafal Czlonka.

Modified: branches/BRANCH_6-3/NEWS
===================================================================
--- branches/BRANCH_6-3/NEWS	2007-02-24 10:11:57 UTC (rev 5042)
+++ branches/BRANCH_6-3/NEWS	2007-03-02 00:03:43 UTC (rev 5043)
@@ -46,6 +46,8 @@
 
 # BUG FIXES:
 * Fix pluralization of oversized-message warning mails.
+* Fix manual page: --sslcheck -> --sslcertck, and do not set trailing 
+  "recommended:" in bold. Debian Bug #413059, reported by Rafal Czlonka.
 
 # KNOWN BUGS AND WORKAROUNDS:
   (this section floats upwards through the NEWS file so it stays with the

Modified: branches/BRANCH_6-3/fetchmail.man
===================================================================
--- branches/BRANCH_6-3/fetchmail.man	2007-02-24 10:11:57 UTC (rev 5042)
+++ branches/BRANCH_6-3/fetchmail.man	2007-03-02 00:03:43 UTC (rev 5043)
@@ -1062,18 +1062,19 @@
 command line or sslcertck run control file option should be used to
 force strict certificate checking - see below.
 .PP
-.B \-\-sslcheck recommended:
-When connecting to an SSL or TLS encrypted server, the server presents a certificate
-to the client for validation.  The certificate is checked to verify that
-the common name in the certificate matches the name of the server being
-contacted and that the effective and expiration dates in the certificate
-indicate that it is currently valid.  If any of these checks fail, a warning
-message is printed, but the connection continues.  The server certificate
-does not need to be signed by any specific Certifying Authority and may
-be a "self-signed" certificate. If the \-\-sslcertck command line option
-or sslcertck run control file option is used, fetchmail will instead
-abort if any of these checks fail. Use of the sslcertck or \-\-sslcertck
-option is advised.
+.B \-\-sslcertck
+recommended: When connecting to an SSL or TLS encrypted server, the 
+server presents a certificate to the client for validation.  The 
+certificate is checked to verify that the common name in the certificate 
+matches the name of the server being contacted and that the effective 
+and expiration dates in the certificate indicate that it is currently 
+valid.  If any of these checks fail, a warning message is printed, but 
+the connection continues.  The server certificate does not need to be 
+signed by any specific Certifying Authority and may be a "self-signed" 
+certificate. If the \-\-sslcertck command line option or sslcertck run 
+control file option is used, fetchmail will instead abort if any of 
+these checks fail. Use of the sslcertck or \-\-sslcertck option is 
+advised.
 .PP
 Some SSL encrypted servers may request a client side certificate.  A client
 side public SSL certificate and private SSL key may be specified.  If



From svn at mknod.org  Fri Mar  2 01:36:00 2007
From: svn at mknod.org (svn at mknod.org)
Date: Thu,  1 Mar 2007 18:36:00 -0600 (CST)
Subject: [fetchmail-svn] r5044 - branches/BRANCH_6-3
Message-ID: <20070302003600.699ED21800D@mknod.org>

Author: m-a
Date: 2007-03-01 18:36:00 -0600 (Thu, 01 Mar 2007)
New Revision: 5044

Modified:
   branches/BRANCH_6-3/NEWS
   branches/BRANCH_6-3/pop3.c
Log:
Repoll immediately if a protocol error happens during the authentication
attempt after a failed opportunistic TLS upgrade. Gentoo Bug #163782 comment
#9, reported by Takuto Matsuu.

Modified: branches/BRANCH_6-3/NEWS
===================================================================
--- branches/BRANCH_6-3/NEWS	2007-03-02 00:03:43 UTC (rev 5043)
+++ branches/BRANCH_6-3/NEWS	2007-03-02 00:36:00 UTC (rev 5044)
@@ -48,6 +48,9 @@
 * Fix pluralization of oversized-message warning mails.
 * Fix manual page: --sslcheck -> --sslcertck, and do not set trailing 
   "recommended:" in bold. Debian Bug #413059, reported by Rafal Czlonka.
+* Repoll immediately if a protocol error happens during the authentication 
+  attempt after a failed opportunistic TLS upgrade. Gentoo Bug #163782 comment 
+  #9, reported by Takuto Matsuu.
 
 # KNOWN BUGS AND WORKAROUNDS:
   (this section floats upwards through the NEWS file so it stays with the

Modified: branches/BRANCH_6-3/pop3.c
===================================================================
--- branches/BRANCH_6-3/pop3.c	2007-03-02 00:03:43 UTC (rev 5043)
+++ branches/BRANCH_6-3/pop3.c	2007-03-02 00:36:00 UTC (rev 5044)
@@ -686,7 +686,8 @@
 #ifdef SSL_ENABLE
     /* this is for servers which claim to support TLS, but actually
      * don't! */
-    if (connection_may_have_tls_errors && ok == PS_SOCKET)
+    if (connection_may_have_tls_errors
+		    && (ok == PS_SOCKET || ok == PS_PROTOCOL))
     {
 	xfree(ctl->sslproto);
 	ctl->sslproto = xstrdup("");



From svn at mknod.org  Fri Mar  2 01:40:02 2007
From: svn at mknod.org (svn at mknod.org)
Date: Thu,  1 Mar 2007 18:40:02 -0600 (CST)
Subject: [fetchmail-svn] r5045 - branches/BRANCH_6-3
Message-ID: <20070302004002.34A0121800C@mknod.org>

Author: m-a
Date: 2007-03-01 18:40:02 -0600 (Thu, 01 Mar 2007)
New Revision: 5045

Modified:
   branches/BRANCH_6-3/TODO.txt
Log:
Revise.

Modified: branches/BRANCH_6-3/TODO.txt
===================================================================
--- branches/BRANCH_6-3/TODO.txt	2007-03-02 00:36:00 UTC (rev 5044)
+++ branches/BRANCH_6-3/TODO.txt	2007-03-02 00:40:02 UTC (rev 5045)
@@ -1,16 +1,15 @@
 6.3.8:
 - integrate Isaac Wilcox's test rig
 - look at Tony Earnshaw's .spec file
-- revisit BerliOS patches
-- see if "AUTH SSH" can be made to work for POP3
-- more SMTP/LMTP error detail on message rejections even outside verbose mode.
-  Ian D. Allen, fetchmail-users. Two messages with examples.
-  What goes here? fetchmailrc location, server, port, user, folder, anything else?
+- look at Gentoo patches
 
 6.4:
 - remove dead replacement functions: strdup (Andreas Krennmair), ...
-
-CODE:
+- more SMTP/LMTP error detail on message rejections even outside verbose mode.
+  Ian D. Allen, fetchmail-users. Two messages with examples.
+  What goes here? fetchmailrc location, server, port, user, folder, anything else?
+- see if "AUTH SSH" can be made to work for POP3
+- revisit BerliOS patches
 - check recent list mail
 - check Debian BTS and other bug trackers
 - better logging (log all headers, log forward destination + method)



From svn at mknod.org  Sun Mar  4 21:33:10 2007
From: svn at mknod.org (svn at mknod.org)
Date: Sun,  4 Mar 2007 14:33:10 -0600 (CST)
Subject: [fetchmail-svn] r5046 - branches/BRANCH_6-3
Message-ID: <20070304203310.73DD8218011@mknod.org>

Author: m-a
Date: 2007-03-04 14:33:10 -0600 (Sun, 04 Mar 2007)
New Revision: 5046

Modified:
   branches/BRANCH_6-3/NEWS
Log:
Reformat.

Modified: branches/BRANCH_6-3/NEWS
===================================================================
--- branches/BRANCH_6-3/NEWS	2007-03-02 00:40:02 UTC (rev 5045)
+++ branches/BRANCH_6-3/NEWS	2007-03-04 20:33:10 UTC (rev 5046)
@@ -47,10 +47,10 @@
 # BUG FIXES:
 * Fix pluralization of oversized-message warning mails.
 * Fix manual page: --sslcheck -> --sslcertck, and do not set trailing 
-  "recommended:" in bold. Debian Bug #413059, reported by Rafal Czlonka.
+  "recommended:" in bold. Fixes Debian Bug #413059, reported by Rafal Czlonka.
 * Repoll immediately if a protocol error happens during the authentication 
-  attempt after a failed opportunistic TLS upgrade. Gentoo Bug #163782 comment 
-  #9, reported by Takuto Matsuu.
+  attempt after a failed opportunistic TLS upgrade.
+  Fixes comment #9 in Gentoo Bug #163782, reported by Takuto Matsuu.
 
 # KNOWN BUGS AND WORKAROUNDS:
   (this section floats upwards through the NEWS file so it stays with the



From svn at mknod.org  Thu Mar  8 14:07:50 2007
From: svn at mknod.org (svn at mknod.org)
Date: Thu,  8 Mar 2007 07:07:50 -0600 (CST)
Subject: [fetchmail-svn] r5047 - branches/BRANCH_6-3
Message-ID: <20070308130750.CACBB218014@mknod.org>

Author: m-a
Date: 2007-03-08 07:07:50 -0600 (Thu, 08 Mar 2007)
New Revision: 5047

Modified:
   branches/BRANCH_6-3/NEWS
   branches/BRANCH_6-3/fetchmail.man
Log:
Fix rendering of the "24 - 26, 28, 29" paragraph in the exit codes section.
Reported by Nico Golde.

Modified: branches/BRANCH_6-3/NEWS
===================================================================
--- branches/BRANCH_6-3/NEWS	2007-03-04 20:33:10 UTC (rev 5046)
+++ branches/BRANCH_6-3/NEWS	2007-03-08 13:07:50 UTC (rev 5047)
@@ -51,6 +51,8 @@
 * Repoll immediately if a protocol error happens during the authentication 
   attempt after a failed opportunistic TLS upgrade.
   Fixes comment #9 in Gentoo Bug #163782, reported by Takuto Matsuu.
+* Fix rendering of the "24 - 26, 28, 29" paragraph in the exit codes section. 
+  Reported by Nico Golde.
 
 # KNOWN BUGS AND WORKAROUNDS:
   (this section floats upwards through the NEWS file so it stays with the

Modified: branches/BRANCH_6-3/fetchmail.man
===================================================================
--- branches/BRANCH_6-3/fetchmail.man	2007-03-04 20:33:10 UTC (rev 5046)
+++ branches/BRANCH_6-3/fetchmail.man	2007-03-08 13:07:50 UTC (rev 5047)
@@ -2495,7 +2495,7 @@
 .IP 23
 Internal error.  You should see a message on standard error with
 details.
-.IP 24 - 26, 28, 29
+.IP "24 - 26, 28, 29"
 These are internal codes and should not appear externally.
 .PP
 When



From svn at mknod.org  Fri Mar 16 09:30:33 2007
From: svn at mknod.org (svn at mknod.org)
Date: Fri, 16 Mar 2007 03:30:33 -0500 (CDT)
Subject: [fetchmail-svn] r5049 - branches/BRANCH_6-3
Message-ID: <20070316083033.6716521804C@mknod.org>

Author: m-a
Date: 2007-03-16 03:30:33 -0500 (Fri, 16 Mar 2007)
New Revision: 5049

Modified:
   branches/BRANCH_6-3/TODO.txt
Log:
Update.

Modified: branches/BRANCH_6-3/TODO.txt
===================================================================
--- branches/BRANCH_6-3/TODO.txt	2007-03-16 08:30:25 UTC (rev 5048)
+++ branches/BRANCH_6-3/TODO.txt	2007-03-16 08:30:33 UTC (rev 5049)
@@ -1,9 +1,7 @@
-6.3.8:
+6.4:
 - integrate Isaac Wilcox's test rig
 - look at Tony Earnshaw's .spec file
 - look at Gentoo patches
-
-6.4:
 - remove dead replacement functions: strdup (Andreas Krennmair), ...
 - more SMTP/LMTP error detail on message rejections even outside verbose mode.
   Ian D. Allen, fetchmail-users. Two messages with examples.



From svn at mknod.org  Fri Mar 16 09:30:26 2007
From: svn at mknod.org (svn at mknod.org)
Date: Fri, 16 Mar 2007 03:30:26 -0500 (CDT)
Subject: [fetchmail-svn] r5048 - branches/BRANCH_6-3
Message-ID: <20070316083026.D201921804B@mknod.org>

Author: m-a
Date: 2007-03-16 03:30:25 -0500 (Fri, 16 Mar 2007)
New Revision: 5048

Modified:
   branches/BRANCH_6-3/NEWS
   branches/BRANCH_6-3/fetchmail.man
Log:
* Extend --mda documentation, discourage use of qmail-inject. 
  Based on a patch by Rob MacGregor.
* Document SOCKS is not run-time configurable. Patch by Rob MacGregor.
* Use envelope option in multidrop example. Patch by Rob MacGregor.


Modified: branches/BRANCH_6-3/NEWS
===================================================================
--- branches/BRANCH_6-3/NEWS	2007-03-08 13:07:50 UTC (rev 5047)
+++ branches/BRANCH_6-3/NEWS	2007-03-16 08:30:25 UTC (rev 5048)
@@ -54,6 +54,12 @@
 * Fix rendering of the "24 - 26, 28, 29" paragraph in the exit codes section. 
   Reported by Nico Golde.
 
+# DOCUMENTATION:
+* Extend --mda documentation, discourage use of qmail-inject.
+  Based on a patch by Rob MacGregor.
+* Document SOCKS is not run-time configurable. Patch by Rob MacGregor.
+* Use envelope option in multidrop example. Patch by Rob MacGregor.
+
 # KNOWN BUGS AND WORKAROUNDS:
   (this section floats upwards through the NEWS file so it stays with the
   current release information)

Modified: branches/BRANCH_6-3/fetchmail.man
===================================================================
--- branches/BRANCH_6-3/fetchmail.man	2007-03-08 13:07:50 UTC (rev 5047)
+++ branches/BRANCH_6-3/fetchmail.man	2007-03-16 08:30:25 UTC (rev 5048)
@@ -319,7 +319,7 @@
 .B \-\-plugin <command>
 (Keyword: plugin) The plugin option allows you to use an external
 program to establish the TCP connection.  This is useful if you want
-to use socks, SSL, ssh, or need some special firewalling setup.  The
+to use SSL, ssh, or need some special firewalling setup.  The
 program will be looked up in $PATH and can optionally be passed the
 hostname and port as arguments using "%h" and "%p" respectively (note
 that the interpolation logic is rather primitive, and these token must
@@ -514,12 +514,16 @@
 .TP
 .B \-m <command> | \-\-mda <command>
 (Keyword: mda) You can force mail to be passed to an MDA directly
-(rather than forwarded to port 25) with the \-\-mda or \-m option.  To
+(rather than forwarded to port 25) with the \-\-mda or \-m option.
+
+To
 avoid losing mail, use this option only with MDAs like maildrop or
 MTAs like sendmail that return a nonzero status on disk-full and other
 resource-exhaustion errors; the nonzero status tells fetchmail that
 delivery failed and prevents the message from being deleted off the
-server.  If \fIfetchmail\fR is running as root, it sets its user id to
+server.
+
+If \fIfetchmail\fR is running as root, it sets its user id to
 that of the target user while delivering mail through an MDA.  Some
 possible MDAs are "/usr/sbin/sendmail \-i \-f %F \-\- %T" (\fBNote:\fR
 some several older or vendor sendmail versions mistake \-\- for an
@@ -527,28 +531,44 @@
 "/usr/bin/deliver" and "/usr/bin/maildrop \-d %T".  Local delivery
 addresses will be inserted into the MDA command wherever you place a
 %T; the mail message's From address will be inserted where you place
-an %F. \fBDO NOT ENCLOSE THE %F OR %T STRING IN SINGLE QUOTES!\fR For
-both %T and %F, fetchmail encloses the addresses in single quotes ('),
-after removing any single quotes they may contain, before the MDA
-command is passed to the shell.  Do \fINOT\fR use an MDA invocation
-like "sendmail \-i \-t" that dispatches on the contents of To/Cc/Bcc, it
-will create mail loops and bring the just wrath of many postmasters
-down upon your head.  Also, do \fInot\fR try to combine multidrop
-mode with an MDA such as maildrop that can only accept one
-address; you will lose mail.
+an %F.
 
-A word of warning: the well-known
+.B "DO NOT ENCLOSE THE %F OR %T STRING IN SINGLE QUOTES!"
+For both %T and %F, fetchmail encloses the addresses in single quotes 
+('), after removing any single quotes they may contain, before the MDA 
+command is passed to the shell.
+
+\fRDo \fINOT\fP use an MDA invocation that dispatches on the contents of 
+To/Cc/Bcc,\fP like "sendmail \-i \-t" or "qmail-inject", it will create 
+mail loops and bring the just wrath of many postmasters down upon your 
+head.  This is one of the most frequent configuration errors!
+
+Also, do \fInot\fR try to combine multidrop mode with an MDA such 
+as maildrop that can only accept one address, unless your upstream 
+stores one copy of the message per recipient and transports the envelope 
+recipient in a header; you will lose mail.  
+
+The well-known
 .BR procmail (1)
 package is very hard to configure properly, it has a very nasty "fall
 through to the next rule" behavior on delivery errors (even temporary
 ones, such as out of disk space if another user's mail daemon copies the
 mailbox around to purge old messages), so your mail will end up in the
 wrong mailbox sooner or later. The proper procmail configuration is
-outside the scope of this document though. Using
+outside the scope of this document. Using
 .BR maildrop (1)
 is usually much easier, and many users find the filter syntax used by
 maildrop easier to understand.
 
+Finally, we strongly advise that you do 
+.B not
+use qmail-inject.  The command line interface is non-standard without 
+providing benefits for typical use, and fetchmail makes no attempts to 
+accomodate qmail-inject's deviations from the standard. Some of 
+qmail-inject's command-line and environment options are actually 
+dangerous and can cause broken threads, non-detected duplicate messages 
+and forwarding loops.
+
 .TP
 .B \-\-lmtp
 (Keyword: lmtp)
@@ -1823,6 +1843,10 @@
 queried every N poll intervals.
 .SS Singledrop vs. Multidrop options
 .PP
+Please ensure you read the section titled
+.B THE USE AND ABUSE OF MULTIDROP MAILBOXES 
+if you intend to use multidrop mode.
+.PP
 The 'is' or 'to' keywords associate the following local (client)
 name(s) (or server-name to client-name mappings separated by =) with
 the mailserver user name in the entry.  If an is/to list has '*' as
@@ -2256,7 +2280,8 @@
 Here's an example of another kind of multidrop connection:
 
 .nf
-  poll pop.provider.net localdomains loonytoons.org toons.org:
+  poll pop.provider.net localdomains loonytoons.org toons.org
+      envelope X-Envelope-To
         user maildrop with pass secret1 to * here
 .fi
 
@@ -2429,6 +2454,16 @@
 you can declare 'no dns' to suppress DNS lookups entirely and
 \fIonly\fR match against the aka list.
 
+.SH SOCKS
+Support for socks4/5 is a 
+.B compile time 
+configuration option.  Once
+compiled in fetchmail will always use the socks libraries and
+configuration on your system.  There are no configuration
+options internal to fetchmail to control this behaviour, and the socks 
+and socks5 libraries provide no documented interfaces that fetchmail 
+could use to achieve run-time configurability.
+
 .SH EXIT CODES
 To facilitate the use of
 .I fetchmail



From svn at mknod.org  Fri Mar 16 09:34:10 2007
From: svn at mknod.org (svn at mknod.org)
Date: Fri, 16 Mar 2007 03:34:10 -0500 (CDT)
Subject: [fetchmail-svn] r5050 - branches/BRANCH_6-3
Message-ID: <20070316083410.0620021804B@mknod.org>

Author: m-a
Date: 2007-03-16 03:34:10 -0500 (Fri, 16 Mar 2007)
New Revision: 5050

Modified:
   branches/BRANCH_6-3/TODO.txt
Log:
Update.

Modified: branches/BRANCH_6-3/TODO.txt
===================================================================
--- branches/BRANCH_6-3/TODO.txt	2007-03-16 08:30:33 UTC (rev 5049)
+++ branches/BRANCH_6-3/TODO.txt	2007-03-16 08:34:10 UTC (rev 5050)
@@ -1,4 +1,9 @@
 6.4:
+- > b) When the envelope header is specified, but it isn't found, a
+  > warning is logged and the mail is forwarded to the postmaster
+  > ("WARNING: Envelope header $HEADER found, cannot identify the
+  > recipient.  Forwarding to the postmaster")
+  Rob MacGregor 2007-03-16 Patch to the man page, fetchmail-devel@
 - integrate Isaac Wilcox's test rig
 - look at Tony Earnshaw's .spec file
 - look at Gentoo patches



From svn at mknod.org  Sat Mar 17 12:12:30 2007
From: svn at mknod.org (svn at mknod.org)
Date: Sat, 17 Mar 2007 06:12:30 -0500 (CDT)
Subject: [fetchmail-svn] r5051 - in branches/BRANCH_6-3: . contrib
Message-ID: <20070317111230.0A741218053@mknod.org>

Author: m-a
Date: 2007-03-17 06:12:29 -0500 (Sat, 17 Mar 2007)
New Revision: 5051

Added:
   branches/BRANCH_6-3/contrib/delete-later
   branches/BRANCH_6-3/contrib/delete-later.README
Modified:
   branches/BRANCH_6-3/NEWS
   branches/BRANCH_6-3/contrib/README
Log:
Add delete-later, kindly donated by Carsten Ralle/Yoo GmbH, Germany.

Modified: branches/BRANCH_6-3/NEWS
===================================================================
--- branches/BRANCH_6-3/NEWS	2007-03-16 08:34:10 UTC (rev 5050)
+++ branches/BRANCH_6-3/NEWS	2007-03-17 11:12:29 UTC (rev 5051)
@@ -60,6 +60,11 @@
 * Document SOCKS is not run-time configurable. Patch by Rob MacGregor.
 * Use envelope option in multidrop example. Patch by Rob MacGregor.
 
+# CONTRIB:
+* Add delete-later and delete-later.README, a script and documentation for
+  a MySQL/Tcl-based client-side "delete-after" feature.
+  Kindly donated by Yoo GmbH, Gro?voigtsberg, Germany (Carsten Ralle).
+
 # KNOWN BUGS AND WORKAROUNDS:
   (this section floats upwards through the NEWS file so it stays with the
   current release information)

Modified: branches/BRANCH_6-3/contrib/README
===================================================================
--- branches/BRANCH_6-3/contrib/README	2007-03-16 08:34:10 UTC (rev 5050)
+++ branches/BRANCH_6-3/contrib/README	2007-03-17 11:12:29 UTC (rev 5051)
@@ -197,3 +197,9 @@
 A logrotate configuration file developped by Daniel Leidert for Debian,
 when he wanted to use /var/log/fetchmail instead of the usual syslog.
 It probably needs to be adjusted for use on other systems.
+
+### delete-later (added 2007-03-17, --ma)
+
+A MySQL/Tcl/Expect-based client-side script to remove messages at a
+certain age.  See delete-later.README for details.
+(By Carsten Ralle, Yoo GmbH, Germany.)

Added: branches/BRANCH_6-3/contrib/delete-later
===================================================================
--- branches/BRANCH_6-3/contrib/delete-later	2007-03-16 08:34:10 UTC (rev 5050)
+++ branches/BRANCH_6-3/contrib/delete-later	2007-03-17 11:12:29 UTC (rev 5051)
@@ -0,0 +1,56 @@
+#!/usr/bin/expect -f
+
+# MySQL database connection settings
+set CRDB_host     localhost
+set CRDB_DB       test
+set CRDB_username root
+set CRDB_password root
+
+# set eiter one to 1 for verbose output
+log_user 0
+set comments 0
+
+package require mysqltcl
+
+# connect to MySQL database
+set handle [::mysql::connect -host $CRDB_host -user $CRDB_username -password $CRDB_password]
+
+# get server/usernames to clean up
+set userlist [::mysql::sel $handle "SELECT UserID, server, username, password, retaindays from $CRDB_DB.fetchmail_user" -flatlist]
+
+# loop through all users in database
+foreach {userid server username password days} $userlist {
+  if {$comments==1} { send_user "\r\nWorking on accound #$userid\r\n*******************************\r\n" }
+  eval spawn telnet -l fetchmail_cleanup $server 110
+  expect "ready"
+  send "USER $username\r"
+  expect "password"
+  send "PASS $password\r"
+  expect "OK"
+  send "STAT\r"
+  expect "+OK "
+  expect -re "\[0-9]* "
+  set anz $expect_out(0,string)
+  if {$comments==1} { send_user "message count: $anz \r\n" }
+  set i 0
+  while { $i < $anz } {
+    incr i
+    send "UIDL $i\r"
+    expect -re "\\\+OK $i \(.*\)\r"
+    set uid $expect_out(1,string)
+    ::mysql::exec $handle "insert ignore into $CRDB_DB.fetchmail values ($userid,'$uid',now());"
+    set age [::mysql::sel $handle "SELECT DATEDIFF(now(),Fetchdate) from $CRDB_DB.fetchmail where UserID=$userid and UID='$uid'" -list]
+    if {$comments==1} { send_user "Message #$i: UID: $uid , age: $age \r\n" }
+    if {$age > $days} {
+      send "DELE $i\r"
+      expect "deleted"
+      if {$comments==1} { send_user "Message $i deleted.\r\n" }
+    }
+  }
+  send "quit\r"
+  expect "signing off"
+  ::mysql::exec $handle "delete from $CRDB_DB.fetchmail where DATEDIFF(now(),Fetchdate)>($days*2) and UserID=$userid;"
+}
+::mysql::close $handle
+exit
+

Added: branches/BRANCH_6-3/contrib/delete-later.README
===================================================================
--- branches/BRANCH_6-3/contrib/delete-later.README	2007-03-16 08:34:10 UTC (rev 5050)
+++ branches/BRANCH_6-3/contrib/delete-later.README	2007-03-17 11:12:29 UTC (rev 5051)
@@ -0,0 +1,157 @@
+*******************  DELETE - LATER ********************
+
+    version 0.11  2007-02-06
+
+
+    A tool for deleting email messages on POP3 accounts
+    after a given period of time (in days)
+
+    E.g. if you want to keep the messages 30 days to
+    have webmail access while on the road
+
+********************************************************
+
+  The script queries the current contents of a POP3 mailbox,
+  stores the message IDs of that run and saves them to a
+  MySQL database.
+
+  On each run, it compares the date on which the message was
+  first seen with the current date and deletes the message,
+  if that difference is greater than the value of the column
+  "retaindays".
+
+  The script stores account settings in a separate MySQL
+  table for easy maintenance each email account needs an
+  unique ID.
+
+  The script scales well on large installations with several
+  thousands of messages a day if you run it at a time of low
+  email volume (e.g. at 4 am).
+
+
+
+REQUIREMENTS
+------------
+
+- MySQL database server and client software (v4.x or later,
+  www.mysql.com)
+
+  MySQL sources (for compiling mysqltcl only)
+
+- mysqltcl script (www.xdobry.de/mysqltcl/)
+
+- libexpect (v5 or later)
+
+
+
+INSTALLATION
+------------
+
+1. create the tables "fetchmail" and "fetchmail_users" on a
+   MySQL server by running
+
+   CREATE TABLE `fetchmail` ( `UserID` BIGINT UNSIGNED NOT NULL DEFAULT 0, `UID` VARCHAR(255) NOT NULL DEFAULT '',  `Fetchdate` DATE NOT NULL DEFAULT 0,  PRIMARY KEY(`UserID`, `UID`));
+
+   CREATE TABLE `fetchmail_user` ( `UserID` BIGINT UNSIGNED NOT NULL AUTO_INCREMENT, `server` VARCHAR(255) NOT NULL DEFAULT '', `username` VARCHAR(63) NOT NULL DEFAULT '', `password` VARCHAR(63) NOT NULL DEFAULT '',  `retaindays` INTEGER UNSIGNED NOT NULL DEFAULT 0, PRIMARY KEY(`UserID`));
+
+2. Fill the table "fetchmail_users" with the settings of the
+   email accounts you wish to handle
+
+3. copy the script "delete-later" to a safe place, (on
+   Linux/Unix: make it executable) and edit the first lines to
+   match your MySQL setup
+
+4. run "delete-later" via cron AFTER you fetched your emails
+   with settings that keep the messages on the server (e.g. via
+   fetchmail --keep)
+
+
+
+KNOWN ISSUES
+------------
+
+The mysqltcl libraries sometimes don't compile against
+earlier versions of MySQL 4.x.
+
+If you are experiencing any problems with compiling
+mysqltcl, please look for pre-compiled binaries for your
+distribution (or contact mail at xdobry.de), the win32 binaries
+work out of the box on most M$ systems.
+
+As most linux distributions don't include mysqltcl, get the
+latest precompiled 5.x series MySQL binariesand the matching
+source code from www.mysql.com, install them onto a separate
+location and run "configure && make && make install" to
+compile mysqltcl yourself.
+
+
+
+NOTES
+-----
+
+The age of an email message is calculated by the difference
+in days between the run of "delete-later" it was first seen
+on and the current date, not the actual date the message was
+sent. So if you run the script every week, the period after
+which a message is delete may vary up to 14 days.
+
+This was implemented that way, because of the common
+practice of spammers to change the message date to some date
+in the far future to place the message first in your inbox.
+
+
+
+COPYRIGHT
+---------
+
+Copyright (c) 2007 Yoo GmbH
+                   Zellwaldring 51
+                   09603 GROSSVOIGTSBERG
+                   GERMANY
+
+Permission to use, copy, modify, distribute, and sell this software
+and its documentation for any purpose is hereby granted without fee,
+provided that the content of this README file appears in all copies
+of the software and related documentation.
+
+
+
+DISCLAIMER
+----------
+
+THE SCRIPT IS PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.
+
+WE (YOO) HEREBY DISCLAIM ALL WARRANTIES AND CONDITIONS WITH REGARD
+TO THIS README AND SCRIPT, INCLUDING ALL WARRANTIES AND CONDITIONS
+OF MERCHANTABILITY, WHETHER EXPRESS, IMPLIED OR STATUTORY, FITNESS
+FOR A PARTICULAR PURPOSE, TITLE AND NON-INFRINGEMENT.
+
+IN NO EVENT SHALL YOO AND/OR ITS REPRESENTATIVES AND/OR RESPECTIVE
+SUPPLIERS BE LIABLE FOR ANY SPECIAL, INDIRECT OR CONSEQUENTIAL
+DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS OF USE, DATA
+OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER
+TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
+PERFORMANCE OF THIS README OR SCRIPT.
+
+
+
+CONTACT
+-------
+
+For help, bug reports or other request regarding "delete-later" please
+contact Carsten Ralle (English/German) by writing an e-mail to
+
+                   cr <at> i4yoo <dot> de
+
+with a subject starting with "DELETE-LATER: "
+
+Please note that messages containing HTML or images will be
+automatically deleted.
+
+
+
+********************************************************************************
+Yoo GmbH, Zellwaldring 51, D-09603 Grossvoigtsberg, Germany
+
+                                                                  www.yoogmbh.de
+********************************************************************************



From svn at mknod.org  Sat Mar 17 12:39:18 2007
From: svn at mknod.org (svn at mknod.org)
Date: Sat, 17 Mar 2007 06:39:18 -0500 (CDT)
Subject: [fetchmail-svn] r5052 - branches/BRANCH_6-3
Message-ID: <20070317113918.DE654218053@mknod.org>

Author: m-a
Date: 2007-03-17 06:39:18 -0500 (Sat, 17 Mar 2007)
New Revision: 5052

Modified:
   branches/BRANCH_6-3/NEWS
   branches/BRANCH_6-3/TODO.txt
   branches/BRANCH_6-3/fetchmail.man
Log:
Document expected Received: line format when parsing for envelope addressees.

Modified: branches/BRANCH_6-3/NEWS
===================================================================
--- branches/BRANCH_6-3/NEWS	2007-03-17 11:12:29 UTC (rev 5051)
+++ branches/BRANCH_6-3/NEWS	2007-03-17 11:39:18 UTC (rev 5052)
@@ -59,6 +59,9 @@
   Based on a patch by Rob MacGregor.
 * Document SOCKS is not run-time configurable. Patch by Rob MacGregor.
 * Use envelope option in multidrop example. Patch by Rob MacGregor.
+* Document expected Received: line format when parsing for envelope addressees.
+* Stripped option documentation from sample.rcfile, since this is bound to go
+  out of synch with the manual page, which is the only reference on options.
 
 # CONTRIB:
 * Add delete-later and delete-later.README, a script and documentation for
@@ -74,8 +77,6 @@
   64-bit mode.  Either compile 32-bit code or use GCC to compile 64-bit
   fetchmail.  Note that fetchmail doesn't take advantage of 64-bit code,
   so compiling 32-bit SPARC code should not cause any difficulties.
-* fetchmail expects Received: headers in a particular, but undocumented, format
-  when parsing envelopes.
 * fetchmail does not track pending deletes over crashes
 * the command line interface is a bit narrow-minded sometimes, for instance,
   fetchmail -s doesn't work with a running daemon

Modified: branches/BRANCH_6-3/TODO.txt
===================================================================
--- branches/BRANCH_6-3/TODO.txt	2007-03-17 11:12:29 UTC (rev 5051)
+++ branches/BRANCH_6-3/TODO.txt	2007-03-17 11:39:18 UTC (rev 5052)
@@ -27,7 +27,6 @@
 - add code to allow safe authentication schemes if TLS fails
 
 DOCUMENTATION:
-- document Received: parsing expectations
 - Add info whether Keywords are global, server or user keywords
 - review sample.rcfile and document it
 - consolidate multidrop documentation

Modified: branches/BRANCH_6-3/fetchmail.man
===================================================================
--- branches/BRANCH_6-3/fetchmail.man	2007-03-17 11:12:29 UTC (rev 5051)
+++ branches/BRANCH_6-3/fetchmail.man	2007-03-17 11:39:18 UTC (rev 5052)
@@ -822,12 +822,18 @@
 This option changes the header
 .I fetchmail
 assumes will carry a copy of the mail's envelope address.  Normally
-this is 'X\-Envelope\-To', but as this header is not standard, practice
-varies. See the discussion of multidrop address handling below.  As a
-special case, 'envelope "Received"' enables parsing of sendmail-style
-Received lines.  This is the default, and it should not be necessary
-unless you have globally disabled Received parsing with 'no envelope'
-in the \fI.fetchmailrc\fR file.
+this is 'X\-Envelope\-To'. Other typically found headers to carry envelope
+information are 'X\-Original\-To' and 'Delivered\-To'.  Now, since
+these headers are not standardized, practice varies. See the discussion
+of multidrop address handling below.  As a special case, 'envelope
+"Received"' enables parsing of sendmail-style Received lines.  This is
+the default, but discouraged because it is not fully reliable.
+
+.B Note
+that fetchmail expects the Received-line to be in a specific
+format: It must contain "by \fIhost\fP for \fIaddress\fR", where
+\fIhost\fP must match one of the mailserver names that fetchmail
+recognizes for the account in question.
 .sp
 The optional count argument (only available in the configuration file)
 determines how many header lines of this kind are skipped. A count of 1
@@ -2158,10 +2164,10 @@
 rather to the list manager (which is less annoying).
 
 In multidrop mode, destination headers are processed as follows:
-First, fetchmail looks for the Received: header (or whichever one is
-specified by the 'envelope' option) to determine the local
-recipient address. If the mail is addressed to more than one recipient,
-the Received line won't contain any information regarding recipient addresses.
+First, fetchmail looks for the header specified by the 'envelope' option
+in order to determine the local recipient address. If the mail is
+addressed to more than one recipient, the Received line won't contain
+any information regarding recipient addresses.
 
 Then fetchmail looks for the Resent-To:, Resent-Cc:, and Resent-Bcc:
 lines.  If they exist, they should contain the final recipients and
@@ -2604,14 +2610,14 @@
 
 .SH BUGS AND KNOWN PROBLEMS
 .PP
+Please check the \fBNEWS\fP file that shipped with fetchmail for more
+known bugs than those listed here.
+.PP
 Fetchmail cannot handle user names that contain blanks after a "@"
 character, for instance "demonstr at ti on". These are rather uncommon and
 only hurt when using UID-based \-\-keep setups, so the 6.3.X versions of
 fetchmail won't be fixed.
 .PP
-Please check the \fBNEWS\fP file that shipped with fetchmail for more
-known bugs than those listed here.
-.PP
 The assumptions that the DNS and in particular the checkalias options
 make are not often sustainable. For instance, it has become uncommon for
 an MX server to be a POP3 or IMAP server at the same time. Therefore the



From svn at mknod.org  Sat Mar 17 12:40:54 2007
From: svn at mknod.org (svn at mknod.org)
Date: Sat, 17 Mar 2007 06:40:54 -0500 (CDT)
Subject: [fetchmail-svn] r5053 - branches/BRANCH_6-3
Message-ID: <20070317114054.1D513218053@mknod.org>

Author: m-a
Date: 2007-03-17 06:40:53 -0500 (Sat, 17 Mar 2007)
New Revision: 5053

Modified:
   branches/BRANCH_6-3/TODO.txt
   branches/BRANCH_6-3/sample.rcfile
Log:
Revise sample.rcfile documentation.

Modified: branches/BRANCH_6-3/TODO.txt
===================================================================
--- branches/BRANCH_6-3/TODO.txt	2007-03-17 11:39:18 UTC (rev 5052)
+++ branches/BRANCH_6-3/TODO.txt	2007-03-17 11:40:53 UTC (rev 5053)
@@ -28,5 +28,4 @@
 
 DOCUMENTATION:
 - Add info whether Keywords are global, server or user keywords
-- review sample.rcfile and document it
 - consolidate multidrop documentation

Modified: branches/BRANCH_6-3/sample.rcfile
===================================================================
--- branches/BRANCH_6-3/sample.rcfile	2007-03-17 11:39:18 UTC (rev 5052)
+++ branches/BRANCH_6-3/sample.rcfile	2007-03-17 11:40:53 UTC (rev 5053)
@@ -18,131 +18,37 @@
 # When there is a conflict between the command-line arguments and the
 # arguments in this file, the command-line arguments take precedence.
 #
-# Legal keywords are
-#   poll                      -- must be followed by a mailserver name or label
-#   skip                      -- must be followed by a mailserver name or label
-#   via                       -- must be followed by true name of host to poll
-#   interval                  -- must be followed by an interval skip count
-#   protocol (or proto)       -- must be followed by a protocol ID
-#   uidl
-#   no uidl
-#   port                      -- must be followed by a TCP/IP port number
-#   principal                 -- must be followed by a principal name
-#   ssl
-#   sslkeyfile                -- must be followed by path to private key file
-#   sslcertfile               -- must be followed by path to certificate file
-#   authenticate (or auth)    -- must be followed by an authentication type
-#   timeout                   -- must be followed by a numeric timeout value
-#   envelope                  -- must be followed by an envelope header name
-#   qvirtual                  -- must be followed by a name prefix
-#   no envelope
-#   aka                       -- must be followed by one or more server aliases
-#   localdomains              -- must be followed by one or more domain names
-#   interface                 -- must be followed by device/IP address/mask
-#   monitor                   -- must be followed by device
-#   plugin                    -- must be followed by a string command name
-#   plugout                   -- must be followed by a string command name
-#   dns
-#   no dns
-#   checkalias                -- do multidrop address comparison by IP address
-#   no checkalias             -- do multidrop address comparison by name
-#
-#   username (or user)        -- must be followed by a name
-#   is                        -- must be followed by one or more names
-#   folder                    -- must be followed by remote folder names
-#   password (or pass)        -- must be followed by a password string
-#   smtphost (or smtp)        -- must be followed by host names
-#   smtpaddress               -- must be followed by a host name
-#   antispam                  -- must be followed by a numeric response value
-#   mda                       -- must be followed by an MDA command string
-#   bsmtp                     -- must be followed by a filename or -
-#   lmtp
-#   preconnect (or pre)       -- must be followed by an executable command
-#   postconnect (or post)     -- must be followed by an executable command
-#
-#   keep
-#   flush
-#   fetchall
-#   rewrite
-#   forcecr
-#   stripcr
-#   pass8bits
-#   dropstatus
-#   mimedecode
-#   idle
-#   no keep
-#   no flush
-#   no fetchall
-#   no rewrite
-#   no forcecr
-#   no stripcr
-#   no pass8bits
-#   no dropstatus
-#   no mimedecode
-#   no idle
-#   limit                     -- must be followed by numeric size limit
-#   warnings                  -- must be followed by numeric size limit
-#   fetchlimit                -- must be followed by numeric msg fetch limit
-#   batchlimit                -- must be followed by numeric SMTP batch limit
-#   expunge                   -- must be followed by numeric delete count
-#   properties                -- must be followed by a string
-#
-# Legal protocol identifiers are
-#   pop2 (or POP2)
-#   pop3 (or POP3)
-#   imap (or IMAP)
-#   imap-k4 (or IMAP-K4)
-#   apop (or APOP)
-#   rpop (or RPOP)
-#   kpop (or KPOP)
-#   etrn (or ETRN)
-#
-# Add ssl for protocols operating over an SSL connection (POP3 and IMAP)
-#   Default port for IMAPS (IMAP over SSL) is 993
-#   Default port for POP3S (POP3 over SSL) is 995
-#      Taken from assigned numbers and compatible with netscape/outlook usage.
-#
-# Legal authentication types are
-#   login
-#   kerberos
-#   kerberos_v5
-#
-# Legal global option statements are
-#
-#   set logfile			-- must be followed by a string
-#   set idfile			-- must be followed by a string
-#   set postmaster		-- must be followed by a string
-#   set daemon			-- must be followed by a number   
-#   set syslog
-#   set invisible
-#   set showdots
-#
-# The noise keywords `and', `with', `has', `wants', and `options' are ignored
-# anywhere in an entry; they can be used to make it resemble English.  The
-# punctuation characters `,' `:' `;' are also ignored. 
-#
 # The run control file format is fully described (with more examples) on the
 # fetchmail manual page.
-# 
-# This is what the developer's .fetchmailrc looks like:
+#
+# This is what the former developer's .fetchmailrc looks like:
 
-set daemon 300	# Poll at 5-minute intervals
+set daemon 300	# Sleep 300 seconds after the poll, then poll again.
 
 defaults
+	# only poll when the sl0 interface is up (only available on some systems)
 	interface "sl0/10.0.2.15"	# SLIRP standard address
+	# log in with name "esr" and do multidrop fetch for the users
+	# esr, fetchmail-friends, and magic-numbers
 	user esr is esr fetchmail-friends magic-numbers here
+	# fetch (and delete after retrieval) all messages
 	fetchall
 
 # Use this for production
 poll imap.example.org protocol IMAP:
+	# do not use MX lookups to check of server aliases, but pass
+	# them explicitly:
 	no dns, aka snark.thyrsus.com thyrsus.com locke.example.org example.org 
 	password my_remote_password;
 
 # Use this to test POP3
 skip pop3.example.org with protocol APOP:
+	# do not use MX lookups to check of server aliases, but pass
+	# them explicitly:
 	no dns, aka snark.thyrsus.com thyrsus.com locke.example.org example.org 
 	password my_apop_secret;
 
-# Use this to test against a different server
+# Use this to test against a different server - it is skipped unless
+# you give its name on fetchmail's command line.
 skip pop3.netaxs.com:
 	password my_netaxs.password;



From svn at mknod.org  Sat Mar 17 21:00:41 2007
From: svn at mknod.org (svn at mknod.org)
Date: Sat, 17 Mar 2007 15:00:41 -0500 (CDT)
Subject: [fetchmail-svn] r5054 - branches/BRANCH_6-3
Message-ID: <20070317200041.4941C218057@mknod.org>

Author: m-a
Date: 2007-03-17 15:00:39 -0500 (Sat, 17 Mar 2007)
New Revision: 5054

Modified:
   branches/BRANCH_6-3/NEWS
   branches/BRANCH_6-3/fetchmail-FAQ.html
   branches/BRANCH_6-3/fetchmail.man
Log:
Document SOCKS_CONF environment variable.

Modified: branches/BRANCH_6-3/NEWS
===================================================================
--- branches/BRANCH_6-3/NEWS	2007-03-17 11:40:53 UTC (rev 5053)
+++ branches/BRANCH_6-3/NEWS	2007-03-17 20:00:39 UTC (rev 5054)
@@ -57,7 +57,8 @@
 # DOCUMENTATION:
 * Extend --mda documentation, discourage use of qmail-inject.
   Based on a patch by Rob MacGregor.
-* Document SOCKS is not run-time configurable. Patch by Rob MacGregor.
+* Document SOCKS configuration facility (SOCKS_CONF environment variable).
+  Thanks to Jochen Hayek, Michael Shuldman and Rob MacGregor.
 * Use envelope option in multidrop example. Patch by Rob MacGregor.
 * Document expected Received: line format when parsing for envelope addressees.
 * Stripped option documentation from sample.rcfile, since this is bound to go

Modified: branches/BRANCH_6-3/fetchmail-FAQ.html
===================================================================
--- branches/BRANCH_6-3/fetchmail-FAQ.html	2007-03-17 11:40:53 UTC (rev 5053)
+++ branches/BRANCH_6-3/fetchmail-FAQ.html	2007-03-17 20:00:39 UTC (rev 5054)
@@ -1971,15 +1971,23 @@
 methods</h1>
 <h2><a id="K1" name="K1">K1. How can I use fetchmail with SOCKS?</a></h2>
 
-<p>Giuseppe Guerini added a --with-socks option that supports
-linking with socks library. If you specify the value of this option
-as "yes", the configure script will try to find the Rconnect
+<p>Giuseppe Guerini added a <kbd>--with-socks</kbd> compile-time option
+that supports linking with socks library. If you specify the value of
+this option as "yes", the configure script will try to find the Rconnect
 library and set the makefile up to link it. You can also specify a
 directory containing the Rconnect library.</p>
 
-<p>Alan Schmitt has added a similar --with-socks5 option that may
+<p>Alan Schmitt has added a similar <kbd>--with-socks5</kbd> option that may
 work better if you have a recent version of the SOCKS library.</p>
 
+<p>In either case, fetchmail has no direct configuration hooks, but you
+can specify which socks configuration file the library should read by
+means of the <tt>SOCKS_CONF</tt> environment variable. In order to
+bypass the SOCKS proxy altogether, you could run (adding your usual
+options to the end of this line):</p>
+
+<pre>env SOCKS_CONF=/dev/null fetchmail</pre>
+
 <h2><a id="K2" name="K2">K2. How can I use fetchmail with IPv6 and
 IPsec?</a></h2>
 

Modified: branches/BRANCH_6-3/fetchmail.man
===================================================================
--- branches/BRANCH_6-3/fetchmail.man	2007-03-17 11:40:53 UTC (rev 5053)
+++ branches/BRANCH_6-3/fetchmail.man	2007-03-17 20:00:39 UTC (rev 5054)
@@ -2461,15 +2461,22 @@
 \fIonly\fR match against the aka list.
 
 .SH SOCKS
-Support for socks4/5 is a 
-.B compile time 
-configuration option.  Once
-compiled in fetchmail will always use the socks libraries and
-configuration on your system.  There are no configuration
-options internal to fetchmail to control this behaviour, and the socks 
-and socks5 libraries provide no documented interfaces that fetchmail 
-could use to achieve run-time configurability.
+Support for socks4/5 is a \fBcompile time\fP configuration option. Once
+compiled in, fetchmail will always use the socks libraries and
+configuration on your system, there are no run-time switches in
+fetchmail - but you can still configure SOCKS: you can specify which
+SOCKS configuration file is used in the \fBSOCKS_CONF\fP environment
+variable.
 
+For instance, if you wanted to bypass the SOCKS proxy altogether and
+have fetchmail connect directly, you could just pass
+SOCKS_CONF=/dev/null in the environment, for example (add your usual
+command line options - if any - to the end of this line):
+
+.nf
+env SOCKS_CONF=/dev/null fetchmail
+.fi
+
 .SH EXIT CODES
 To facilitate the use of
 .I fetchmail
@@ -2569,6 +2576,7 @@
 lock file to help prevent concurrent runs (root mode, systems without /var/run).
 
 .SH ENVIRONMENT
+.B FETCHMAILUSER:
 If the FETCHMAILUSER variable is set, it is used as the name of the
 calling user (default local name) for purposes such as mailing error
 notifications.  Otherwise, if either the LOGNAME or USER variable is
@@ -2578,6 +2586,7 @@
 session ID (this elaborate logic is designed to handle the case of
 multiple names per userid gracefully).
 
+.B FETCHMAILHOME:
 If the environment variable FETCHMAILHOME is set to a valid and
 existing directory name, fetchmail will read $FETCHMAILHOME/fetchmailrc
 (the dot is missing in this case), $FETCHMAILHOME/.fetchids and
@@ -2585,11 +2594,17 @@
 directory.  The .netrc file is always looked for in the the invoking
 user's home directory regardless of FETCHMAILHOME's setting.
 
+.B HOME_ETC:
 If the HOME_ETC variable is set, fetchmail will read
 $HOME_ETC/.fetchmailrc instead of ~/.fetchmailrc.
 
-If HOME_ETC and FETCHMAILHOME are set, HOME_ETC will be ignored.
+If HOME_ETC and FETCHMAILHOME are both set, HOME_ETC will be ignored.
 
+.B SOCKS_CONF:
+(only if SOCKS support is compiled in) this variable is used by the
+socks library to find out which configuration file it should read. Set
+this to /dev/null to bypass the SOCKS proxy.
+
 .SH SIGNALS
 If a
 .I fetchmail



From svn at mknod.org  Sat Mar 17 22:05:56 2007
From: svn at mknod.org (svn at mknod.org)
Date: Sat, 17 Mar 2007 16:05:56 -0500 (CDT)
Subject: [fetchmail-svn] r5055 - in branches/BRANCH_6-3: . po
Message-ID: <20070317210556.BAC6B218057@mknod.org>

Author: m-a
Date: 2007-03-17 16:05:54 -0500 (Sat, 17 Mar 2007)
New Revision: 5055

Modified:
   branches/BRANCH_6-3/configure.ac
   branches/BRANCH_6-3/fetchmail.man
   branches/BRANCH_6-3/po/ca.po
   branches/BRANCH_6-3/po/cs.po
   branches/BRANCH_6-3/po/de.po
   branches/BRANCH_6-3/po/en_GB.po
   branches/BRANCH_6-3/po/es.po
   branches/BRANCH_6-3/po/fr.po
   branches/BRANCH_6-3/po/ja.po
   branches/BRANCH_6-3/po/pl.po
   branches/BRANCH_6-3/po/ru.po
   branches/BRANCH_6-3/po/sq.po
   branches/BRANCH_6-3/po/vi.po
Log:
Snapshot 6.3.8-rc1.

Modified: branches/BRANCH_6-3/configure.ac
===================================================================
--- branches/BRANCH_6-3/configure.ac	2007-03-17 20:00:39 UTC (rev 5054)
+++ branches/BRANCH_6-3/configure.ac	2007-03-17 21:05:54 UTC (rev 5055)
@@ -8,7 +8,7 @@
 dnl Process this file with autoconf to produce a configure script.
 dnl
 
-AC_INIT([fetchmail],[6.3.8-beta1],[fetchmail-users at lists.berlios.de])
+AC_INIT([fetchmail],[6.3.8-rc1],[fetchmail-users at lists.berlios.de])
 AC_CONFIG_SRCDIR([fetchmail.h])
 AC_CONFIG_HEADERS([config.h])
 AC_CONFIG_LIBOBJ_DIR([.])

Modified: branches/BRANCH_6-3/fetchmail.man
===================================================================
--- branches/BRANCH_6-3/fetchmail.man	2007-03-17 20:00:39 UTC (rev 5054)
+++ branches/BRANCH_6-3/fetchmail.man	2007-03-17 21:05:54 UTC (rev 5055)
@@ -5,7 +5,7 @@
 .\"
 .\" For license terms, see the file COPYING in this directory.
 .\"
-.TH fetchmail 1 "fetchmail 6.3.7" "fetchmail" "fetchmail reference manual"
+.TH fetchmail 1 "fetchmail 6.3.8" "fetchmail" "fetchmail reference manual"
 .SH NAME
 fetchmail \- fetch mail from a POP, IMAP, ETRN, or ODMR-capable server
 

Modified: branches/BRANCH_6-3/po/ca.po
===================================================================
--- branches/BRANCH_6-3/po/ca.po	2007-03-17 20:00:39 UTC (rev 5054)
+++ branches/BRANCH_6-3/po/ca.po	2007-03-17 21:05:54 UTC (rev 5055)
@@ -6,7 +6,7 @@
 msgstr ""
 "Project-Id-Version: fetchmail 6.3.5-b1\n"
 "Report-Msgid-Bugs-To: fetchmail-devel at lists.berlios.de\n"
-"POT-Creation-Date: 2007-02-18 19:57+0100\n"
+"POT-Creation-Date: 2007-03-17 21:43+0100\n"
 "PO-Revision-Date: 2006-08-31 19:22+0200\n"
 "Last-Translator: Ernest Adrogu? Calveras <eadrogue at gmx.net>\n"
 "Language-Team: Catalan <ca at dodds.net>\n"
@@ -1777,7 +1777,7 @@
 msgid "%lu is unseen\n"
 msgstr "%lu ?s no llegit\n"
 
-#: imap.c:897 pop3.c:861
+#: imap.c:897 pop3.c:862
 #, c-format
 msgid "%u is first unseen\n"
 msgstr "%u ?s el primer missatge no llegit\n"
@@ -2336,42 +2336,42 @@
 msgid "Undefined protocol request in POP3_auth\n"
 msgstr "Petici? de protocol indefinida a POP3_auth\n"
 
-#: pop3.c:702
+#: pop3.c:703
 msgid "lock busy!  Is another session active?\n"
 msgstr "bloqueig temporal! Hi ha alguna altra sessi? activa?\n"
 
-#: pop3.c:781
+#: pop3.c:782
 msgid "Cannot handle UIDL response from upstream server.\n"
 msgstr "No s'ha pogut administrar la resposta UIDL del servidor remot.\n"
 
-#: pop3.c:804
+#: pop3.c:805
 msgid "Server responded with UID for wrong message.\n"
 msgstr "El servidor ha respost amb un UID pel missatge equivocat.\n"
 
-#: pop3.c:831 pop3.c:1077
+#: pop3.c:832 pop3.c:1078
 #, c-format
 msgid "id=%s (num=%d) was deleted, but is still present!\n"
 msgstr "id=%s (n?m=%d) s'ha esborrat, per? encara est? present!\n"
 
-#: pop3.c:840 pop3.c:852 pop3.c:1086 pop3.c:1093
+#: pop3.c:841 pop3.c:853 pop3.c:1087 pop3.c:1094
 #, c-format
 msgid "%u is unseen\n"
 msgstr "%u ?s no llegit\n"
 
-#: pop3.c:937
+#: pop3.c:938
 msgid "Messages inserted into list on server. Cannot handle this.\n"
 msgstr ""
 "Els missatges estan inserits a la llista del servidor. No es pot continuar.\n"
 
-#: pop3.c:1029
+#: pop3.c:1030
 msgid "protocol error\n"
 msgstr "error de protocol\n"
 
-#: pop3.c:1045
+#: pop3.c:1046
 msgid "protocol error while fetching UIDLs\n"
 msgstr "error de protocol quan es rebien els UIDLs\n"
 
-#: pop3.c:1415
+#: pop3.c:1416
 msgid "Option --folder is not supported with POP3\n"
 msgstr "L'opci? --folder no est? suportada per POP3\n"
 

Modified: branches/BRANCH_6-3/po/cs.po
===================================================================
--- branches/BRANCH_6-3/po/cs.po	2007-03-17 20:00:39 UTC (rev 5054)
+++ branches/BRANCH_6-3/po/cs.po	2007-03-17 21:05:54 UTC (rev 5055)
@@ -7,7 +7,7 @@
 msgstr ""
 "Project-Id-Version: fetchmail-6.2.6.alpha1\n"
 "Report-Msgid-Bugs-To: fetchmail-devel at lists.berlios.de\n"
-"POT-Creation-Date: 2007-02-18 19:57+0100\n"
+"POT-Creation-Date: 2007-03-17 21:43+0100\n"
 "PO-Revision-Date: 2005-07-03 03:57+0200\n"
 "Last-Translator: Miloslav Trmac <mitr at volny.cz>\n"
 "Language-Team: Czech <cs at li.org>\n"
@@ -1757,7 +1757,7 @@
 msgid "%lu is unseen\n"
 msgstr "%u nebyla p??e??tena\n"
 
-#: imap.c:897 pop3.c:861
+#: imap.c:897 pop3.c:862
 #, c-format
 msgid "%u is first unseen\n"
 msgstr "%u je prvn?? nep??e??ten??\n"
@@ -2300,41 +2300,41 @@
 msgid "Undefined protocol request in POP3_auth\n"
 msgstr "????dost o nedefinovan?? protokol v POP3_auth\n"
 
-#: pop3.c:702
+#: pop3.c:703
 msgid "lock busy!  Is another session active?\n"
 msgstr "zam??eno! Je aktivn?? jin?? sezen???\n"
 
-#: pop3.c:781
+#: pop3.c:782
 msgid "Cannot handle UIDL response from upstream server.\n"
 msgstr ""
 
-#: pop3.c:804
+#: pop3.c:805
 msgid "Server responded with UID for wrong message.\n"
 msgstr ""
 
-#: pop3.c:831 pop3.c:1077
+#: pop3.c:832 pop3.c:1078
 #, c-format
 msgid "id=%s (num=%d) was deleted, but is still present!\n"
 msgstr "id=%s (num=%d) bylo odstran??no, ale je st??le p????tomno!\n"
 
-#: pop3.c:840 pop3.c:852 pop3.c:1086 pop3.c:1093
+#: pop3.c:841 pop3.c:853 pop3.c:1087 pop3.c:1094
 #, c-format
 msgid "%u is unseen\n"
 msgstr "%u nebyla p??e??tena\n"
 
-#: pop3.c:937
+#: pop3.c:938
 msgid "Messages inserted into list on server. Cannot handle this.\n"
 msgstr "Zpr??vy vlo??eny do seznamu na serveru. To neum??m zpracovat.\n"
 
-#: pop3.c:1029
+#: pop3.c:1030
 msgid "protocol error\n"
 msgstr "chyba protokolu\n"
 
-#: pop3.c:1045
+#: pop3.c:1046
 msgid "protocol error while fetching UIDLs\n"
 msgstr "chyba protokolu p??i stahov??n?? UIDL\n"
 
-#: pop3.c:1415
+#: pop3.c:1416
 #, fuzzy
 msgid "Option --folder is not supported with POP3\n"
 msgstr "P??ep??na?? --remote nen?? s POP3 podporov??n\n"

Modified: branches/BRANCH_6-3/po/de.po
===================================================================
--- branches/BRANCH_6-3/po/de.po	2007-03-17 20:00:39 UTC (rev 5054)
+++ branches/BRANCH_6-3/po/de.po	2007-03-17 21:05:54 UTC (rev 5055)
@@ -8,7 +8,7 @@
 msgstr ""
 "Project-Id-Version: de\n"
 "Report-Msgid-Bugs-To: fetchmail-devel at lists.berlios.de\n"
-"POT-Creation-Date: 2007-02-18 19:57+0100\n"
+"POT-Creation-Date: 2007-03-17 21:43+0100\n"
 "PO-Revision-Date: 2006-11-27 04:32+0100\n"
 "Last-Translator: Matthias Andree <matthias.andree>\n"
 "Language-Team: Deutsch <de at li.org>\n"
@@ -1783,7 +1783,7 @@
 msgid "%lu is unseen\n"
 msgstr "%lu ist ungesehen\n"
 
-#: imap.c:897 pop3.c:861
+#: imap.c:897 pop3.c:862
 #, c-format
 msgid "%u is first unseen\n"
 msgstr "%u ist erste ungesehene\n"
@@ -2330,41 +2330,41 @@
 msgid "Undefined protocol request in POP3_auth\n"
 msgstr "Anfrage nach undefiniertem Protokoll in POP3_auth\n"
 
-#: pop3.c:702
+#: pop3.c:703
 msgid "lock busy!  Is another session active?\n"
 msgstr "Lock besch??ftigt!  Ist eine weitere Sitzung aktiv?\n"
 
-#: pop3.c:781
+#: pop3.c:782
 msgid "Cannot handle UIDL response from upstream server.\n"
 msgstr "Kann die UIDL-Antwort des Servers nicht verarbeiten.\n"
 
-#: pop3.c:804
+#: pop3.c:805
 msgid "Server responded with UID for wrong message.\n"
 msgstr "Server hat mit UID der falschen Nachricht geantwortet.\n"
 
-#: pop3.c:831 pop3.c:1077
+#: pop3.c:832 pop3.c:1078
 #, c-format
 msgid "id=%s (num=%d) was deleted, but is still present!\n"
 msgstr "id=%s (num=%d) wurde gel??scht, ist aber immer noch da!\n"
 
-#: pop3.c:840 pop3.c:852 pop3.c:1086 pop3.c:1093
+#: pop3.c:841 pop3.c:853 pop3.c:1087 pop3.c:1094
 #, c-format
 msgid "%u is unseen\n"
 msgstr "%u ist ungesehen\n"
 
-#: pop3.c:937
+#: pop3.c:938
 msgid "Messages inserted into list on server. Cannot handle this.\n"
 msgstr "Nachrichten in Liste auf Server eingef??gt. Kann damit nicht umgehen.\n"
 
-#: pop3.c:1029
+#: pop3.c:1030
 msgid "protocol error\n"
 msgstr "Protokollfehler\n"
 
-#: pop3.c:1045
+#: pop3.c:1046
 msgid "protocol error while fetching UIDLs\n"
 msgstr "Protokollfehler beim Holen der UIDL\n"
 
-#: pop3.c:1415
+#: pop3.c:1416
 msgid "Option --folder is not supported with POP3\n"
 msgstr "Option --folder wird mit POP3 nicht unterst??tzt\n"
 

Modified: branches/BRANCH_6-3/po/en_GB.po
===================================================================
--- branches/BRANCH_6-3/po/en_GB.po	2007-03-17 20:00:39 UTC (rev 5054)
+++ branches/BRANCH_6-3/po/en_GB.po	2007-03-17 21:05:54 UTC (rev 5055)
@@ -7,7 +7,7 @@
 msgstr ""
 "Project-Id-Version: fetchmail 6.3.5\n"
 "Report-Msgid-Bugs-To: fetchmail-devel at lists.berlios.de\n"
-"POT-Creation-Date: 2007-02-18 19:57+0100\n"
+"POT-Creation-Date: 2007-03-17 21:43+0100\n"
 "PO-Revision-Date: 2006-11-02 06:58-0000\n"
 "Last-Translator: David Lodge <dave at cirt.net>\n"
 "Language-Team: English (British) <en_gb at li.org>\n"
@@ -1716,7 +1716,7 @@
 msgid "%lu is unseen\n"
 msgstr "%lu is unseen\n"
 
-#: imap.c:897 pop3.c:861
+#: imap.c:897 pop3.c:862
 #, c-format
 msgid "%u is first unseen\n"
 msgstr "%u is first unseen\n"
@@ -2248,41 +2248,41 @@
 msgid "Undefined protocol request in POP3_auth\n"
 msgstr "Undefined protocol request in POP3_auth\n"
 
-#: pop3.c:702
+#: pop3.c:703
 msgid "lock busy!  Is another session active?\n"
 msgstr "lock busy!  Is another session active?\n"
 
-#: pop3.c:781
+#: pop3.c:782
 msgid "Cannot handle UIDL response from upstream server.\n"
 msgstr "Cannot handle UIDL response from upstream server.\n"
 
-#: pop3.c:804
+#: pop3.c:805
 msgid "Server responded with UID for wrong message.\n"
 msgstr "Server responded with UID for wrong message.\n"
 
-#: pop3.c:831 pop3.c:1077
+#: pop3.c:832 pop3.c:1078
 #, c-format
 msgid "id=%s (num=%d) was deleted, but is still present!\n"
 msgstr "id=%s (num=%d) was deleted, but is still present!\n"
 
-#: pop3.c:840 pop3.c:852 pop3.c:1086 pop3.c:1093
+#: pop3.c:841 pop3.c:853 pop3.c:1087 pop3.c:1094
 #, c-format
 msgid "%u is unseen\n"
 msgstr "%u is unseen\n"
 
-#: pop3.c:937
+#: pop3.c:938
 msgid "Messages inserted into list on server. Cannot handle this.\n"
 msgstr "Messages inserted into list on server. Cannot handle this.\n"
 
-#: pop3.c:1029
+#: pop3.c:1030
 msgid "protocol error\n"
 msgstr "protocol error\n"
 
-#: pop3.c:1045
+#: pop3.c:1046
 msgid "protocol error while fetching UIDLs\n"
 msgstr "protocol error while fetching UIDLs\n"
 
-#: pop3.c:1415
+#: pop3.c:1416
 msgid "Option --folder is not supported with POP3\n"
 msgstr "Option --folder is not supported with POP3\n"
 

Modified: branches/BRANCH_6-3/po/es.po
===================================================================
--- branches/BRANCH_6-3/po/es.po	2007-03-17 20:00:39 UTC (rev 5054)
+++ branches/BRANCH_6-3/po/es.po	2007-03-17 21:05:54 UTC (rev 5055)
@@ -11,7 +11,7 @@
 msgstr ""
 "Project-Id-Version: fetchmail 6.3.4-rc1\n"
 "Report-Msgid-Bugs-To: fetchmail-devel at lists.berlios.de\n"
-"POT-Creation-Date: 2007-02-18 19:57+0100\n"
+"POT-Creation-Date: 2007-03-17 21:43+0100\n"
 "PO-Revision-Date: 2006-09-15 11:52+0200\n"
 "Last-Translator: H??ctor Garc??a <hector at el-mundo.net>\n"
 "Language-Team: Spanish <es at li.org>\n"
@@ -1795,7 +1795,7 @@
 msgid "%lu is unseen\n"
 msgstr "%lu no fue visto\n"
 
-#: imap.c:897 pop3.c:861
+#: imap.c:897 pop3.c:862
 #, c-format
 msgid "%u is first unseen\n"
 msgstr "%u es el primero que no fue visto\n"
@@ -2361,42 +2361,42 @@
 msgid "Undefined protocol request in POP3_auth\n"
 msgstr "Pedido de protocolo indefinido en POP3_auth\n"
 
-#: pop3.c:702
+#: pop3.c:703
 msgid "lock busy!  Is another session active?\n"
 msgstr "??bloqueo ocupado! ??Hay otra sesi??n activa?\n"
 
-#: pop3.c:781
+#: pop3.c:782
 msgid "Cannot handle UIDL response from upstream server.\n"
 msgstr "No se puede manejar la respuesta UIDL proveniente del servidor.\n"
 
-#: pop3.c:804
+#: pop3.c:805
 msgid "Server responded with UID for wrong message.\n"
 msgstr "El servidor devolvi?? el UID de un mensaje incorrecto.\n"
 
-#: pop3.c:831 pop3.c:1077
+#: pop3.c:832 pop3.c:1078
 #, c-format
 msgid "id=%s (num=%d) was deleted, but is still present!\n"
 msgstr "id=%s (num=%d) fue borrado, ??pero a??n se encuentra presente!\n"
 
-#: pop3.c:840 pop3.c:852 pop3.c:1086 pop3.c:1093
+#: pop3.c:841 pop3.c:853 pop3.c:1087 pop3.c:1094
 #, c-format
 msgid "%u is unseen\n"
 msgstr "%u no fue visto\n"
 
-#: pop3.c:937
+#: pop3.c:938
 msgid "Messages inserted into list on server. Cannot handle this.\n"
 msgstr ""
 "Mensajes insertados en una lista en el servidor. No se puede manejar esto.\n"
 
-#: pop3.c:1029
+#: pop3.c:1030
 msgid "protocol error\n"
 msgstr "error de protocolo\n"
 
-#: pop3.c:1045
+#: pop3.c:1046
 msgid "protocol error while fetching UIDLs\n"
 msgstr "error de protocolo durante la recepci??n de UIDLs\n"
 
-#: pop3.c:1415
+#: pop3.c:1416
 msgid "Option --folder is not supported with POP3\n"
 msgstr "La opci??n --folder no est?? soportada con POP3\n"
 

Modified: branches/BRANCH_6-3/po/fr.po
===================================================================
--- branches/BRANCH_6-3/po/fr.po	2007-03-17 20:00:39 UTC (rev 5054)
+++ branches/BRANCH_6-3/po/fr.po	2007-03-17 21:05:54 UTC (rev 5055)
@@ -15,7 +15,7 @@
 msgstr ""
 "Project-Id-Version: fetchmail 6.2.9-rc9\n"
 "Report-Msgid-Bugs-To: fetchmail-devel at lists.berlios.de\n"
-"POT-Creation-Date: 2007-02-18 19:57+0100\n"
+"POT-Creation-Date: 2007-03-17 21:43+0100\n"
 "PO-Revision-Date: 2005-12-18 11:50+0100\n"
 "Last-Translator: Matthias Andree <matthias.andree at gmx.de>\n"
 "Language-Team: French <traduc at traduc.org>\n"
@@ -1801,7 +1801,7 @@
 msgid "%lu is unseen\n"
 msgstr "%lu n'est pas vu\n"
 
-#: imap.c:897 pop3.c:861
+#: imap.c:897 pop3.c:862
 #, c-format
 msgid "%u is first unseen\n"
 msgstr "%u est le premier a n'avoir pas ??t?? vu\n"
@@ -2359,41 +2359,41 @@
 msgid "Undefined protocol request in POP3_auth\n"
 msgstr "Requ??te de protocole ind??finie dans POP3_auth\n"
 
-#: pop3.c:702
+#: pop3.c:703
 msgid "lock busy!  Is another session active?\n"
 msgstr "Fichier verrou en service. Y'a-t-il une autre session active ?\n"
 
-#: pop3.c:781
+#: pop3.c:782
 msgid "Cannot handle UIDL response from upstream server.\n"
 msgstr "Ne peux pas manier la r??ponse UIDL du serveur.\n"
 
-#: pop3.c:804
+#: pop3.c:805
 msgid "Server responded with UID for wrong message.\n"
 msgstr "Serveur r??pondait avec UID d'un faux message.\n"
 
-#: pop3.c:831 pop3.c:1077
+#: pop3.c:832 pop3.c:1078
 #, c-format
 msgid "id=%s (num=%d) was deleted, but is still present!\n"
 msgstr "id=%s (num=%d) a ??t?? effac??, mais est toujours pr??sent !\n"
 
-#: pop3.c:840 pop3.c:852 pop3.c:1086 pop3.c:1093
+#: pop3.c:841 pop3.c:853 pop3.c:1087 pop3.c:1094
 #, c-format
 msgid "%u is unseen\n"
 msgstr "%u n'est pas vu\n"
 
-#: pop3.c:937
+#: pop3.c:938
 msgid "Messages inserted into list on server. Cannot handle this.\n"
 msgstr "Messages ins??r??s dans une liste du serveur. Impossible de g??rer ??a.\n"
 
-#: pop3.c:1029
+#: pop3.c:1030
 msgid "protocol error\n"
 msgstr "erreur de protocole\n"
 
-#: pop3.c:1045
+#: pop3.c:1046
 msgid "protocol error while fetching UIDLs\n"
 msgstr "erreur de protocole durant la r??ception des UIDLs\n"
 
-#: pop3.c:1415
+#: pop3.c:1416
 msgid "Option --folder is not supported with POP3\n"
 msgstr "L'option --folder n'est pas support??e avec POP3\n"
 

Modified: branches/BRANCH_6-3/po/ja.po
===================================================================
--- branches/BRANCH_6-3/po/ja.po	2007-03-17 20:00:39 UTC (rev 5054)
+++ branches/BRANCH_6-3/po/ja.po	2007-03-17 21:05:54 UTC (rev 5055)
@@ -8,7 +8,7 @@
 msgstr ""
 "Project-Id-Version: fetchmail 6.3.7-rc1\n"
 "Report-Msgid-Bugs-To: fetchmail-devel at lists.berlios.de\n"
-"POT-Creation-Date: 2007-02-18 19:57+0100\n"
+"POT-Creation-Date: 2007-03-17 21:43+0100\n"
 "PO-Revision-Date: 2007-02-06 00:08+0900\n"
 "Last-Translator: Takeshi Hamasaki <hma at syd.odn.ne.jp>\n"
 "Language-Team: Japanese <translation-team-ja at lists.sourceforge.net>\n"
@@ -1752,7 +1752,7 @@
 msgid "%lu is unseen\n"
 msgstr "%lu ??????????????????\n"
 
-#: imap.c:897 pop3.c:861
+#: imap.c:897 pop3.c:862
 #, c-format
 msgid "%u is first unseen\n"
 msgstr "%u ??????????????????????????????????????????\n"
@@ -2306,42 +2306,42 @@
 msgid "Undefined protocol request in POP3_auth\n"
 msgstr "POP3_auth ????????????????????????????????????????????????????????????????????????\n"
 
-#: pop3.c:702
+#: pop3.c:703
 msgid "lock busy!  Is another session active?\n"
 msgstr "lock busy ??????????????????????????????????????????????????????????????????????????????\n"
 
-#: pop3.c:781
+#: pop3.c:782
 msgid "Cannot handle UIDL response from upstream server.\n"
 msgstr "???????????????????????? UIDL ?????????????????????????????????\n"
 
-#: pop3.c:804
+#: pop3.c:805
 msgid "Server responded with UID for wrong message.\n"
 msgstr "??????????????????????????????????????? UID ????????????????????????\n"
 
-#: pop3.c:831 pop3.c:1077
+#: pop3.c:832 pop3.c:1078
 #, c-format
 msgid "id=%s (num=%d) was deleted, but is still present!\n"
 msgstr "id=%s (num=%d) ?????????????????????????????????????????????????????????!\n"
 
-#: pop3.c:840 pop3.c:852 pop3.c:1086 pop3.c:1093
+#: pop3.c:841 pop3.c:853 pop3.c:1087 pop3.c:1094
 #, c-format
 msgid "%u is unseen\n"
 msgstr "%u ??????????????????\n"
 
-#: pop3.c:937
+#: pop3.c:938
 msgid "Messages inserted into list on server. Cannot handle this.\n"
 msgstr ""
 "?????????????????????????????????????????????????????????????????????????????????????????????????????????\n"
 
-#: pop3.c:1029
+#: pop3.c:1030
 msgid "protocol error\n"
 msgstr "?????????????????????????????????\n"
 
-#: pop3.c:1045
+#: pop3.c:1046
 msgid "protocol error while fetching UIDLs\n"
 msgstr "UIDL ?????????????????????????????????????????????????????????????????????\n"
 
-#: pop3.c:1415
+#: pop3.c:1416
 msgid "Option --folder is not supported with POP3\n"
 msgstr "POP3 ?????? --folder ??????????????????????????????????????????\n"
 

Modified: branches/BRANCH_6-3/po/pl.po
===================================================================
--- branches/BRANCH_6-3/po/pl.po	2007-03-17 20:00:39 UTC (rev 5054)
+++ branches/BRANCH_6-3/po/pl.po	2007-03-17 21:05:54 UTC (rev 5055)
@@ -8,7 +8,7 @@
 msgstr ""
 "Project-Id-Version: fetchmail 6.3.7-rc1\n"
 "Report-Msgid-Bugs-To: fetchmail-devel at lists.berlios.de\n"
-"POT-Creation-Date: 2007-02-18 19:57+0100\n"
+"POT-Creation-Date: 2007-03-17 21:43+0100\n"
 "PO-Revision-Date: 2007-02-03 11:42+0100\n"
 "Last-Translator: Jakub Bogusz <qboosh at pld-linux.org>\n"
 "Language-Team: Polish <translation-team-pl at lists.sourceforge.net>\n"
@@ -1784,7 +1784,7 @@
 msgid "%lu is unseen\n"
 msgstr "%lu jest nieprzeczytany\n"
 
-#: imap.c:897 pop3.c:861
+#: imap.c:897 pop3.c:862
 #, c-format
 msgid "%u is first unseen\n"
 msgstr "%u jest pierwszym nieprzeczytanym\n"
@@ -2345,42 +2345,42 @@
 msgid "Undefined protocol request in POP3_auth\n"
 msgstr "Pro?ba o nieznany protok?? w POP3_auth\n"
 
-#: pop3.c:702
+#: pop3.c:703
 msgid "lock busy!  Is another session active?\n"
 msgstr "plik zablokowany! Czy inna sesja nie jest aktywna?\n"
 
-#: pop3.c:781
+#: pop3.c:782
 msgid "Cannot handle UIDL response from upstream server.\n"
 msgstr "Nie mo?na obs?u?y? odpowiedzi UIDL od serwera.\n"
 
-#: pop3.c:804
+#: pop3.c:805
 msgid "Server responded with UID for wrong message.\n"
 msgstr "Serwer odpowiedzia? z UID-em dla niew?a?ciwego listu.\n"
 
-#: pop3.c:831 pop3.c:1077
+#: pop3.c:832 pop3.c:1078
 #, c-format
 msgid "id=%s (num=%d) was deleted, but is still present!\n"
 msgstr "id=%s (num=%d) zosta? skasowany, ale nadal istnieje!\n"
 
-#: pop3.c:840 pop3.c:852 pop3.c:1086 pop3.c:1093
+#: pop3.c:841 pop3.c:853 pop3.c:1087 pop3.c:1094
 #, c-format
 msgid "%u is unseen\n"
 msgstr "%u jest nieprzeczytany\n"
 
-#: pop3.c:937
+#: pop3.c:938
 msgid "Messages inserted into list on server. Cannot handle this.\n"
 msgstr ""
 "Przesy?ki zosta?y dodane do listy na serwerze. Nie mog? tego obs?u?y?.\n"
 
-#: pop3.c:1029
+#: pop3.c:1030
 msgid "protocol error\n"
 msgstr "b??d protoko?u\n"
 
-#: pop3.c:1045
+#: pop3.c:1046
 msgid "protocol error while fetching UIDLs\n"
 msgstr "b??d protoko?u podczas pobierania UIDL\n"
 
-#: pop3.c:1415
+#: pop3.c:1416
 msgid "Option --folder is not supported with POP3\n"
 msgstr "Opcja --folder nie dzia?a z POP3\n"
 

Modified: branches/BRANCH_6-3/po/ru.po
===================================================================
--- branches/BRANCH_6-3/po/ru.po	2007-03-17 20:00:39 UTC (rev 5054)
+++ branches/BRANCH_6-3/po/ru.po	2007-03-17 21:05:54 UTC (rev 5055)
@@ -8,7 +8,7 @@
 msgstr ""
 "Project-Id-Version: fetchmail 6.3.6-rc3\n"
 "Report-Msgid-Bugs-To: fetchmail-devel at lists.berlios.de\n"
-"POT-Creation-Date: 2007-02-18 19:57+0100\n"
+"POT-Creation-Date: 2007-03-17 21:43+0100\n"
 "PO-Revision-Date: 2006-11-21 20:59+0200\n"
 "Last-Translator: Pavel Maryanov <acid_jack at ukr.net>\n"
 "Language-Team: Russian <ru at li.org>\n"
@@ -1772,7 +1772,7 @@
 msgid "%lu is unseen\n"
 msgstr "%lu ???? ??????????????????????\n"
 
-#: imap.c:897 pop3.c:861
+#: imap.c:897 pop3.c:862
 #, c-format
 msgid "%u is first unseen\n"
 msgstr "%u ???????????? ???? ??????????????????????????\n"
@@ -2332,41 +2332,41 @@
 msgid "Undefined protocol request in POP3_auth\n"
 msgstr "???????????????????????????? ???????????? ?????????????????? ?? POP3_auth\n"
 
-#: pop3.c:702
+#: pop3.c:703
 msgid "lock busy!  Is another session active?\n"
 msgstr "???????????????????? ??????????????????!  ?????????? ?????????????? ???????????? ???????????\n"
 
-#: pop3.c:781
+#: pop3.c:782
 msgid "Cannot handle UIDL response from upstream server.\n"
 msgstr "???????????????????? ???????????????????? UIDL-?????????? upstream-??????????????.\n"
 
-#: pop3.c:804
+#: pop3.c:805
 msgid "Server responded with UID for wrong message.\n"
 msgstr "???????????? ?????????????????? ?????????? ?? UID ?????? ?????????????????? ??????????????????.\n"
 
-#: pop3.c:831 pop3.c:1077
+#: pop3.c:832 pop3.c:1078
 #, c-format
 msgid "id=%s (num=%d) was deleted, but is still present!\n"
 msgstr "id=%s (??????????=%d) ???????? ??????????????, ???? ?????? ?????? ????????????????????????!\n"
 
-#: pop3.c:840 pop3.c:852 pop3.c:1086 pop3.c:1093
+#: pop3.c:841 pop3.c:853 pop3.c:1087 pop3.c:1094
 #, c-format
 msgid "%u is unseen\n"
 msgstr "%u ???? ??????????????????????\n"
 
-#: pop3.c:937
+#: pop3.c:938
 msgid "Messages inserted into list on server. Cannot handle this.\n"
 msgstr "?????????????????? ?????????????????? ?? ???????????? ???? ??????????????. ?????????????????? ????????????????????.\n"
 
-#: pop3.c:1029
+#: pop3.c:1030
 msgid "protocol error\n"
 msgstr "???????????? ??????????????????\n"
 
-#: pop3.c:1045
+#: pop3.c:1046
 msgid "protocol error while fetching UIDLs\n"
 msgstr "???????????? ?????????????????? ?????? ?????????????? UIDL'????\n"
 
-#: pop3.c:1415
+#: pop3.c:1416
 msgid "Option --folder is not supported with POP3\n"
 msgstr "?????????? --folder ???? ???????????????????????????? ?? POP3\n"
 

Modified: branches/BRANCH_6-3/po/sq.po
===================================================================
--- branches/BRANCH_6-3/po/sq.po	2007-03-17 20:00:39 UTC (rev 5054)
+++ branches/BRANCH_6-3/po/sq.po	2007-03-17 21:05:54 UTC (rev 5055)
@@ -7,7 +7,7 @@
 msgstr ""
 "Project-Id-Version: fetchmail 6.2.9-rc9\n"
 "Report-Msgid-Bugs-To: fetchmail-devel at lists.berlios.de\n"
-"POT-Creation-Date: 2007-02-18 19:57+0100\n"
+"POT-Creation-Date: 2007-03-17 21:43+0100\n"
 "PO-Revision-Date: 2005-11-18 22:25+0200\n"
 "Last-Translator: Besnik Bleta <besnik at spymac.com>\n"
 "Language-Team: Albanian <translation-team-sq at lists.sourceforge.net>\n"
@@ -1784,7 +1784,7 @@
 msgid "%lu is unseen\n"
 msgstr "%u ?sht? i pav?rejtur\n"
 
-#: imap.c:897 pop3.c:861
+#: imap.c:897 pop3.c:862
 #, c-format
 msgid "%u is first unseen\n"
 msgstr "%u ?sht? i pari i pav?rejtur\n"
@@ -2327,42 +2327,42 @@
 msgid "Undefined protocol request in POP3_auth\n"
 msgstr "K?rkes? protokolli e pap?rcaktuar n? POP3_auth\n"
 
-#: pop3.c:702
+#: pop3.c:703
 msgid "lock busy!  Is another session active?\n"
 msgstr ""
 
-#: pop3.c:781
+#: pop3.c:782
 msgid "Cannot handle UIDL response from upstream server.\n"
 msgstr ""
 
-#: pop3.c:804
+#: pop3.c:805
 msgid "Server responded with UID for wrong message.\n"
 msgstr "Sh?rbyesi u p?rgjigj me UID p?r mesazh t? gabuar.\n"
 
-#: pop3.c:831 pop3.c:1077
+#: pop3.c:832 pop3.c:1078
 #, fuzzy, c-format
 msgid "id=%s (num=%d) was deleted, but is still present!\n"
 msgstr "id=%s (num=%d) qe fshir?, por ?sht? ende i pranish?m!\n"
 
-#: pop3.c:840 pop3.c:852 pop3.c:1086 pop3.c:1093
+#: pop3.c:841 pop3.c:853 pop3.c:1087 pop3.c:1094
 #, c-format
 msgid "%u is unseen\n"
 msgstr "%u ?sht? i pav?rejtur\n"
 
-#: pop3.c:937
+#: pop3.c:938
 msgid "Messages inserted into list on server. Cannot handle this.\n"
 msgstr ""
 "Mesazhe t? futur n? nj? list? te sh?rbyesi. Nuk mund ta b?j dot k?t?.\n"
 
-#: pop3.c:1029
+#: pop3.c:1030
 msgid "protocol error\n"
 msgstr "gabim protokolli\n"
 
-#: pop3.c:1045
+#: pop3.c:1046
 msgid "protocol error while fetching UIDLs\n"
 msgstr "gabim protokolli gjat? sjelljes s? UIDL-ve\n"
 
-#: pop3.c:1415
+#: pop3.c:1416
 msgid "Option --folder is not supported with POP3\n"
 msgstr "Mund?sia --dosje nuk mbulohet me POP3\n"
 

Modified: branches/BRANCH_6-3/po/vi.po
===================================================================
--- branches/BRANCH_6-3/po/vi.po	2007-03-17 20:00:39 UTC (rev 5054)
+++ branches/BRANCH_6-3/po/vi.po	2007-03-17 21:05:54 UTC (rev 5055)
@@ -6,7 +6,7 @@
 msgstr ""
 "Project-Id-Version: fetchmail 6.3.6-rc4\n"
 "Report-Msgid-Bugs-To: fetchmail-devel at lists.berlios.de\n"
-"POT-Creation-Date: 2007-02-18 19:57+0100\n"
+"POT-Creation-Date: 2007-03-17 21:43+0100\n"
 "PO-Revision-Date: 2006-12-01 22:01+1030\n"
 "Last-Translator: Clytie Siddall <clytie at riverland.net.au>\n"
 "Language-Team: Vietnamese <vi-VN at googlegroups.com>\n"
@@ -1744,7 +1744,7 @@
 msgid "%lu is unseen\n"
 msgstr "%lu ch??a xem\n"
 
-#: imap.c:897 pop3.c:861
+#: imap.c:897 pop3.c:862
 #, c-format
 msgid "%u is first unseen\n"
 msgstr "%u l?? th?? ?????u ch??a xem\n"
@@ -2310,43 +2310,43 @@
 msgstr ""
 "G???p y??u c???u giao th???c kh??ng ???????c x??c ?????nh trong ?? POP3_auth ?? (x??c th???c)\n"
 
-#: pop3.c:702
+#: pop3.c:703
 msgid "lock busy!  Is another session active?\n"
 msgstr "kho?? b???n ! C?? phi??n ch???y kh??c ho???t ?????ng kh??ng?\n"
 
-#: pop3.c:781
+#: pop3.c:782
 msgid "Cannot handle UIDL response from upstream server.\n"
 msgstr "Kh??ng th??? x??? l?? ????p ???ng UIDL t??? m??y ph???c v??? ngu???n.\n"
 
-#: pop3.c:804
+#: pop3.c:805
 msgid "Server responded with UID for wrong message.\n"
 msgstr "M??y ph???c v??? ???? ????p ???ng UID cho th?? kh??ng ????ng.\n"
 
-#: pop3.c:831 pop3.c:1077
+#: pop3.c:832 pop3.c:1078
 #, c-format
 msgid "id=%s (num=%d) was deleted, but is still present!\n"
 msgstr "id=%s (s???=%d) ???? ???????c xo?? b???, nh??ng c??n c??.\n"
 
-#: pop3.c:840 pop3.c:852 pop3.c:1086 pop3.c:1093
+#: pop3.c:841 pop3.c:853 pop3.c:1087 pop3.c:1094
 #, c-format
 msgid "%u is unseen\n"
 msgstr "%u ch??a xem\n"
 
-#: pop3.c:937
+#: pop3.c:938
 msgid "Messages inserted into list on server. Cannot handle this.\n"
 msgstr ""
 "G???p th?? ???????c ch??n v??o danh s??ch tr??n m??y ph???c v???. Kh??ng th??? x??? l?? tr?????ng h???p "
 "n??y.\n"
 
-#: pop3.c:1029
+#: pop3.c:1030
 msgid "protocol error\n"
 msgstr "l???i giao th???c\n"
 
-#: pop3.c:1045
+#: pop3.c:1046
 msgid "protocol error while fetching UIDLs\n"
 msgstr "g???p l???i giao th???c khi l???y c??c UIDL\n"
 
-#: pop3.c:1415
+#: pop3.c:1416
 msgid "Option --folder is not supported with POP3\n"
 msgstr "Kh??ng h??? tr??? t??y ch???n ?? --folder ?? (th?? m???c) v???i POP3\n"
 



From svn at mknod.org  Sat Mar 17 22:09:44 2007
From: svn at mknod.org (svn at mknod.org)
Date: Sat, 17 Mar 2007 16:09:44 -0500 (CDT)
Subject: [fetchmail-svn] r5056 - tags
Message-ID: <20070317210944.C4AA6218057@mknod.org>

Author: m-a
Date: 2007-03-17 16:09:44 -0500 (Sat, 17 Mar 2007)
New Revision: 5056

Added:
   tags/SNAPSHOT_6-3-8-rc1/
Log:
Tagging 6.3.8-rc1.

Copied: tags/SNAPSHOT_6-3-8-rc1 (from rev 5055, branches/BRANCH_6-3)



From svn at mknod.org  Sun Mar 18 02:24:24 2007
From: svn at mknod.org (svn at mknod.org)
Date: Sat, 17 Mar 2007 20:24:24 -0500 (CDT)
Subject: [fetchmail-svn] r5057 - branches/BRANCH_6-3
Message-ID: <20070318012424.2B828218059@mknod.org>

Author: m-a
Date: 2007-03-17 20:24:22 -0500 (Sat, 17 Mar 2007)
New Revision: 5057

Added:
   branches/BRANCH_6-3/rfc822valid.c
Modified:
   branches/BRANCH_6-3/Makefile.am
   branches/BRANCH_6-3/NEWS
   branches/BRANCH_6-3/fetchmail.h
   branches/BRANCH_6-3/fetchmail.man
   branches/BRANCH_6-3/pop3.c
Log:
Strengthen APOP a bit (validate RFC-822 syntax) in order to fend off
Leurent-style MITM attacks which are based on MD5 and APOP weaknesses.

Modified: branches/BRANCH_6-3/Makefile.am
===================================================================
--- branches/BRANCH_6-3/Makefile.am	2007-03-17 21:09:44 UTC (rev 5056)
+++ branches/BRANCH_6-3/Makefile.am	2007-03-18 01:24:22 UTC (rev 5057)
@@ -39,7 +39,7 @@
 			servport.c ntlm.h smbbyteorder.h smbdes.h smbmd4.h \
 			smbencrypt.h smbdes.c smbencrypt.c smbmd4.c smbutil.c \
 			libesmtp/gethostbyname.h libesmtp/gethostbyname.c \
-			smbtypes.h fm_getaddrinfo.c tls.c
+			smbtypes.h fm_getaddrinfo.c tls.c rfc822valid.c
 libfm_a_LIBADD=		$(EXTRAOBJ)
 libfm_a_DEPENDENCIES=	$(EXTRAOBJ)
 LDADD	=		libfm.a @LIBINTL@ $(LIBOBJS)
@@ -100,12 +100,14 @@
 fetchmail_SOURCES += libesmtp/getaddrinfo.h libesmtp/getaddrinfo.c
 endif
 
-check_PROGRAMS +=	rfc822 unmime netrc rfc2047e mxget
+check_PROGRAMS +=	rfc822 unmime netrc rfc2047e mxget rfc822valid
 
 rfc2047e_CFLAGS=	-DTEST
 
-rfc822_CFLAGS=	-DMAIN
+rfc822valid_CFLAGS=	-DTEST
 
+rfc822_CFLAGS=		-DMAIN
+
 unmime_SOURCES=	unmime.c
 unmime_CFLAGS=	-DSTANDALONE -DHAVE_CONFIG_H -I$(builddir)
 

Modified: branches/BRANCH_6-3/NEWS
===================================================================
--- branches/BRANCH_6-3/NEWS	2007-03-17 21:09:44 UTC (rev 5056)
+++ branches/BRANCH_6-3/NEWS	2007-03-18 01:24:22 UTC (rev 5057)
@@ -44,6 +44,17 @@
 
 fetchmail 6.3.8 (not yet released):
 
+# SECURITY STRENGTHENING:
+* Make the APOP challenge parser more distrustful and have it reject challenges
+  that do not conform to RFC-822 msg-id format, in the hope to make mounting
+  man-in-the-middle attacks (MITM) against APOP a bit more difficult.
+
+  APOP is claimed insecure by Ga?tan Leurent for MITM scenarios for typical
+  setups: based on MD5 collisions, it is purportedly possible to recover the
+  first three characters of the shared secret (password), which would then make
+  recovery of the shared secret a matter of hours or minutes; this would then
+  enable the attacker to impersonate the client vis-?-vis the server.
+
 # BUG FIXES:
 * Fix pluralization of oversized-message warning mails.
 * Fix manual page: --sslcheck -> --sslcertck, and do not set trailing 

Modified: branches/BRANCH_6-3/fetchmail.h
===================================================================
--- branches/BRANCH_6-3/fetchmail.h	2007-03-17 21:09:44 UTC (rev 5056)
+++ branches/BRANCH_6-3/fetchmail.h	2007-03-18 01:24:22 UTC (rev 5057)
@@ -770,5 +770,8 @@
 int maybe_tls(struct query *ctl);
 int must_tls(struct query *ctl);
 
+/* prototype from rfc822valid.c */
+int rfc822_valid_msgid(const unsigned char *);
+
 #endif
 /* fetchmail.h ends here */

Modified: branches/BRANCH_6-3/fetchmail.man
===================================================================
--- branches/BRANCH_6-3/fetchmail.man	2007-03-17 21:09:44 UTC (rev 5056)
+++ branches/BRANCH_6-3/fetchmail.man	2007-03-18 01:24:22 UTC (rev 5057)
@@ -237,6 +237,7 @@
 Post Office Protocol 3
 .IP APOP
 Use POP3 with old-fashioned MD5-challenge authentication.
+Considered not resistant to man-in-the-middle attacks.
 .IP RPOP
 Use POP3 with RPOP authentication.
 .IP KPOP
@@ -978,15 +979,15 @@
 facility was vulnerable to spoofing and was withdrawn in RFC1460.
 .PP
 RFC1460 introduced APOP authentication.  In this variant of POP3,
-you register an APOP password on your server host (the program
-to do this with on the server is probably called \fIpopauth\fR(8)).  You
-put the same password in your
-.I ~/.fetchmailrc
-file.  Each time
-.I fetchmail
-logs in, it sends a cryptographically secure hash of your password and
-the server greeting time to the server, which can verify it by
-checking its authorization database.
+you register an APOP password on your server host (on some servers, the
+program to do this is called \fIpopauth\fR(8)).  You put the same
+password in your \fI~/.fetchmailrc\fP file.  Each time \fIfetchmail\fP
+logs in, it sends an MD5 hash of your password and the server greeting
+time to the server, which can verify it by checking its authorization
+database.
+
+\fBNote that APOP is no longer considered resistant against
+man-in-the-middle attacks.\fP
 .SS RETR or TOP
 .I fetchmail
 makes some efforts to make the server believe messages had not been

Modified: branches/BRANCH_6-3/pop3.c
===================================================================
--- branches/BRANCH_6-3/pop3.c	2007-03-17 21:09:44 UTC (rev 5056)
+++ branches/BRANCH_6-3/pop3.c	2007-03-18 01:24:22 UTC (rev 5057)
@@ -659,6 +659,20 @@
 	else
 	    *++end = '\0';
 
+	/* SECURITY: 2007-03-17
+	 * Strictly validating the presented challenge for RFC-822
+	 * conformity (it must be a msg-id in terms of that standard) is
+	 * supposed to make attacks against the MD5 implementation
+	 * harder[1]
+	 *
+	 * [1] "Security vulnerability in APOP authentication",
+	 *     Ga?tan Leurent, fetchmail-devel, 2007-03-17 */
+	if (!rfc822_valid_msgid((unsigned char *)start)) {
+	    report(stderr,
+		    GT_("Invalid APOP timestamp.\n"));
+	    return PS_AUTHFAIL;
+	}
+
 	/* copy timestamp and password into digestion buffer */
 	msg = xmalloc((end-start+1) + strlen(ctl->password) + 1);
 	strcpy(msg,start);

Added: branches/BRANCH_6-3/rfc822valid.c
===================================================================
--- branches/BRANCH_6-3/rfc822valid.c	2007-03-17 21:09:44 UTC (rev 5056)
+++ branches/BRANCH_6-3/rfc822valid.c	2007-03-18 01:24:22 UTC (rev 5057)
@@ -0,0 +1,140 @@
+/* rfc822valid.c -- validators for RFC-822 syntax
+ * (C) Copyright 2007 Matthias Andree <matthias.andree at gmx.de>
+ * GNU General Public License v2 */
+
+/* This works only on ASCII-based computers. */
+
+#include "fetchmail.h"
+#include <string.h>
+
+/* CHAR except specials, SPACE, CTLs */
+static const char *atomchar = "!#$%&'*+-/0123456789=?ABCDEFGHIJKLMNOPQRSTUVWXYZ^_`abcdefghijklmnopqrstuvwxyz{|}~";
+
+static int quotedpair(unsigned char const **x) {
+    if (**x != '\\') return 0;
+    ++ *x;
+    if ((int)* *x > 127 || * *x == '\0')
+	/* XXX FIXME: 0 is a legal CHAR, so the == '\0' is sort of bogus
+	 * above, but fetchmail does not currently deal with NUL inputs
+	 * so we don't need to make the distinction between
+	 * end-of-string and quoted NUL. */
+	return 0;
+    ++ *x;
+    return 1;
+}
+
+
+static int quotedstring(unsigned char const **x) {
+    if (* *x != '"') return 0;
+    ++ *x;
+    for(;;) {
+	switch (* *x) {
+	    case '"':
+		++ *x;
+		return 1;
+	    case '\\':
+		if (quotedpair(x) == 0) return 0;
+		continue;
+	    case '\r':
+	    case '\0':
+		return 0;
+	}
+	if ((int)* *x >= 128) {
+	    return 0;
+	}
+	++ *x;
+    }
+}
+
+static int atom(unsigned char const **x) {
+    /* atom */
+    if (strchr(atomchar, (const char)**x)) {
+	*x += strspn((const char *)*x, atomchar);
+	return 1;
+    }
+    /* invalid character */
+    return 0;
+}
+
+static int word(unsigned char const **x) {
+    if (**x == '"')
+	return quotedstring(x);
+    return atom(x);
+}
+
+static int domain_literal(unsigned char const **x) {
+    if (**x != '[') return 0;
+    ++ *x;
+    for(;;) {
+	switch (* *x) {
+	    case '\0':
+	    case '\r':
+	    case '[':
+		return 0;
+	    case ']':
+		++ *x;
+		return 1;
+	    case '\\':
+		if (quotedpair(x) == 0) return 0;
+		continue;
+	}
+	if ((int)* *x > 127) return 0;
+	++ *x;
+    }
+}
+
+static int subdomain(unsigned char const **x) {
+    if (* *x == '[') return domain_literal(x);
+    return atom(x);
+}
+
+int rfc822_valid_msgid(const unsigned char *x) {
+    /* expect "<" */
+    if (*x != '<') return 0;
+    ++ x;
+
+    /* expect local-part = word *("." word)
+     * where
+     * word = atom/quoted-string
+     * atom = 1*ATOMCHAR
+     * quoted-string = <"> *(qtext/quoted-pair) <">
+     * qtext = CHAR except ", \, CR
+     * quoted-pair = "\" CHAR
+     */
+    for(;;) {
+	if (word(&x) == 0) return 0;
+	if (*x == '.') { ++x; continue; }
+	if (*x == '@') break;
+	return 0;
+    }
+
+    /* expect "@" */
+    if (*x != '@') return 0;
+    ++ x;
+
+    /* expect domain = sub-domain *("." sub-domain)
+     * sub-domain = domain-ref/domain-literal
+     * domain-ref = atom
+     * domain-literal = "[" *(dtext/quoted-pair) "]" */
+    for(;;) {
+	if (subdomain(&x) == 0) return 0;
+	if (*x == '.') { ++x; continue; }
+	if (*x == '>') break;
+	return 0;
+    }
+
+    if (*x != '>') return 0;
+    return 1;
+}
+
+#ifdef TEST
+#include <stdio.h>
+
+int main(int argc, char **argv) {
+    int i;
+    for (i = 1; i < argc; i++) {
+	printf("%s: %s\n", argv[i], rfc822_valid_msgid((unsigned char *)argv[i]) ? "OK" : "INVALID");
+    }
+    return 0;
+}
+#endif



From svn at mknod.org  Sun Mar 18 02:47:36 2007
From: svn at mknod.org (svn at mknod.org)
Date: Sat, 17 Mar 2007 20:47:36 -0500 (CDT)
Subject: [fetchmail-svn] r5058 - branches/BRANCH_6-3
Message-ID: <20070318014736.BE6E6218059@mknod.org>

Author: m-a
Date: 2007-03-17 20:47:36 -0500 (Sat, 17 Mar 2007)
New Revision: 5058

Modified:
   branches/BRANCH_6-3/NEWS
Log:
Add pointer and reference on APOP attack.

Modified: branches/BRANCH_6-3/NEWS
===================================================================
--- branches/BRANCH_6-3/NEWS	2007-03-18 01:24:22 UTC (rev 5057)
+++ branches/BRANCH_6-3/NEWS	2007-03-18 01:47:36 UTC (rev 5058)
@@ -55,6 +55,13 @@
   recovery of the shared secret a matter of hours or minutes; this would then
   enable the attacker to impersonate the client vis-?-vis the server.
 
+  For further details, check
+  * Ga?tan Leurent, "Message Freedom in MD4 and MD5 Collisions: Application
+  to APOP", Fast Software Encryption 2007, Luxembourg. (Proceedings to appear in
+  Springer's Lecture Notes on Computer Science.)
+  * The mailing list discussion thread at
+  <http://lists.berlios.de/pipermail/fetchmail-devel/2007-March/000887.html>
+
 # BUG FIXES:
 * Fix pluralization of oversized-message warning mails.
 * Fix manual page: --sslcheck -> --sslcertck, and do not set trailing 



From svn at mknod.org  Sun Mar 18 03:11:05 2007
From: svn at mknod.org (svn at mknod.org)
Date: Sat, 17 Mar 2007 21:11:05 -0500 (CDT)
Subject: [fetchmail-svn] r5059 - branches/BRANCH_6-3
Message-ID: <20070318021105.9362E21805A@mknod.org>

Author: m-a
Date: 2007-03-17 21:11:05 -0500 (Sat, 17 Mar 2007)
New Revision: 5059

Modified:
   branches/BRANCH_6-3/TODO.txt
Log:
update

Modified: branches/BRANCH_6-3/TODO.txt
===================================================================
--- branches/BRANCH_6-3/TODO.txt	2007-03-18 01:47:36 UTC (rev 5058)
+++ branches/BRANCH_6-3/TODO.txt	2007-03-18 02:11:05 UTC (rev 5059)
@@ -25,6 +25,9 @@
 - when logging to syslog, disable locale?
 - check FAQ O5 - do we really prefer From: over envelope?!?
 - add code to allow safe authentication schemes if TLS fails
+- make APOP an authenticator, integrate with regular auto authentication
+  but stuff it at the end
+- use SASL?
 
 DOCUMENTATION:
 - Add info whether Keywords are global, server or user keywords



From svn at mknod.org  Mon Mar 19 13:02:21 2007
From: svn at mknod.org (svn at mknod.org)
Date: Mon, 19 Mar 2007 07:02:21 -0500 (CDT)
Subject: [fetchmail-svn] r5060 - branches/BRANCH_6-3
Message-ID: <20070319120221.906B1218061@mknod.org>

Author: m-a
Date: 2007-03-19 07:02:21 -0500 (Mon, 19 Mar 2007)
New Revision: 5060

Modified:
   branches/BRANCH_6-3/TODO.txt
Log:
Take note to disable socks by default.

Modified: branches/BRANCH_6-3/TODO.txt
===================================================================
--- branches/BRANCH_6-3/TODO.txt	2007-03-18 02:11:05 UTC (rev 5059)
+++ branches/BRANCH_6-3/TODO.txt	2007-03-19 12:02:21 UTC (rev 5060)
@@ -1,4 +1,5 @@
 6.4:
+- disable SOCKS by default
 - > b) When the envelope header is specified, but it isn't found, a
   > warning is logged and the mail is forwarded to the postmaster
   > ("WARNING: Envelope header $HEADER found, cannot identify the



From svn at mknod.org  Mon Mar 19 23:04:54 2007
From: svn at mknod.org (svn at mknod.org)
Date: Mon, 19 Mar 2007 17:04:54 -0500 (CDT)
Subject: [fetchmail-svn] r5061 - branches/BRANCH_6-3
Message-ID: <20070319220454.C67B6218062@mknod.org>

Author: m-a
Date: 2007-03-19 17:04:54 -0500 (Mon, 19 Mar 2007)
New Revision: 5061

Modified:
   branches/BRANCH_6-3/TODO.txt
Log:
Consider disabling SOCKS?

Modified: branches/BRANCH_6-3/TODO.txt
===================================================================
--- branches/BRANCH_6-3/TODO.txt	2007-03-19 12:02:21 UTC (rev 5060)
+++ branches/BRANCH_6-3/TODO.txt	2007-03-19 22:04:54 UTC (rev 5061)
@@ -1,5 +1,5 @@
 6.4:
-- disable SOCKS by default
+- disable SOCKS by default? Add hooks to do that?
 - > b) When the envelope header is specified, but it isn't found, a
   > warning is logged and the mail is forwarded to the postmaster
   > ("WARNING: Envelope header $HEADER found, cannot identify the



From svn at mknod.org  Mon Mar 19 23:06:53 2007
From: svn at mknod.org (svn at mknod.org)
Date: Mon, 19 Mar 2007 17:06:53 -0500 (CDT)
Subject: [fetchmail-svn] r5062 - in branches/BRANCH_6-3: . po
Message-ID: <20070319220653.7300A218062@mknod.org>

Author: m-a
Date: 2007-03-19 17:06:51 -0500 (Mon, 19 Mar 2007)
New Revision: 5062

Modified:
   branches/BRANCH_6-3/configure.ac
   branches/BRANCH_6-3/po/ca.po
   branches/BRANCH_6-3/po/cs.po
   branches/BRANCH_6-3/po/de.po
   branches/BRANCH_6-3/po/en_GB.po
   branches/BRANCH_6-3/po/es.po
   branches/BRANCH_6-3/po/fr.po
   branches/BRANCH_6-3/po/ja.po
   branches/BRANCH_6-3/po/pl.po
   branches/BRANCH_6-3/po/ru.po
   branches/BRANCH_6-3/po/sq.po
   branches/BRANCH_6-3/po/vi.po
Log:
Snapshot 6.3.8-rc2.

Modified: branches/BRANCH_6-3/configure.ac
===================================================================
--- branches/BRANCH_6-3/configure.ac	2007-03-19 22:04:54 UTC (rev 5061)
+++ branches/BRANCH_6-3/configure.ac	2007-03-19 22:06:51 UTC (rev 5062)
@@ -8,7 +8,7 @@
 dnl Process this file with autoconf to produce a configure script.
 dnl
 
-AC_INIT([fetchmail],[6.3.8-rc1],[fetchmail-users at lists.berlios.de])
+AC_INIT([fetchmail],[6.3.8-rc2],[fetchmail-users at lists.berlios.de])
 AC_CONFIG_SRCDIR([fetchmail.h])
 AC_CONFIG_HEADERS([config.h])
 AC_CONFIG_LIBOBJ_DIR([.])

Modified: branches/BRANCH_6-3/po/ca.po
===================================================================
--- branches/BRANCH_6-3/po/ca.po	2007-03-19 22:04:54 UTC (rev 5061)
+++ branches/BRANCH_6-3/po/ca.po	2007-03-19 22:06:51 UTC (rev 5062)
@@ -6,7 +6,7 @@
 msgstr ""
 "Project-Id-Version: fetchmail 6.3.5-b1\n"
 "Report-Msgid-Bugs-To: fetchmail-devel at lists.berlios.de\n"
-"POT-Creation-Date: 2007-03-17 21:43+0100\n"
+"POT-Creation-Date: 2007-03-18 02:13+0100\n"
 "PO-Revision-Date: 2006-08-31 19:22+0200\n"
 "Last-Translator: Ernest Adrogu? Calveras <eadrogue at gmx.net>\n"
 "Language-Team: Catalan <ca at dodds.net>\n"
@@ -1777,7 +1777,7 @@
 msgid "%lu is unseen\n"
 msgstr "%lu ?s no llegit\n"
 
-#: imap.c:897 pop3.c:862
+#: imap.c:897 pop3.c:876
 #, c-format
 msgid "%u is first unseen\n"
 msgstr "%u ?s el primer missatge no llegit\n"
@@ -2332,46 +2332,50 @@
 msgid "Timestamp syntax error in greeting\n"
 msgstr "Error de sintaxi en la marca hor?ria de la salutaci?\n"
 
-#: pop3.c:682
+#: pop3.c:672
+msgid "Invalid APOP timestamp.\n"
+msgstr ""
+
+#: pop3.c:696
 msgid "Undefined protocol request in POP3_auth\n"
 msgstr "Petici? de protocol indefinida a POP3_auth\n"
 
-#: pop3.c:703
+#: pop3.c:717
 msgid "lock busy!  Is another session active?\n"
 msgstr "bloqueig temporal! Hi ha alguna altra sessi? activa?\n"
 
-#: pop3.c:782
+#: pop3.c:796
 msgid "Cannot handle UIDL response from upstream server.\n"
 msgstr "No s'ha pogut administrar la resposta UIDL del servidor remot.\n"
 
-#: pop3.c:805
+#: pop3.c:819
 msgid "Server responded with UID for wrong message.\n"
 msgstr "El servidor ha respost amb un UID pel missatge equivocat.\n"
 
-#: pop3.c:832 pop3.c:1078
+#: pop3.c:846 pop3.c:1092
 #, c-format
 msgid "id=%s (num=%d) was deleted, but is still present!\n"
 msgstr "id=%s (n?m=%d) s'ha esborrat, per? encara est? present!\n"
 
-#: pop3.c:841 pop3.c:853 pop3.c:1087 pop3.c:1094
+#: pop3.c:855 pop3.c:867 pop3.c:1101 pop3.c:1108
 #, c-format
 msgid "%u is unseen\n"
 msgstr "%u ?s no llegit\n"
 
-#: pop3.c:938
+#: pop3.c:952
 msgid "Messages inserted into list on server. Cannot handle this.\n"
 msgstr ""
 "Els missatges estan inserits a la llista del servidor. No es pot continuar.\n"
 
-#: pop3.c:1030
+#: pop3.c:1044
 msgid "protocol error\n"
 msgstr "error de protocol\n"
 
-#: pop3.c:1046
+#: pop3.c:1060
 msgid "protocol error while fetching UIDLs\n"
 msgstr "error de protocol quan es rebien els UIDLs\n"
 
-#: pop3.c:1416
+#: pop3.c:1430
 msgid "Option --folder is not supported with POP3\n"
 msgstr "L'opci? --folder no est? suportada per POP3\n"
 

Modified: branches/BRANCH_6-3/po/cs.po
===================================================================
--- branches/BRANCH_6-3/po/cs.po	2007-03-19 22:04:54 UTC (rev 5061)
+++ branches/BRANCH_6-3/po/cs.po	2007-03-19 22:06:51 UTC (rev 5062)
@@ -7,7 +7,7 @@
 msgstr ""
 "Project-Id-Version: fetchmail-6.2.6.alpha1\n"
 "Report-Msgid-Bugs-To: fetchmail-devel at lists.berlios.de\n"
-"POT-Creation-Date: 2007-03-17 21:43+0100\n"
+"POT-Creation-Date: 2007-03-18 02:13+0100\n"
 "PO-Revision-Date: 2005-07-03 03:57+0200\n"
 "Last-Translator: Miloslav Trmac <mitr at volny.cz>\n"
 "Language-Team: Czech <cs at li.org>\n"
@@ -1757,7 +1757,7 @@
 msgid "%lu is unseen\n"
 msgstr "%u nebyla p??e??tena\n"
 
-#: imap.c:897 pop3.c:862
+#: imap.c:897 pop3.c:876
 #, c-format
 msgid "%u is first unseen\n"
 msgstr "%u je prvn?? nep??e??ten??\n"
@@ -2296,45 +2296,49 @@
 msgid "Timestamp syntax error in greeting\n"
 msgstr "Syntaktick?? chyba v ??asov??m ??daji z pozdravu\n"
 
-#: pop3.c:682
+#: pop3.c:672
+msgid "Invalid APOP timestamp.\n"
+msgstr ""
+
+#: pop3.c:696
 msgid "Undefined protocol request in POP3_auth\n"
 msgstr "????dost o nedefinovan?? protokol v POP3_auth\n"
 
-#: pop3.c:703
+#: pop3.c:717
 msgid "lock busy!  Is another session active?\n"
 msgstr "zam??eno! Je aktivn?? jin?? sezen???\n"
 
-#: pop3.c:782
+#: pop3.c:796
 msgid "Cannot handle UIDL response from upstream server.\n"
 msgstr ""
 
-#: pop3.c:805
+#: pop3.c:819
 msgid "Server responded with UID for wrong message.\n"
 msgstr ""
 
-#: pop3.c:832 pop3.c:1078
+#: pop3.c:846 pop3.c:1092
 #, c-format
 msgid "id=%s (num=%d) was deleted, but is still present!\n"
 msgstr "id=%s (num=%d) bylo odstran??no, ale je st??le p????tomno!\n"
 
-#: pop3.c:841 pop3.c:853 pop3.c:1087 pop3.c:1094
+#: pop3.c:855 pop3.c:867 pop3.c:1101 pop3.c:1108
 #, c-format
 msgid "%u is unseen\n"
 msgstr "%u nebyla p??e??tena\n"
 
-#: pop3.c:938
+#: pop3.c:952
 msgid "Messages inserted into list on server. Cannot handle this.\n"
 msgstr "Zpr??vy vlo??eny do seznamu na serveru. To neum??m zpracovat.\n"
 
-#: pop3.c:1030
+#: pop3.c:1044
 msgid "protocol error\n"
 msgstr "chyba protokolu\n"
 
-#: pop3.c:1046
+#: pop3.c:1060
 msgid "protocol error while fetching UIDLs\n"
 msgstr "chyba protokolu p??i stahov??n?? UIDL\n"
 
-#: pop3.c:1416
+#: pop3.c:1430
 #, fuzzy
 msgid "Option --folder is not supported with POP3\n"
 msgstr "P??ep??na?? --remote nen?? s POP3 podporov??n\n"

Modified: branches/BRANCH_6-3/po/de.po
===================================================================
--- branches/BRANCH_6-3/po/de.po	2007-03-19 22:04:54 UTC (rev 5061)
+++ branches/BRANCH_6-3/po/de.po	2007-03-19 22:06:51 UTC (rev 5062)
@@ -8,7 +8,7 @@
 msgstr ""
 "Project-Id-Version: de\n"
 "Report-Msgid-Bugs-To: fetchmail-devel at lists.berlios.de\n"
-"POT-Creation-Date: 2007-03-17 21:43+0100\n"
+"POT-Creation-Date: 2007-03-18 02:13+0100\n"
 "PO-Revision-Date: 2006-11-27 04:32+0100\n"
 "Last-Translator: Matthias Andree <matthias.andree>\n"
 "Language-Team: Deutsch <de at li.org>\n"
@@ -1783,7 +1783,7 @@
 msgid "%lu is unseen\n"
 msgstr "%lu ist ungesehen\n"
 
-#: imap.c:897 pop3.c:862
+#: imap.c:897 pop3.c:876
 #, c-format
 msgid "%u is first unseen\n"
 msgstr "%u ist erste ungesehene\n"
@@ -2326,45 +2326,49 @@
 msgid "Timestamp syntax error in greeting\n"
 msgstr "Zeitstempel-Syntax-Fehler in Begr????ung\n"
 
-#: pop3.c:682
+#: pop3.c:672
+msgid "Invalid APOP timestamp.\n"
+msgstr "Ung??ltiger APOP-Zeitstempel.\n"
+
+#: pop3.c:696
 msgid "Undefined protocol request in POP3_auth\n"
 msgstr "Anfrage nach undefiniertem Protokoll in POP3_auth\n"
 
-#: pop3.c:703
+#: pop3.c:717
 msgid "lock busy!  Is another session active?\n"
 msgstr "Lock besch??ftigt!  Ist eine weitere Sitzung aktiv?\n"
 
-#: pop3.c:782
+#: pop3.c:796
 msgid "Cannot handle UIDL response from upstream server.\n"
 msgstr "Kann die UIDL-Antwort des Servers nicht verarbeiten.\n"
 
-#: pop3.c:805
+#: pop3.c:819
 msgid "Server responded with UID for wrong message.\n"
 msgstr "Server hat mit UID der falschen Nachricht geantwortet.\n"
 
-#: pop3.c:832 pop3.c:1078
+#: pop3.c:846 pop3.c:1092
 #, c-format
 msgid "id=%s (num=%d) was deleted, but is still present!\n"
 msgstr "id=%s (num=%d) wurde gel??scht, ist aber immer noch da!\n"
 
-#: pop3.c:841 pop3.c:853 pop3.c:1087 pop3.c:1094
+#: pop3.c:855 pop3.c:867 pop3.c:1101 pop3.c:1108
 #, c-format
 msgid "%u is unseen\n"
 msgstr "%u ist ungesehen\n"
 
-#: pop3.c:938
+#: pop3.c:952
 msgid "Messages inserted into list on server. Cannot handle this.\n"
 msgstr "Nachrichten in Liste auf Server eingef??gt. Kann damit nicht umgehen.\n"
 
-#: pop3.c:1030
+#: pop3.c:1044
 msgid "protocol error\n"
 msgstr "Protokollfehler\n"
 
-#: pop3.c:1046
+#: pop3.c:1060
 msgid "protocol error while fetching UIDLs\n"
 msgstr "Protokollfehler beim Holen der UIDL\n"
 
-#: pop3.c:1416
+#: pop3.c:1430
 msgid "Option --folder is not supported with POP3\n"
 msgstr "Option --folder wird mit POP3 nicht unterst??tzt\n"
 

Modified: branches/BRANCH_6-3/po/en_GB.po
===================================================================
--- branches/BRANCH_6-3/po/en_GB.po	2007-03-19 22:04:54 UTC (rev 5061)
+++ branches/BRANCH_6-3/po/en_GB.po	2007-03-19 22:06:51 UTC (rev 5062)
@@ -7,7 +7,7 @@
 msgstr ""
 "Project-Id-Version: fetchmail 6.3.5\n"
 "Report-Msgid-Bugs-To: fetchmail-devel at lists.berlios.de\n"
-"POT-Creation-Date: 2007-03-17 21:43+0100\n"
+"POT-Creation-Date: 2007-03-18 02:13+0100\n"
 "PO-Revision-Date: 2006-11-02 06:58-0000\n"
 "Last-Translator: David Lodge <dave at cirt.net>\n"
 "Language-Team: English (British) <en_gb at li.org>\n"
@@ -1716,7 +1716,7 @@
 msgid "%lu is unseen\n"
 msgstr "%lu is unseen\n"
 
-#: imap.c:897 pop3.c:862
+#: imap.c:897 pop3.c:876
 #, c-format
 msgid "%u is first unseen\n"
 msgstr "%u is first unseen\n"
@@ -2244,45 +2244,49 @@
 msgid "Timestamp syntax error in greeting\n"
 msgstr "Timestamp syntax error in greeting\n"
 
-#: pop3.c:682
+#: pop3.c:672
+msgid "Invalid APOP timestamp.\n"
+msgstr "Invalid APOP timestamp.\n"
+
+#: pop3.c:696
 msgid "Undefined protocol request in POP3_auth\n"
 msgstr "Undefined protocol request in POP3_auth\n"
 
-#: pop3.c:703
+#: pop3.c:717
 msgid "lock busy!  Is another session active?\n"
 msgstr "lock busy!  Is another session active?\n"
 
-#: pop3.c:782
+#: pop3.c:796
 msgid "Cannot handle UIDL response from upstream server.\n"
 msgstr "Cannot handle UIDL response from upstream server.\n"
 
-#: pop3.c:805
+#: pop3.c:819
 msgid "Server responded with UID for wrong message.\n"
 msgstr "Server responded with UID for wrong message.\n"
 
-#: pop3.c:832 pop3.c:1078
+#: pop3.c:846 pop3.c:1092
 #, c-format
 msgid "id=%s (num=%d) was deleted, but is still present!\n"
 msgstr "id=%s (num=%d) was deleted, but is still present!\n"
 
-#: pop3.c:841 pop3.c:853 pop3.c:1087 pop3.c:1094
+#: pop3.c:855 pop3.c:867 pop3.c:1101 pop3.c:1108
 #, c-format
 msgid "%u is unseen\n"
 msgstr "%u is unseen\n"
 
-#: pop3.c:938
+#: pop3.c:952
 msgid "Messages inserted into list on server. Cannot handle this.\n"
 msgstr "Messages inserted into list on server. Cannot handle this.\n"
 
-#: pop3.c:1030
+#: pop3.c:1044
 msgid "protocol error\n"
 msgstr "protocol error\n"
 
-#: pop3.c:1046
+#: pop3.c:1060
 msgid "protocol error while fetching UIDLs\n"
 msgstr "protocol error while fetching UIDLs\n"
 
-#: pop3.c:1416
+#: pop3.c:1430
 msgid "Option --folder is not supported with POP3\n"
 msgstr "Option --folder is not supported with POP3\n"
 

Modified: branches/BRANCH_6-3/po/es.po
===================================================================
--- branches/BRANCH_6-3/po/es.po	2007-03-19 22:04:54 UTC (rev 5061)
+++ branches/BRANCH_6-3/po/es.po	2007-03-19 22:06:51 UTC (rev 5062)
@@ -11,7 +11,7 @@
 msgstr ""
 "Project-Id-Version: fetchmail 6.3.4-rc1\n"
 "Report-Msgid-Bugs-To: fetchmail-devel at lists.berlios.de\n"
-"POT-Creation-Date: 2007-03-17 21:43+0100\n"
+"POT-Creation-Date: 2007-03-18 02:13+0100\n"
 "PO-Revision-Date: 2006-09-15 11:52+0200\n"
 "Last-Translator: H??ctor Garc??a <hector at el-mundo.net>\n"
 "Language-Team: Spanish <es at li.org>\n"
@@ -1795,7 +1795,7 @@
 msgid "%lu is unseen\n"
 msgstr "%lu no fue visto\n"
 
-#: imap.c:897 pop3.c:862
+#: imap.c:897 pop3.c:876
 #, c-format
 msgid "%u is first unseen\n"
 msgstr "%u es el primero que no fue visto\n"
@@ -2357,46 +2357,50 @@
 msgid "Timestamp syntax error in greeting\n"
 msgstr "Error de sintaxis en la estampa de tiempo en el saludo\n"
 
-#: pop3.c:682
+#: pop3.c:672
+msgid "Invalid APOP timestamp.\n"
+msgstr ""
+
+#: pop3.c:696
 msgid "Undefined protocol request in POP3_auth\n"
 msgstr "Pedido de protocolo indefinido en POP3_auth\n"
 
-#: pop3.c:703
+#: pop3.c:717
 msgid "lock busy!  Is another session active?\n"
 msgstr "??bloqueo ocupado! ??Hay otra sesi??n activa?\n"
 
-#: pop3.c:782
+#: pop3.c:796
 msgid "Cannot handle UIDL response from upstream server.\n"
 msgstr "No se puede manejar la respuesta UIDL proveniente del servidor.\n"
 
-#: pop3.c:805
+#: pop3.c:819
 msgid "Server responded with UID for wrong message.\n"
 msgstr "El servidor devolvi?? el UID de un mensaje incorrecto.\n"
 
-#: pop3.c:832 pop3.c:1078
+#: pop3.c:846 pop3.c:1092
 #, c-format
 msgid "id=%s (num=%d) was deleted, but is still present!\n"
 msgstr "id=%s (num=%d) fue borrado, ??pero a??n se encuentra presente!\n"
 
-#: pop3.c:841 pop3.c:853 pop3.c:1087 pop3.c:1094
+#: pop3.c:855 pop3.c:867 pop3.c:1101 pop3.c:1108
 #, c-format
 msgid "%u is unseen\n"
 msgstr "%u no fue visto\n"
 
-#: pop3.c:938
+#: pop3.c:952
 msgid "Messages inserted into list on server. Cannot handle this.\n"
 msgstr ""
 "Mensajes insertados en una lista en el servidor. No se puede manejar esto.\n"
 
-#: pop3.c:1030
+#: pop3.c:1044
 msgid "protocol error\n"
 msgstr "error de protocolo\n"
 
-#: pop3.c:1046
+#: pop3.c:1060
 msgid "protocol error while fetching UIDLs\n"
 msgstr "error de protocolo durante la recepci??n de UIDLs\n"
 
-#: pop3.c:1416
+#: pop3.c:1430
 msgid "Option --folder is not supported with POP3\n"
 msgstr "La opci??n --folder no est?? soportada con POP3\n"
 

Modified: branches/BRANCH_6-3/po/fr.po
===================================================================
--- branches/BRANCH_6-3/po/fr.po	2007-03-19 22:04:54 UTC (rev 5061)
+++ branches/BRANCH_6-3/po/fr.po	2007-03-19 22:06:51 UTC (rev 5062)
@@ -15,7 +15,7 @@
 msgstr ""
 "Project-Id-Version: fetchmail 6.2.9-rc9\n"
 "Report-Msgid-Bugs-To: fetchmail-devel at lists.berlios.de\n"
-"POT-Creation-Date: 2007-03-17 21:43+0100\n"
+"POT-Creation-Date: 2007-03-18 02:13+0100\n"
 "PO-Revision-Date: 2005-12-18 11:50+0100\n"
 "Last-Translator: Matthias Andree <matthias.andree at gmx.de>\n"
 "Language-Team: French <traduc at traduc.org>\n"
@@ -1801,7 +1801,7 @@
 msgid "%lu is unseen\n"
 msgstr "%lu n'est pas vu\n"
 
-#: imap.c:897 pop3.c:862
+#: imap.c:897 pop3.c:876
 #, c-format
 msgid "%u is first unseen\n"
 msgstr "%u est le premier a n'avoir pas ??t?? vu\n"
@@ -2355,45 +2355,49 @@
 msgid "Timestamp syntax error in greeting\n"
 msgstr "Erreur de syntaxe dans l'horodatage du message d'invitation\n"
 
-#: pop3.c:682
+#: pop3.c:672
+msgid "Invalid APOP timestamp.\n"
+msgstr "L'horodatage APOP est invalide.\n"
+
+#: pop3.c:696
 msgid "Undefined protocol request in POP3_auth\n"
 msgstr "Requ??te de protocole ind??finie dans POP3_auth\n"
 
-#: pop3.c:703
+#: pop3.c:717
 msgid "lock busy!  Is another session active?\n"
 msgstr "Fichier verrou en service. Y'a-t-il une autre session active ?\n"
 
-#: pop3.c:782
+#: pop3.c:796
 msgid "Cannot handle UIDL response from upstream server.\n"
 msgstr "Ne peux pas manier la r??ponse UIDL du serveur.\n"
 
-#: pop3.c:805
+#: pop3.c:819
 msgid "Server responded with UID for wrong message.\n"
 msgstr "Serveur r??pondait avec UID d'un faux message.\n"
 
-#: pop3.c:832 pop3.c:1078
+#: pop3.c:846 pop3.c:1092
 #, c-format
 msgid "id=%s (num=%d) was deleted, but is still present!\n"
 msgstr "id=%s (num=%d) a ??t?? effac??, mais est toujours pr??sent !\n"
 
-#: pop3.c:841 pop3.c:853 pop3.c:1087 pop3.c:1094
+#: pop3.c:855 pop3.c:867 pop3.c:1101 pop3.c:1108
 #, c-format
 msgid "%u is unseen\n"
 msgstr "%u n'est pas vu\n"
 
-#: pop3.c:938
+#: pop3.c:952
 msgid "Messages inserted into list on server. Cannot handle this.\n"
 msgstr "Messages ins??r??s dans une liste du serveur. Impossible de g??rer ??a.\n"
 
-#: pop3.c:1030
+#: pop3.c:1044
 msgid "protocol error\n"
 msgstr "erreur de protocole\n"
 
-#: pop3.c:1046
+#: pop3.c:1060
 msgid "protocol error while fetching UIDLs\n"
 msgstr "erreur de protocole durant la r??ception des UIDLs\n"
 
-#: pop3.c:1416
+#: pop3.c:1430
 msgid "Option --folder is not supported with POP3\n"
 msgstr "L'option --folder n'est pas support??e avec POP3\n"
 

Modified: branches/BRANCH_6-3/po/ja.po
===================================================================
--- branches/BRANCH_6-3/po/ja.po	2007-03-19 22:04:54 UTC (rev 5061)
+++ branches/BRANCH_6-3/po/ja.po	2007-03-19 22:06:51 UTC (rev 5062)
@@ -8,7 +8,7 @@
 msgstr ""
 "Project-Id-Version: fetchmail 6.3.7-rc1\n"
 "Report-Msgid-Bugs-To: fetchmail-devel at lists.berlios.de\n"
-"POT-Creation-Date: 2007-03-17 21:43+0100\n"
+"POT-Creation-Date: 2007-03-18 02:13+0100\n"
 "PO-Revision-Date: 2007-02-06 00:08+0900\n"
 "Last-Translator: Takeshi Hamasaki <hma at syd.odn.ne.jp>\n"
 "Language-Team: Japanese <translation-team-ja at lists.sourceforge.net>\n"
@@ -1752,7 +1752,7 @@
 msgid "%lu is unseen\n"
 msgstr "%lu ??????????????????\n"
 
-#: imap.c:897 pop3.c:862
+#: imap.c:897 pop3.c:876
 #, c-format
 msgid "%u is first unseen\n"
 msgstr "%u ??????????????????????????????????????????\n"
@@ -2302,46 +2302,50 @@
 msgid "Timestamp syntax error in greeting\n"
 msgstr "greeting ?????? timestamp ??????????????????\n"
 
-#: pop3.c:682
+#: pop3.c:672
+msgid "Invalid APOP timestamp.\n"
+msgstr ""
+
+#: pop3.c:696
 msgid "Undefined protocol request in POP3_auth\n"
 msgstr "POP3_auth ????????????????????????????????????????????????????????????????????????\n"
 
-#: pop3.c:703
+#: pop3.c:717
 msgid "lock busy!  Is another session active?\n"
 msgstr "lock busy ??????????????????????????????????????????????????????????????????????????????\n"
 
-#: pop3.c:782
+#: pop3.c:796
 msgid "Cannot handle UIDL response from upstream server.\n"
 msgstr "???????????????????????? UIDL ?????????????????????????????????\n"
 
-#: pop3.c:805
+#: pop3.c:819
 msgid "Server responded with UID for wrong message.\n"
 msgstr "??????????????????????????????????????? UID ????????????????????????\n"
 
-#: pop3.c:832 pop3.c:1078
+#: pop3.c:846 pop3.c:1092
 #, c-format
 msgid "id=%s (num=%d) was deleted, but is still present!\n"
 msgstr "id=%s (num=%d) ?????????????????????????????????????????????????????????!\n"
 
-#: pop3.c:841 pop3.c:853 pop3.c:1087 pop3.c:1094
+#: pop3.c:855 pop3.c:867 pop3.c:1101 pop3.c:1108
 #, c-format
 msgid "%u is unseen\n"
 msgstr "%u ??????????????????\n"
 
-#: pop3.c:938
+#: pop3.c:952
 msgid "Messages inserted into list on server. Cannot handle this.\n"
 msgstr ""
 "?????????????????????????????????????????????????????????????????????????????????????????????????????????\n"
 
-#: pop3.c:1030
+#: pop3.c:1044
 msgid "protocol error\n"
 msgstr "?????????????????????????????????\n"
 
-#: pop3.c:1046
+#: pop3.c:1060
 msgid "protocol error while fetching UIDLs\n"
 msgstr "UIDL ?????????????????????????????????????????????????????????????????????\n"
 
-#: pop3.c:1416
+#: pop3.c:1430
 msgid "Option --folder is not supported with POP3\n"
 msgstr "POP3 ?????? --folder ??????????????????????????????????????????\n"
 

Modified: branches/BRANCH_6-3/po/pl.po
===================================================================
--- branches/BRANCH_6-3/po/pl.po	2007-03-19 22:04:54 UTC (rev 5061)
+++ branches/BRANCH_6-3/po/pl.po	2007-03-19 22:06:51 UTC (rev 5062)
@@ -8,7 +8,7 @@
 msgstr ""
 "Project-Id-Version: fetchmail 6.3.7-rc1\n"
 "Report-Msgid-Bugs-To: fetchmail-devel at lists.berlios.de\n"
-"POT-Creation-Date: 2007-03-17 21:43+0100\n"
+"POT-Creation-Date: 2007-03-18 02:13+0100\n"
 "PO-Revision-Date: 2007-02-03 11:42+0100\n"
 "Last-Translator: Jakub Bogusz <qboosh at pld-linux.org>\n"
 "Language-Team: Polish <translation-team-pl at lists.sourceforge.net>\n"
@@ -1784,7 +1784,7 @@
 msgid "%lu is unseen\n"
 msgstr "%lu jest nieprzeczytany\n"
 
-#: imap.c:897 pop3.c:862
+#: imap.c:897 pop3.c:876
 #, c-format
 msgid "%u is first unseen\n"
 msgstr "%u jest pierwszym nieprzeczytanym\n"
@@ -2341,46 +2341,50 @@
 msgid "Timestamp syntax error in greeting\n"
 msgstr "B??d sk?adni znacznika czasu w powitaniu\n"
 
-#: pop3.c:682
+#: pop3.c:672
+msgid "Invalid APOP timestamp.\n"
+msgstr ""
+
+#: pop3.c:696
 msgid "Undefined protocol request in POP3_auth\n"
 msgstr "Pro?ba o nieznany protok?? w POP3_auth\n"
 
-#: pop3.c:703
+#: pop3.c:717
 msgid "lock busy!  Is another session active?\n"
 msgstr "plik zablokowany! Czy inna sesja nie jest aktywna?\n"
 
-#: pop3.c:782
+#: pop3.c:796
 msgid "Cannot handle UIDL response from upstream server.\n"
 msgstr "Nie mo?na obs?u?y? odpowiedzi UIDL od serwera.\n"
 
-#: pop3.c:805
+#: pop3.c:819
 msgid "Server responded with UID for wrong message.\n"
 msgstr "Serwer odpowiedzia? z UID-em dla niew?a?ciwego listu.\n"
 
-#: pop3.c:832 pop3.c:1078
+#: pop3.c:846 pop3.c:1092
 #, c-format
 msgid "id=%s (num=%d) was deleted, but is still present!\n"
 msgstr "id=%s (num=%d) zosta? skasowany, ale nadal istnieje!\n"
 
-#: pop3.c:841 pop3.c:853 pop3.c:1087 pop3.c:1094
+#: pop3.c:855 pop3.c:867 pop3.c:1101 pop3.c:1108
 #, c-format
 msgid "%u is unseen\n"
 msgstr "%u jest nieprzeczytany\n"
 
-#: pop3.c:938
+#: pop3.c:952
 msgid "Messages inserted into list on server. Cannot handle this.\n"
 msgstr ""
 "Przesy?ki zosta?y dodane do listy na serwerze. Nie mog? tego obs?u?y?.\n"
 
-#: pop3.c:1030
+#: pop3.c:1044
 msgid "protocol error\n"
 msgstr "b??d protoko?u\n"
 
-#: pop3.c:1046
+#: pop3.c:1060
 msgid "protocol error while fetching UIDLs\n"
 msgstr "b??d protoko?u podczas pobierania UIDL\n"
 
-#: pop3.c:1416
+#: pop3.c:1430
 msgid "Option --folder is not supported with POP3\n"
 msgstr "Opcja --folder nie dzia?a z POP3\n"
 

Modified: branches/BRANCH_6-3/po/ru.po
===================================================================
--- branches/BRANCH_6-3/po/ru.po	2007-03-19 22:04:54 UTC (rev 5061)
+++ branches/BRANCH_6-3/po/ru.po	2007-03-19 22:06:51 UTC (rev 5062)
@@ -8,7 +8,7 @@
 msgstr ""
 "Project-Id-Version: fetchmail 6.3.6-rc3\n"
 "Report-Msgid-Bugs-To: fetchmail-devel at lists.berlios.de\n"
-"POT-Creation-Date: 2007-03-17 21:43+0100\n"
+"POT-Creation-Date: 2007-03-18 02:13+0100\n"
 "PO-Revision-Date: 2006-11-21 20:59+0200\n"
 "Last-Translator: Pavel Maryanov <acid_jack at ukr.net>\n"
 "Language-Team: Russian <ru at li.org>\n"
@@ -1772,7 +1772,7 @@
 msgid "%lu is unseen\n"
 msgstr "%lu ???? ??????????????????????\n"
 
-#: imap.c:897 pop3.c:862
+#: imap.c:897 pop3.c:876
 #, c-format
 msgid "%u is first unseen\n"
 msgstr "%u ???????????? ???? ??????????????????????????\n"
@@ -2328,45 +2328,49 @@
 msgid "Timestamp syntax error in greeting\n"
 msgstr "?? ?????????????????????? ???????????? ???????????????????? ?????????????????? ??????????\n"
 
-#: pop3.c:682
+#: pop3.c:672
+msgid "Invalid APOP timestamp.\n"
+msgstr ""
+
+#: pop3.c:696
 msgid "Undefined protocol request in POP3_auth\n"
 msgstr "???????????????????????????? ???????????? ?????????????????? ?? POP3_auth\n"
 
-#: pop3.c:703
+#: pop3.c:717
 msgid "lock busy!  Is another session active?\n"
 msgstr "???????????????????? ??????????????????!  ?????????? ?????????????? ???????????? ???????????\n"
 
-#: pop3.c:782
+#: pop3.c:796
 msgid "Cannot handle UIDL response from upstream server.\n"
 msgstr "???????????????????? ???????????????????? UIDL-?????????? upstream-??????????????.\n"
 
-#: pop3.c:805
+#: pop3.c:819
 msgid "Server responded with UID for wrong message.\n"
 msgstr "???????????? ?????????????????? ?????????? ?? UID ?????? ?????????????????? ??????????????????.\n"
 
-#: pop3.c:832 pop3.c:1078
+#: pop3.c:846 pop3.c:1092
 #, c-format
 msgid "id=%s (num=%d) was deleted, but is still present!\n"
 msgstr "id=%s (??????????=%d) ???????? ??????????????, ???? ?????? ?????? ????????????????????????!\n"
 
-#: pop3.c:841 pop3.c:853 pop3.c:1087 pop3.c:1094
+#: pop3.c:855 pop3.c:867 pop3.c:1101 pop3.c:1108
 #, c-format
 msgid "%u is unseen\n"
 msgstr "%u ???? ??????????????????????\n"
 
-#: pop3.c:938
+#: pop3.c:952
 msgid "Messages inserted into list on server. Cannot handle this.\n"
 msgstr "?????????????????? ?????????????????? ?? ???????????? ???? ??????????????. ?????????????????? ????????????????????.\n"
 
-#: pop3.c:1030
+#: pop3.c:1044
 msgid "protocol error\n"
 msgstr "???????????? ??????????????????\n"
 
-#: pop3.c:1046
+#: pop3.c:1060
 msgid "protocol error while fetching UIDLs\n"
 msgstr "???????????? ?????????????????? ?????? ?????????????? UIDL'????\n"
 
-#: pop3.c:1416
+#: pop3.c:1430
 msgid "Option --folder is not supported with POP3\n"
 msgstr "?????????? --folder ???? ???????????????????????????? ?? POP3\n"
 

Modified: branches/BRANCH_6-3/po/sq.po
===================================================================
--- branches/BRANCH_6-3/po/sq.po	2007-03-19 22:04:54 UTC (rev 5061)
+++ branches/BRANCH_6-3/po/sq.po	2007-03-19 22:06:51 UTC (rev 5062)
@@ -7,7 +7,7 @@
 msgstr ""
 "Project-Id-Version: fetchmail 6.2.9-rc9\n"
 "Report-Msgid-Bugs-To: fetchmail-devel at lists.berlios.de\n"
-"POT-Creation-Date: 2007-03-17 21:43+0100\n"
+"POT-Creation-Date: 2007-03-18 02:13+0100\n"
 "PO-Revision-Date: 2005-11-18 22:25+0200\n"
 "Last-Translator: Besnik Bleta <besnik at spymac.com>\n"
 "Language-Team: Albanian <translation-team-sq at lists.sourceforge.net>\n"
@@ -1784,7 +1784,7 @@
 msgid "%lu is unseen\n"
 msgstr "%u ?sht? i pav?rejtur\n"
 
-#: imap.c:897 pop3.c:862
+#: imap.c:897 pop3.c:876
 #, c-format
 msgid "%u is first unseen\n"
 msgstr "%u ?sht? i pari i pav?rejtur\n"
@@ -2323,46 +2323,50 @@
 msgid "Timestamp syntax error in greeting\n"
 msgstr "Gabim sintakse vule kohore n? p?rsh?ndetje\n"
 
-#: pop3.c:682
+#: pop3.c:672
+msgid "Invalid APOP timestamp.\n"
+msgstr ""
+
+#: pop3.c:696
 msgid "Undefined protocol request in POP3_auth\n"
 msgstr "K?rkes? protokolli e pap?rcaktuar n? POP3_auth\n"
 
-#: pop3.c:703
+#: pop3.c:717
 msgid "lock busy!  Is another session active?\n"
 msgstr ""
 
-#: pop3.c:782
+#: pop3.c:796
 msgid "Cannot handle UIDL response from upstream server.\n"
 msgstr ""
 
-#: pop3.c:805
+#: pop3.c:819
 msgid "Server responded with UID for wrong message.\n"
 msgstr "Sh?rbyesi u p?rgjigj me UID p?r mesazh t? gabuar.\n"
 
-#: pop3.c:832 pop3.c:1078
+#: pop3.c:846 pop3.c:1092
 #, fuzzy, c-format
 msgid "id=%s (num=%d) was deleted, but is still present!\n"
 msgstr "id=%s (num=%d) qe fshir?, por ?sht? ende i pranish?m!\n"
 
-#: pop3.c:841 pop3.c:853 pop3.c:1087 pop3.c:1094
+#: pop3.c:855 pop3.c:867 pop3.c:1101 pop3.c:1108
 #, c-format
 msgid "%u is unseen\n"
 msgstr "%u ?sht? i pav?rejtur\n"
 
-#: pop3.c:938
+#: pop3.c:952
 msgid "Messages inserted into list on server. Cannot handle this.\n"
 msgstr ""
 "Mesazhe t? futur n? nj? list? te sh?rbyesi. Nuk mund ta b?j dot k?t?.\n"
 
-#: pop3.c:1030
+#: pop3.c:1044
 msgid "protocol error\n"
 msgstr "gabim protokolli\n"
 
-#: pop3.c:1046
+#: pop3.c:1060
 msgid "protocol error while fetching UIDLs\n"
 msgstr "gabim protokolli gjat? sjelljes s? UIDL-ve\n"
 
-#: pop3.c:1416
+#: pop3.c:1430
 msgid "Option --folder is not supported with POP3\n"
 msgstr "Mund?sia --dosje nuk mbulohet me POP3\n"
 

Modified: branches/BRANCH_6-3/po/vi.po
===================================================================
--- branches/BRANCH_6-3/po/vi.po	2007-03-19 22:04:54 UTC (rev 5061)
+++ branches/BRANCH_6-3/po/vi.po	2007-03-19 22:06:51 UTC (rev 5062)
@@ -6,7 +6,7 @@
 msgstr ""
 "Project-Id-Version: fetchmail 6.3.6-rc4\n"
 "Report-Msgid-Bugs-To: fetchmail-devel at lists.berlios.de\n"
-"POT-Creation-Date: 2007-03-17 21:43+0100\n"
+"POT-Creation-Date: 2007-03-18 02:13+0100\n"
 "PO-Revision-Date: 2006-12-01 22:01+1030\n"
 "Last-Translator: Clytie Siddall <clytie at riverland.net.au>\n"
 "Language-Team: Vietnamese <vi-VN at googlegroups.com>\n"
@@ -1744,7 +1744,7 @@
 msgid "%lu is unseen\n"
 msgstr "%lu ch??a xem\n"
 
-#: imap.c:897 pop3.c:862
+#: imap.c:897 pop3.c:876
 #, c-format
 msgid "%u is first unseen\n"
 msgstr "%u l?? th?? ?????u ch??a xem\n"
@@ -2305,48 +2305,52 @@
 msgid "Timestamp syntax error in greeting\n"
 msgstr "G???p l???i c?? ph??p nh??n th???i gian trong l???i ch??o m???ng\n"
 
-#: pop3.c:682
+#: pop3.c:672
+msgid "Invalid APOP timestamp.\n"
+msgstr ""
+
+#: pop3.c:696
 msgid "Undefined protocol request in POP3_auth\n"
 msgstr ""
 "G???p y??u c???u giao th???c kh??ng ???????c x??c ?????nh trong ?? POP3_auth ?? (x??c th???c)\n"
 
-#: pop3.c:703
+#: pop3.c:717
 msgid "lock busy!  Is another session active?\n"
 msgstr "kho?? b???n ! C?? phi??n ch???y kh??c ho???t ?????ng kh??ng?\n"
 
-#: pop3.c:782
+#: pop3.c:796
 msgid "Cannot handle UIDL response from upstream server.\n"
 msgstr "Kh??ng th??? x??? l?? ????p ???ng UIDL t??? m??y ph???c v??? ngu???n.\n"
 
-#: pop3.c:805
+#: pop3.c:819
 msgid "Server responded with UID for wrong message.\n"
 msgstr "M??y ph???c v??? ???? ????p ???ng UID cho th?? kh??ng ????ng.\n"
 
-#: pop3.c:832 pop3.c:1078
+#: pop3.c:846 pop3.c:1092
 #, c-format
 msgid "id=%s (num=%d) was deleted, but is still present!\n"
 msgstr "id=%s (s???=%d) ???? ???????c xo?? b???, nh??ng c??n c??.\n"
 
-#: pop3.c:841 pop3.c:853 pop3.c:1087 pop3.c:1094
+#: pop3.c:855 pop3.c:867 pop3.c:1101 pop3.c:1108
 #, c-format
 msgid "%u is unseen\n"
 msgstr "%u ch??a xem\n"
 
-#: pop3.c:938
+#: pop3.c:952
 msgid "Messages inserted into list on server. Cannot handle this.\n"
 msgstr ""
 "G???p th?? ???????c ch??n v??o danh s??ch tr??n m??y ph???c v???. Kh??ng th??? x??? l?? tr?????ng h???p "
 "n??y.\n"
 
-#: pop3.c:1030
+#: pop3.c:1044
 msgid "protocol error\n"
 msgstr "l???i giao th???c\n"
 
-#: pop3.c:1046
+#: pop3.c:1060
 msgid "protocol error while fetching UIDLs\n"
 msgstr "g???p l???i giao th???c khi l???y c??c UIDL\n"
 
-#: pop3.c:1416
+#: pop3.c:1430
 msgid "Option --folder is not supported with POP3\n"
 msgstr "Kh??ng h??? tr??? t??y ch???n ?? --folder ?? (th?? m???c) v???i POP3\n"
 



From svn at mknod.org  Mon Mar 19 23:10:07 2007
From: svn at mknod.org (svn at mknod.org)
Date: Mon, 19 Mar 2007 17:10:07 -0500 (CDT)
Subject: [fetchmail-svn] r5063 - tags
Message-ID: <20070319221007.ACB5A218062@mknod.org>

Author: m-a
Date: 2007-03-19 17:10:07 -0500 (Mon, 19 Mar 2007)
New Revision: 5063

Added:
   tags/SNAPSHOT_6-3-8-rc2/
Log:
Tagging 6.3.8-rc2.

Copied: tags/SNAPSHOT_6-3-8-rc2 (from rev 5062, branches/BRANCH_6-3)



From svn at mknod.org  Wed Mar 21 10:41:00 2007
From: svn at mknod.org (svn at mknod.org)
Date: Wed, 21 Mar 2007 04:41:00 -0500 (CDT)
Subject: [fetchmail-svn] r5064 - branches/BRANCH_6-3
Message-ID: <20070321094100.496E421806A@mknod.org>

Author: m-a
Date: 2007-03-21 04:40:59 -0500 (Wed, 21 Mar 2007)
New Revision: 5064

Modified:
   branches/BRANCH_6-3/NEWS
Log:
Add CVE-2007-1558 to APOP attack.

Modified: branches/BRANCH_6-3/NEWS
===================================================================
--- branches/BRANCH_6-3/NEWS	2007-03-19 22:10:07 UTC (rev 5063)
+++ branches/BRANCH_6-3/NEWS	2007-03-21 09:40:59 UTC (rev 5064)
@@ -48,6 +48,7 @@
 * Make the APOP challenge parser more distrustful and have it reject challenges
   that do not conform to RFC-822 msg-id format, in the hope to make mounting
   man-in-the-middle attacks (MITM) against APOP a bit more difficult.
+  (CVE-2007-1558)
 
   APOP is claimed insecure by Ga?tan Leurent for MITM scenarios for typical
   setups: based on MD5 collisions, it is purportedly possible to recover the



From svn at mknod.org  Sat Mar 24 11:35:34 2007
From: svn at mknod.org (svn at mknod.org)
Date: Sat, 24 Mar 2007 05:35:34 -0500 (CDT)
Subject: [fetchmail-svn] r5065 - branches/BRANCH_6-3
Message-ID: <20070324103534.B568E21807C@mknod.org>

Author: m-a
Date: 2007-03-24 05:35:33 -0500 (Sat, 24 Mar 2007)
New Revision: 5065

Modified:
   branches/BRANCH_6-3/NEWS
   branches/BRANCH_6-3/conf.c
Log:
If SOCKS support was compiled in, add 'socks' to the feature_options
list emitted in --configdump. Reported by Rob MacGregor.

Modified: branches/BRANCH_6-3/NEWS
===================================================================
--- branches/BRANCH_6-3/NEWS	2007-03-21 09:40:59 UTC (rev 5064)
+++ branches/BRANCH_6-3/NEWS	2007-03-24 10:35:33 UTC (rev 5065)
@@ -72,6 +72,8 @@
   Fixes comment #9 in Gentoo Bug #163782, reported by Takuto Matsuu.
 * Fix rendering of the "24 - 26, 28, 29" paragraph in the exit codes section. 
   Reported by Nico Golde.
+* If SOCKS support was compiled in, add 'socks' to the feature_options Python
+  list emitted in --configdump. Reported by Rob MacGregor.
 
 # DOCUMENTATION:
 * Extend --mda documentation, discourage use of qmail-inject.

Modified: branches/BRANCH_6-3/conf.c
===================================================================
--- branches/BRANCH_6-3/conf.c	2007-03-21 09:40:59 UTC (rev 5064)
+++ branches/BRANCH_6-3/conf.c	2007-03-24 10:35:33 UTC (rev 5065)
@@ -184,6 +184,9 @@
 #ifdef OPIE_ENABLE
     "'opie',"
 #endif /* OPIE_ENABLE */
+#ifdef HAVE_SOCKS
+    "'socks',"
+#endif /* HAVE_SOCKS */
     ")\n";
     fputs(features, stdout);
 



From svn at mknod.org  Sat Mar 24 12:04:42 2007
From: svn at mknod.org (svn at mknod.org)
Date: Sat, 24 Mar 2007 06:04:42 -0500 (CDT)
Subject: [fetchmail-svn] r5066 - branches/BRANCH_6-3
Message-ID: <20070324110442.BFB8121807D@mknod.org>

Author: m-a
Date: 2007-03-24 06:04:42 -0500 (Sat, 24 Mar 2007)
New Revision: 5066

Modified:
   branches/BRANCH_6-3/configure.ac
Log:
Stipulate expected gettext version 
(only relevant for maintainer).

Modified: branches/BRANCH_6-3/configure.ac
===================================================================
--- branches/BRANCH_6-3/configure.ac	2007-03-24 10:35:33 UTC (rev 5065)
+++ branches/BRANCH_6-3/configure.ac	2007-03-24 11:04:42 UTC (rev 5066)
@@ -99,7 +99,7 @@
 
 dnl i18n
 AM_GNU_GETTEXT([external], [need-ngettext])
-AM_GNU_GETTEXT_VERSION(0.14.3)
+AM_GNU_GETTEXT_VERSION([0.14.6])
 dnl end i18n
 
 # Under sysV68, socket and friends are provided by the C library.



From svn at mknod.org  Tue Mar 27 13:27:59 2007
From: svn at mknod.org (svn at mknod.org)
Date: Tue, 27 Mar 2007 06:27:59 -0500 (CDT)
Subject: [fetchmail-svn] r5067 - branches/BRANCH_6-3/po
Message-ID: <20070327112759.00A0D218086@mknod.org>

Author: m-a
Date: 2007-03-27 06:27:59 -0500 (Tue, 27 Mar 2007)
New Revision: 5067

Modified:
   branches/BRANCH_6-3/po/pl.po
Log:
Update Polish translation to 6.3.8-rc2.

Modified: branches/BRANCH_6-3/po/pl.po
===================================================================
--- branches/BRANCH_6-3/po/pl.po	2007-03-24 11:04:42 UTC (rev 5066)
+++ branches/BRANCH_6-3/po/pl.po	2007-03-27 11:27:59 UTC (rev 5067)
@@ -6,17 +6,16 @@
 #
 msgid ""
 msgstr ""
-"Project-Id-Version: fetchmail 6.3.7-rc1\n"
+"Project-Id-Version: fetchmail 6.3.8-rc2\n"
 "Report-Msgid-Bugs-To: fetchmail-devel at lists.berlios.de\n"
 "POT-Creation-Date: 2007-03-18 02:13+0100\n"
-"PO-Revision-Date: 2007-02-03 11:42+0100\n"
+"PO-Revision-Date: 2007-03-26 16:10+0200\n"
 "Last-Translator: Jakub Bogusz <qboosh at pld-linux.org>\n"
 "Language-Team: Polish <translation-team-pl at lists.sourceforge.net>\n"
 "MIME-Version: 1.0\n"
 "Content-Type: text/plain; charset=ISO-8859-2\n"
 "Content-Transfer-Encoding: 8bit\n"
-"Plural-Forms: nplurals=3; plural=(n==1 ? 0 : n%10>=2 && n%10<=4 && (n%100<10 "
-"|| n%100>=20) ? 1 : 2);\n"
+"Plural-Forms: nplurals=3; plural=(n==1 ? 0 : n%10>=2 && n%10<=4 && (n%100<10 || n%100>=20) ? 1 : 2);\n"
 
 #: checkalias.c:174
 #, c-format
@@ -67,31 +66,28 @@
 #: driver.c:339
 #, c-format
 msgid "The following oversized messages were deleted on server %s account %s:"
-msgstr ""
-"Nast?puj?ce zbyt du?e listy zosta?y usuni?te z konta %2$s na serwerze poczty "
-"%1$s:"
+msgstr "Nast?puj?ce zbyt du?e listy zosta?y usuni?te z konta %2$s na serwerze poczty %1$s:"
 
 #: driver.c:343
 #, c-format
 msgid "The following oversized messages remain on server %s account %s:"
-msgstr ""
-"Nast?puj?ce zbyt du?e listy pozosta?y na koncie %2$s na serwerze poczty %1$s:"
+msgstr "Nast?puj?ce zbyt du?e listy pozosta?y na koncie %2$s na serwerze poczty %1$s:"
 
 #: driver.c:362
-#, fuzzy, c-format
+#, c-format
 msgid "  %d message  %d octets long deleted by fetchmail."
 msgid_plural "  %d messages %d octets long deleted by fetchmail."
-msgstr[0] "  list %d o d?ugo?ci %d zosta? usuni?ty przez fetchmaila."
-msgstr[1] "  list %d o d?ugo?ci %d zosta? usuni?ty przez fetchmaila."
-msgstr[2] "  list %d o d?ugo?ci %d zosta? usuni?ty przez fetchmaila."
+msgstr[0] "  %d list o d?ugo?ci %d zosta? usuni?ty przez fetchmaila."
+msgstr[1] "  %d listy o d?ugo?ci %d zosta?y usuni?te przez fetchmaila."
+msgstr[2] "  %d list?w o d?ugo?ci %d zosta?o usuni?tych przez fetchmaila."
 
 #: driver.c:367
-#, fuzzy, c-format
+#, c-format
 msgid "  %d message  %d octets long skipped by fetchmail."
 msgid_plural "  %d messages %d octets long skipped by fetchmail."
-msgstr[0] "  list %d o d?ugo?ci %d zosta? pomini?ty przez fetchmaila."
-msgstr[1] "  list %d o d?ugo?ci %d zosta? pomini?ty przez fetchmaila."
-msgstr[2] "  list %d o d?ugo?ci %d zosta? pomini?ty przez fetchmaila."
+msgstr[0] "  %d list o d?ugo?ci %d zosta? pomini?ty przez fetchmaila."
+msgstr[1] "  %d listy o d?ugo?ci %d zosta?y pomini?te przez fetchmaila."
+msgstr[2] "  %d list?w o d?ugo?ci %d zosta?o pomini?tych przez fetchmaila."
 
 #: driver.c:503
 #, c-format
@@ -138,11 +134,8 @@
 
 #: driver.c:743
 #, c-format
-msgid ""
-"message %s@%s:%d was not the expected length (%d actual != %d expected)\n"
-msgstr ""
-"d?ugo?? listu %s@%s:%d nie odpowiada d?ugo?ci zg?oszonej przez serwer (%d != "
-"%d)\n"
+msgid "message %s@%s:%d was not the expected length (%d actual != %d expected)\n"
+msgstr "d?ugo?? listu %s@%s:%d nie odpowiada d?ugo?ci zg?oszonej przez serwer (%d != %d)\n"
 
 #: driver.c:774
 msgid " retained\n"
@@ -159,23 +152,15 @@
 #: driver.c:819
 #, c-format
 msgid "fetchlimit %d reached; %d message left on server %s account %s\n"
-msgid_plural ""
-"fetchlimit %d reached; %d messages left on server %s account %s\n"
-msgstr[0] ""
-"limit pobranych list?w %d osi?gni?ty: %d pozosta? na serwerze %s na koncie %"
-"s\n"
-msgstr[1] ""
-"limit pobranych list?w %d osi?gni?ty: %d pozosta?y na serwerze %s na koncie %"
-"s\n"
-msgstr[2] ""
-"limit pobranych list?w %d osi?gni?ty: %d pozosta?o na serwerze %s na koncie %"
-"s\n"
+msgid_plural "fetchlimit %d reached; %d messages left on server %s account %s\n"
+msgstr[0] "limit pobranych list?w %d osi?gni?ty: %d pozosta? na serwerze %s na koncie %s\n"
+msgstr[1] "limit pobranych list?w %d osi?gni?ty: %d pozosta?y na serwerze %s na koncie %s\n"
+msgstr[2] "limit pobranych list?w %d osi?gni?ty: %d pozosta?o na serwerze %s na koncie %s\n"
 
 #: driver.c:876
 #, c-format
 msgid "timeout after %d seconds waiting to connect to server %s.\n"
-msgstr ""
-"limit czasu %d sekund przekroczony podczas oczekiwania na po??czenie z %s.\n"
+msgstr "limit czasu %d sekund przekroczony podczas oczekiwania na po??czenie z %s.\n"
 
 #: driver.c:880
 #, c-format
@@ -203,9 +188,7 @@
 
 #: driver.c:907
 #, c-format
-msgid ""
-"Fetchmail saw more than %d timeouts while attempting to get mail from %s@%"
-"s.\n"
+msgid "Fetchmail saw more than %d timeouts while attempting to get mail from %s@%s.\n"
 msgstr "Po %d timeoutach fetchmail nie m?g? pobra? poczty z %s@%s.\n"
 
 #: driver.c:911
@@ -520,8 +503,7 @@
 "%s: Abort.\n"
 msgstr ""
 "%s: Zmienna ?rodowiskowa QMAILINJECT jest ustawiona.\n"
-"Jest to niebezpieczne, poniewa? mo?e spowodowa?, ?e qmail-inject lub "
-"qmailowy\n"
+"Jest to niebezpieczne, poniewa? mo?e spowodowa?, ?e qmail-inject lub qmailowy\n"
 "zast?pnik sendmaila namiesza z nag??wkami From: lub Message-ID:.\n"
 "Prosz? spr?bowa? \"env QMAILINJECT= %s W?ASNE PARAMETRY\"\n"
 "%s: Przerwano.\n"
@@ -531,8 +513,7 @@
 msgid ""
 "%s: The NULLMAILER_FLAGS environment variable is set.\n"
 "This is dangerous as it can make nullmailer-inject or nullmailer's\n"
-"sendmail wrapper tamper with your From:, Message-ID: or Return-Path: "
-"headers.\n"
+"sendmail wrapper tamper with your From:, Message-ID: or Return-Path: headers.\n"
 "Try \"env NULLMAILER_FLAGS= %s YOUR ARGUMENTS HERE\"\n"
 "%s: Abort.\n"
 msgstr ""
@@ -565,8 +546,7 @@
 #: env.c:174
 msgid ""
 "Trying to continue with unqualified hostname.\n"
-"DO NOT report broken Received: headers, HELO/EHLO lines or similar "
-"problems!\n"
+"DO NOT report broken Received: headers, HELO/EHLO lines or similar problems!\n"
 "DO repair your /etc/hosts, DNS, NIS or LDAP instead.\n"
 msgstr ""
 "Pr?ba kontynuacji z nierozwi?zan? nazw? hosta.\n"
@@ -641,14 +621,12 @@
 #: fetchmail.c:137
 msgid ""
 "Copyright (C) 2002, 2003 Eric S. Raymond\n"
-"Copyright (C) 2004 Matthias Andree, Eric S. Raymond, Rob F. Funk, Graham "
-"Wilson\n"
+"Copyright (C) 2004 Matthias Andree, Eric S. Raymond, Rob F. Funk, Graham Wilson\n"
 "Copyright (C) 2005-2006 Sunil Shetye\n"
 "Copyright (C) 2005-2007 Matthias Andree\n"
 msgstr ""
 "Copyright (C) 2002, 2003 Eric S. Raymond\n"
-"Copyright (C) 2004 Matthias Andree, Eric S. Raymond, Rob F. Funk, Graham "
-"Wilson\n"
+"Copyright (C) 2004 Matthias Andree, Eric S. Raymond, Rob F. Funk, Graham Wilson\n"
 "Copyright (C) 2005-2006 Sunil Shetye\n"
 "Copyright (C) 2005-2007 Matthias Andree\n"
 
@@ -658,8 +636,7 @@
 "are welcome to redistribute it under certain conditions. For details,\n"
 "please see the file COPYING in the source or documentation directory.\n"
 msgstr ""
-"Fetchmail jest dostarczany BEZ JAKIEJKOLWIEK GWARANCJI. Jest to "
-"oprogramowanie\n"
+"Fetchmail jest dostarczany BEZ JAKIEJKOLWIEK GWARANCJI. Jest to oprogramowanie\n"
 "darmowe i mo?na je rozpowszechnia? pod pewnymi warunkami. Szczeg??y mo?na\n"
 "znale?? w pliku COPYING w ?r?d?ach lub katalogu z dokumentacj?.\n"
 
@@ -705,8 +682,7 @@
 #: fetchmail.c:440
 #, c-format
 msgid "fetchmail: error killing %s fetchmail at %d; bailing out.\n"
-msgstr ""
-"fetchmail: wyst?pi? b??d podczas pr?by zabicia %s fetchmaila, PID %d.\n"
+msgstr "fetchmail: wyst?pi? b??d podczas pr?by zabicia %s fetchmaila, PID %d.\n"
 
 #: fetchmail.c:441 fetchmail.c:450
 msgid "background"
@@ -722,20 +698,13 @@
 msgstr "fetchmail: zabito %s fetchmaila o numerze procesu %d.\n"
 
 #: fetchmail.c:472
-msgid ""
-"fetchmail: can't check mail while another fetchmail to same host is "
-"running.\n"
-msgstr ""
-"fetchmail: nie mog? sprawdzi? poczty, bo dzia?a inny fetchmail do tego "
-"serwera\n"
+msgid "fetchmail: can't check mail while another fetchmail to same host is running.\n"
+msgstr "fetchmail: nie mog? sprawdzi? poczty, bo dzia?a inny fetchmail do tego serwera\n"
 
 #: fetchmail.c:478
 #, c-format
-msgid ""
-"fetchmail: can't poll specified hosts with another fetchmail running at %d.\n"
-msgstr ""
-"fetchmail: nie mog? po??czy? si? z podanym hostem, bo dzia?a inny fetchmail "
-"(proces %d).\n"
+msgid "fetchmail: can't poll specified hosts with another fetchmail running at %d.\n"
+msgstr "fetchmail: nie mog? po??czy? si? z podanym hostem, bo dzia?a inny fetchmail (proces %d).\n"
 
 #: fetchmail.c:485
 #, c-format
@@ -743,11 +712,8 @@
 msgstr "fetchmail: dzia?a inny chodz?cy z konsoli fetchmail (proces %d).\n"
 
 #: fetchmail.c:495
-msgid ""
-"fetchmail: can't accept options while a background fetchmail is running.\n"
-msgstr ""
-"fetchmail: nie mog? przyjmowa? opcji, poniewa? inny fetchmail dzia?a ju? w "
-"tle.\n"
+msgid "fetchmail: can't accept options while a background fetchmail is running.\n"
+msgstr "fetchmail: nie mog? przyjmowa? opcji, poniewa? inny fetchmail dzia?a ju? w tle.\n"
 
 #: fetchmail.c:501
 #, c-format
@@ -757,8 +723,7 @@
 #: fetchmail.c:513
 #, c-format
 msgid "fetchmail: elder sibling at %d died mysteriously.\n"
-msgstr ""
-"fetchmail: starszy proces %d zgin?? w niewyja?nionych okoliczno?ciach.\n"
+msgstr "fetchmail: starszy proces %d zgin?? w niewyja?nionych okoliczno?ciach.\n"
 
 #: fetchmail.c:528
 #, c-format
@@ -772,8 +737,7 @@
 
 #: fetchmail.c:557 fetchmail.c:593
 msgid "fetchmail: Warning: syslog and logfile are set. Check both for logs!\n"
-msgstr ""
-"fetchmail: Uwaga: ustawiono sysloga i plik loga. Log?w nale?y szuka? w obu!\n"
+msgstr "fetchmail: Uwaga: ustawiono sysloga i plik loga. Log?w nale?y szuka? w obu!\n"
 
 #: fetchmail.c:569
 msgid "fetchmail: Cannot detach into background. Aborting.\n"
@@ -801,8 +765,7 @@
 
 #: fetchmail.c:640
 msgid "attempt to re-exec may fail as directory has not been restored\n"
-msgstr ""
-"pr?ba restartu mo?e si? nie uda?, poniewa? katalog nie zosta? odtworzony\n"
+msgstr "pr?ba restartu mo?e si? nie uda?, poniewa? katalog nie zosta? odtworzony\n"
 
 #: fetchmail.c:667
 msgid "attempt to re-exec fetchmail failed\n"
@@ -919,8 +882,7 @@
 
 #: fetchmail.c:1100
 msgid "fetchmail: Error: multiple \"defaults\" records in config file.\n"
-msgstr ""
-"fetchmail: B??d: wiele rekord?w \"defaults\" w pliku konfiguracyjnym.\n"
+msgstr "fetchmail: B??d: wiele rekord?w \"defaults\" w pliku konfiguracyjnym.\n"
 
 #: fetchmail.c:1222
 msgid "SSL support is not compiled in.\n"
@@ -928,13 +890,11 @@
 
 #: fetchmail.c:1229
 msgid "KERBEROS v4 support is configured, but not compiled in.\n"
-msgstr ""
-"obs?uga KERBEROSA v4 jest skonfigurowana, ale nie zosta?a wkompilowana.\n"
+msgstr "obs?uga KERBEROSA v4 jest skonfigurowana, ale nie zosta?a wkompilowana.\n"
 
 #: fetchmail.c:1235
 msgid "KERBEROS v5 support is configured, but not compiled in.\n"
-msgstr ""
-"obs?uga KERBEROSA v5 jest skonfigurowana, ale nie zosta?a wkompilowana.\n"
+msgstr "obs?uga KERBEROSA v5 jest skonfigurowana, ale nie zosta?a wkompilowana.\n"
 
 #: fetchmail.c:1241
 msgid "GSSAPI support is configured, but not compiled in.\n"
@@ -942,8 +902,7 @@
 
 #: fetchmail.c:1271
 #, c-format
-msgid ""
-"fetchmail: warning: no DNS available to check multidrop fetches from %s\n"
+msgid "fetchmail: warning: no DNS available to check multidrop fetches from %s\n"
 msgstr "fetchmail: uwaga: brak serwera DNS potrzebnego do sprawdzenia %s\n"
 
 #: fetchmail.c:1282
@@ -957,30 +916,22 @@
 
 #: fetchmail.c:1300
 #, c-format
-msgid ""
-"fetchmail: %s configuration invalid, specify positive port number for "
-"service or port\n"
-msgstr ""
-"fetchmail: konfiguracja dla %s jest b??dna - nale?y poda? dodatni numer "
-"portu\n"
+msgid "fetchmail: %s configuration invalid, specify positive port number for service or port\n"
+msgstr "fetchmail: konfiguracja dla %s jest b??dna - nale?y poda? dodatni numer portu\n"
 
 #: fetchmail.c:1307
 #, c-format
 msgid "fetchmail: %s configuration invalid, RPOP requires a privileged port\n"
-msgstr ""
-"fetchmail: konfiguracja dla %s jest b??dna - RPOP wymaga uprzywilejowanego "
-"portu\n"
+msgstr "fetchmail: konfiguracja dla %s jest b??dna - RPOP wymaga uprzywilejowanego portu\n"
 
 #: fetchmail.c:1325
 #, c-format
 msgid "%s configuration invalid, LMTP can't use default SMTP port\n"
-msgstr ""
-"konfiguracja dla %s jest b??dna - LMTP nie u?ywa domy?lnego portu SMTP\n"
+msgstr "konfiguracja dla %s jest b??dna - LMTP nie u?ywa domy?lnego portu SMTP\n"
 
 #: fetchmail.c:1339
 msgid "Both fetchall and keep on in daemon or idle mode is a mistake!\n"
-msgstr ""
-"Jednoczesne fetchall i keep w trybie demona lub bezczynno?ci to b??d!\n"
+msgstr "Jednoczesne fetchall i keep w trybie demona lub bezczynno?ci to b??d!\n"
 
 #: fetchmail.c:1364
 #, c-format
@@ -990,8 +941,7 @@
 #: fetchmail.c:1437
 #, c-format
 msgid "%s querying %s (protocol %s) at %s: poll started\n"
-msgstr ""
-"%s ??czy si? z %s (protok?? %s) o godzinie %s: odpytywanie rozpocz?te\n"
+msgstr "%s ??czy si? z %s (protok?? %s) o godzinie %s: odpytywanie rozpocz?te\n"
 
 #: fetchmail.c:1462
 msgid "POP2 support is not configured.\n"
@@ -1020,8 +970,7 @@
 #: fetchmail.c:1515
 #, c-format
 msgid "%s querying %s (protocol %s) at %s: poll completed\n"
-msgstr ""
-"%s ??czy si? z %s (protok?? %s) o godzinie %s: odpytywanie zako?czone\n"
+msgstr "%s ??czy si? z %s (protok?? %s) o godzinie %s: odpytywanie zako?czone\n"
 
 #: fetchmail.c:1532
 #, c-format
@@ -1088,15 +1037,11 @@
 
 #: fetchmail.c:1573
 msgid "  This host will not be queried when no host is specified.\n"
-msgstr ""
-"  Z tym serwerem nie b?d? si? ??czy? je?li nie zostanie podany ?aden inny "
-"serwer.\n"
+msgstr "  Z tym serwerem nie b?d? si? ??czy? je?li nie zostanie podany ?aden inny serwer.\n"
 
 #: fetchmail.c:1574
 msgid "  This host will be queried when no host is specified.\n"
-msgstr ""
-"  Z tym serwerem b?d? si? ??czy? je?li nie zostanie podany ?aden inny "
-"serwer.\n"
+msgstr "  Z tym serwerem b?d? si? ??czy? je?li nie zostanie podany ?aden inny serwer.\n"
 
 #: fetchmail.c:1578
 msgid "  Password will be prompted for.\n"
@@ -1240,81 +1185,55 @@
 
 #: fetchmail.c:1682
 msgid "  Fetched messages will not be kept on the server (--keep off).\n"
-msgstr ""
-"  Pobrane listy nie b?d? pozostawione na serwerze (--keep wy??czone).\n"
+msgstr "  Pobrane listy nie b?d? pozostawione na serwerze (--keep wy??czone).\n"
 
 #: fetchmail.c:1684
 msgid "  Old messages will be flushed before message retrieval (--flush on).\n"
-msgstr ""
-"  Stare listy b?d? kasowane przed pobraniem poczty (--flush w??czone).\n"
+msgstr "  Stare listy b?d? kasowane przed pobraniem poczty (--flush w??czone).\n"
 
 #: fetchmail.c:1685
-msgid ""
-"  Old messages will not be flushed before message retrieval (--flush off).\n"
-msgstr ""
-"  Stare listy nie b?d? kasowane przed pobraniem poczty (--flush wy??czone).\n"
+msgid "  Old messages will not be flushed before message retrieval (--flush off).\n"
+msgstr "  Stare listy nie b?d? kasowane przed pobraniem poczty (--flush wy??czone).\n"
 
 #: fetchmail.c:1687
-msgid ""
-"  Oversized messages will be flushed before message retrieval (--limitflush "
-"on).\n"
-msgstr ""
-"  Zbyt du?e listy b?d? kasowane przed pobraniem poczty (--limitflush "
-"w??czone).\n"
+msgid "  Oversized messages will be flushed before message retrieval (--limitflush on).\n"
+msgstr "  Zbyt du?e listy b?d? kasowane przed pobraniem poczty (--limitflush w??czone).\n"
 
 #: fetchmail.c:1688
-msgid ""
-"  Oversized messages will not be flushed before message retrieval (--"
-"limitflush off).\n"
-msgstr ""
-"  Zbyt du?e listy nie b?d? kasowane przed pobraniem poczty (--limitflush "
-"wy??czone).\n"
+msgid "  Oversized messages will not be flushed before message retrieval (--limitflush off).\n"
+msgstr "  Zbyt du?e listy nie b?d? kasowane przed pobraniem poczty (--limitflush wy??czone).\n"
 
 #: fetchmail.c:1690
 msgid "  Rewrite of server-local addresses is enabled (--norewrite off).\n"
-msgstr ""
-"  Przepisywanie adres?w na posta? lokaln? jest w??czone (--norewrite "
-"wy??czone).\n"
+msgstr "  Przepisywanie adres?w na posta? lokaln? jest w??czone (--norewrite wy??czone).\n"
 
 #: fetchmail.c:1691
 msgid "  Rewrite of server-local addresses is disabled (--norewrite on).\n"
-msgstr ""
-"  Przepisywanie adres?w na posta? lokaln? jest wy??czone (--norewrite "
-"w??czone).\n"
+msgstr "  Przepisywanie adres?w na posta? lokaln? jest wy??czone (--norewrite w??czone).\n"
 
 #: fetchmail.c:1693
 msgid "  Carriage-return stripping is enabled (stripcr on).\n"
-msgstr ""
-"  Usuwanie znak?w CR z ko?c?w linii jest w??czone (stripcr w??czone).\n"
+msgstr "  Usuwanie znak?w CR z ko?c?w linii jest w??czone (stripcr w??czone).\n"
 
 #: fetchmail.c:1694
 msgid "  Carriage-return stripping is disabled (stripcr off).\n"
-msgstr ""
-"  Usuwanie znak?w CR z ko?c?w linii jest wy??czone (stripcr wy??czone).\n"
+msgstr "  Usuwanie znak?w CR z ko?c?w linii jest wy??czone (stripcr wy??czone).\n"
 
 #: fetchmail.c:1696
 msgid "  Carriage-return forcing is enabled (forcecr on).\n"
-msgstr ""
-"  Dodawanie znak?w CR na ko?cach linii jest w??czone (forcecr w??czone).\n"
+msgstr "  Dodawanie znak?w CR na ko?cach linii jest w??czone (forcecr w??czone).\n"
 
 #: fetchmail.c:1697
 msgid "  Carriage-return forcing is disabled (forcecr off).\n"
-msgstr ""
-"  Dodawanie znak?w CR na ko?cach linii jest wy??czone (forcecr wy??czone).\n"
+msgstr "  Dodawanie znak?w CR na ko?cach linii jest wy??czone (forcecr wy??czone).\n"
 
 #: fetchmail.c:1699
-msgid ""
-"  Interpretation of Content-Transfer-Encoding is disabled (pass8bits on).\n"
-msgstr ""
-"  Interpretowanie nag??wka Content-Transfer-Encoding jest wy??czone "
-"(pass8bits w??czone).\n"
+msgid "  Interpretation of Content-Transfer-Encoding is disabled (pass8bits on).\n"
+msgstr "  Interpretowanie nag??wka Content-Transfer-Encoding jest wy??czone (pass8bits w??czone).\n"
 
 #: fetchmail.c:1700
-msgid ""
-"  Interpretation of Content-Transfer-Encoding is enabled (pass8bits off).\n"
-msgstr ""
-"  Interpretowanie nag??wka Content-Transfer-Encoding jest w??czone "
-"(pass8bits wy??czone).\n"
+msgid "  Interpretation of Content-Transfer-Encoding is enabled (pass8bits off).\n"
+msgstr "  Interpretowanie nag??wka Content-Transfer-Encoding jest w??czone (pass8bits wy??czone).\n"
 
 #: fetchmail.c:1702
 msgid "  MIME decoding is enabled (mimedecode on).\n"
@@ -1360,15 +1279,11 @@
 #: fetchmail.c:1721
 #, c-format
 msgid "  Message size warning interval is %d seconds (--warnings %d).\n"
-msgstr ""
-"  Ostrze?enia o wielko?ci listu b?d? wy?wietlane co %d sekund (--warnings %"
-"d).\n"
+msgstr "  Ostrze?enia o wielko?ci listu b?d? wy?wietlane co %d sekund (--warnings %d).\n"
 
 #: fetchmail.c:1724
 msgid "  Size warnings on every poll (--warnings 0).\n"
-msgstr ""
-"  Ostrze?enia o wielko?ci b?d? wy?wietlane przy ka?dym ??czeniu (--warnings "
-"0).\n"
+msgstr "  Ostrze?enia o wielko?ci b?d? wy?wietlane przy ka?dym ??czeniu (--warnings 0).\n"
 
 #: fetchmail.c:1727
 #, c-format
@@ -1377,8 +1292,7 @@
 
 #: fetchmail.c:1730
 msgid "  No received-message limit (--fetchlimit 0).\n"
-msgstr ""
-"  Limit ilo?ci otrzymanych list?w nie jest ustawiony (--fetchlimit 0).\n"
+msgstr "  Limit ilo?ci otrzymanych list?w nie jest ustawiony (--fetchlimit 0).\n"
 
 #: fetchmail.c:1732
 #, c-format
@@ -1391,19 +1305,16 @@
 
 #: fetchmail.c:1739
 msgid "  Do binary search of UIDs during each poll (--fastuidl 1).\n"
-msgstr ""
-"  Binarne przeszukiwanie UID-?w przy ka?dym ?ci?ganiu (--fastuidl 1).\n"
+msgstr "  Binarne przeszukiwanie UID-?w przy ka?dym ?ci?ganiu (--fastuidl 1).\n"
 
 #: fetchmail.c:1741
 #, c-format
 msgid "  Do binary search of UIDs during %d out of %d polls (--fastuidl %d).\n"
-msgstr ""
-"  Binarne przeszukiwanie UID-?w przy %d z %d ?ci?ga? (--fastuidl %d).\n"
+msgstr "  Binarne przeszukiwanie UID-?w przy %d z %d ?ci?ga? (--fastuidl %d).\n"
 
 #: fetchmail.c:1744
 msgid "   Do linear search of UIDs during each poll (--fastuidl 0).\n"
-msgstr ""
-"   Liniowe przeszukiwanie UID-?w przy ka?dym ?ci?ganiu (--fastuidl 0).\n"
+msgstr "   Liniowe przeszukiwanie UID-?w przy ka?dym ?ci?ganiu (--fastuidl 0).\n"
 
 #: fetchmail.c:1746
 #, c-format
@@ -1412,8 +1323,7 @@
 
 #: fetchmail.c:1748
 msgid "  No SMTP message batch limit (--batchlimit 0).\n"
-msgstr ""
-"  Limit ilo?ci list?w wysy?anych przez SMTP nie ustawiony (--batchlimit 0).\n"
+msgstr "  Limit ilo?ci list?w wysy?anych przez SMTP nie ustawiony (--batchlimit 0).\n"
 
 #: fetchmail.c:1752
 #, c-format
@@ -1455,8 +1365,7 @@
 #: fetchmail.c:1794
 #, c-format
 msgid "  Address to be put in RCPT TO lines shipped to SMTP will be %s\n"
-msgstr ""
-"  Adresem do umieszczenia w liniach RCPT TO przekazanych SMTP b?dzie %s\n"
+msgstr "  Adresem do umieszczenia w liniach RCPT TO przekazanych SMTP b?dzie %s\n"
 
 #: fetchmail.c:1803
 msgid "  Recognized listener spam block responses are:"
@@ -1482,8 +1391,7 @@
 
 #: fetchmail.c:1820
 msgid "  No post-connection command.\n"
-msgstr ""
-"  Po zamkni?ciu po??czenia nie b?dzie wykonywane ?adne dodatkowe polecenie.\n"
+msgstr "  Po zamkni?ciu po??czenia nie b?dzie wykonywane ?adne dodatkowe polecenie.\n"
 
 #: fetchmail.c:1823
 msgid "  No localnames declared for this host.\n"
@@ -1514,8 +1422,7 @@
 msgstr "  Odpytywanie DNS dla adres?w wieloskrzynkowych jest wy??czone.\n"
 
 #: fetchmail.c:1857
-msgid ""
-"  Server aliases will be compared with multidrop addresses by IP address.\n"
+msgid "  Server aliases will be compared with multidrop addresses by IP address.\n"
 msgstr "  Aliasy serwera b?d? por?wnywane z adresami skrzynek po adresie IP.\n"
 
 #: fetchmail.c:1859
@@ -1574,8 +1481,7 @@
 #: fetchmail.c:1910
 #, c-format
 msgid "  Server connections will be made via plugin %s (--plugin %s).\n"
-msgstr ""
-"  Po??czenia z serwerem b?d? nawi?zywane przez wtyczk? %s (--plugin %s).\n"
+msgstr "  Po??czenia z serwerem b?d? nawi?zywane przez wtyczk? %s (--plugin %s).\n"
 
 #: fetchmail.c:1912
 msgid "  No plugin command specified.\n"
@@ -1584,9 +1490,7 @@
 #: fetchmail.c:1914
 #, c-format
 msgid "  Listener connections will be made via plugout %s (--plugout %s).\n"
-msgstr ""
-"  Po??czenie z serwerem odbiorcy zostanie nawi?zane programem %s (--plugout %"
-"s).\n"
+msgstr "  Po??czenie z serwerem odbiorcy zostanie nawi?zane programem %s (--plugout %s).\n"
 
 #: fetchmail.c:1916
 msgid "  No plugout command specified.\n"
@@ -1603,8 +1507,7 @@
 
 #: fetchmail.c:1938
 msgid "  Poll trace information will be added to the Received header.\n"
-msgstr ""
-"  Informacje o ?ledzeniu po??czenia b?d? dodane do nag??wka Received.\n"
+msgstr "  Informacje o ?ledzeniu po??czenia b?d? dodane do nag??wka Received.\n"
 
 #: fetchmail.c:1940
 msgid ""
@@ -1790,16 +1693,12 @@
 msgstr "%u jest pierwszym nieprzeczytanym\n"
 
 #: imap.c:988
-msgid ""
-"Warning: ignoring bogus data for message sizes returned by the server.\n"
-msgstr ""
-"Uwaga: zignorowano nieprawdziwe dane o rozmiarze wiadomo?ci zwr?cone przez "
-"serwer.\n"
+msgid "Warning: ignoring bogus data for message sizes returned by the server.\n"
+msgstr "Uwaga: zignorowano nieprawdziwe dane o rozmiarze wiadomo?ci zwr?cone przez serwer.\n"
 
 #: interface.c:256
 msgid "Unable to open kvm interface. Make sure fetchmail is SGID kmem."
-msgstr ""
-"Nie mo?na otworzy? interfejsu kvm. By? mo?e fetchmail nie jest SGID kmem."
+msgstr "Nie mo?na otworzy? interfejsu kvm. By? mo?e fetchmail nie jest SGID kmem."
 
 #: interface.c:396
 #, c-format
@@ -2066,17 +1965,12 @@
 msgstr "  -L, --logfile     podaje nazw? pliku kroniki\n"
 
 #: options.c:597
-msgid ""
-"      --syslog      use syslog(3) for most messages when running as a "
-"daemon\n"
-msgstr ""
-"      --syslog      w??cza wy?wietlanie wi?kszo?ci komunikat?w przez syslog"
-"(3)\n"
+msgid "      --syslog      use syslog(3) for most messages when running as a daemon\n"
+msgstr "      --syslog      w??cza wy?wietlanie wi?kszo?ci komunikat?w przez syslog(3)\n"
 
 #: options.c:598
 msgid "      --invisible   don't write Received & enable host spoofing\n"
-msgstr ""
-"      --invisible   w??cza udawanie hosta i nie dodaje nag??wk?w Received\n"
+msgstr "      --invisible   w??cza udawanie hosta i nie dodaje nag??wk?w Received\n"
 
 #: options.c:599
 msgid "  -f, --fetchmailrc specify alternate run control file\n"
@@ -2120,20 +2014,15 @@
 
 #: options.c:612
 msgid "      --sslcertck   do strict server certificate check (recommended)\n"
-msgstr ""
-"      --sslcertck   dok?adne sprawdzanie certyfikatu serwera (zalecane)\n"
+msgstr "      --sslcertck   dok?adne sprawdzanie certyfikatu serwera (zalecane)\n"
 
 #: options.c:613
 msgid "      --sslcertpath path to ssl certificates\n"
 msgstr "      --sslcertpath ?cie?ka do certyfikat?w ssl\n"
 
 #: options.c:614
-msgid ""
-"      --sslfingerprint fingerprint that must match that of the server's "
-"cert.\n"
-msgstr ""
-"      --sslfingerprint odcisk, kt?ry musi pasowa? do odcisku certyfikatu "
-"serwera.\n"
+msgid "      --sslfingerprint fingerprint that must match that of the server's cert.\n"
+msgstr "      --sslfingerprint odcisk, kt?ry musi pasowa? do odcisku certyfikatu serwera.\n"
 
 #: options.c:615
 msgid "      --sslproto    force ssl protocol (SSL2/SSL3/TLS1)\n"
@@ -2141,21 +2030,15 @@
 
 #: options.c:617
 msgid "      --plugin      specify external command to open connection\n"
-msgstr ""
-"      --plugin      ?cie?ka do zewn?trznego polecenia otwieraj?cego "
-"po??czenie\n"
+msgstr "      --plugin      ?cie?ka do zewn?trznego polecenia otwieraj?cego po??czenie\n"
 
 #: options.c:618
 msgid "      --plugout     specify external command to open smtp connection\n"
-msgstr ""
-"      --plugout     ?cie?ka do zewn. polecenia otwieraj?cego po??czenie "
-"smtp\n"
+msgstr "      --plugout     ?cie?ka do zewn. polecenia otwieraj?cego po??czenie smtp\n"
 
 #: options.c:620
 msgid "  -p, --protocol    specify retrieval protocol (see man page)\n"
-msgstr ""
-"  -p, --protocol    okre?la protok?? kt?rym b?d? pobierane listy (patrz "
-"manual)\n"
+msgstr "  -p, --protocol    okre?la protok?? kt?rym b?d? pobierane listy (patrz manual)\n"
 
 #: options.c:621
 msgid "  -U, --uidl        force the use of UIDLs (pop3 only)\n"
@@ -2163,22 +2046,15 @@
 
 #: options.c:622
 msgid "      --port        TCP port to connect to (obsolete, use --service)\n"
-msgstr ""
-"      --port        ??czenie z portem TCP (przestarza?e, nale?y u?ywa? --"
-"service)\n"
+msgstr "      --port        ??czenie z portem TCP (przestarza?e, nale?y u?ywa? --service)\n"
 
 #: options.c:623
-msgid ""
-"  -P, --service     TCP service to connect to (can be numeric TCP port)\n"
-msgstr ""
-"  -P, --service     ??czenie z podan? us?ug? TCP (mo?e by? numerem portu "
-"TCP)\n"
+msgid "  -P, --service     TCP service to connect to (can be numeric TCP port)\n"
+msgstr "  -P, --service     ??czenie z podan? us?ug? TCP (mo?e by? numerem portu TCP)\n"
 
 #: options.c:624
 msgid "      --auth        authentication type (password/kerberos/ssh/otp)\n"
-msgstr ""
-"      --auth        okre?la metod? uwierzytelnienia (has?o/Kerberos/ssh/"
-"otp)\n"
+msgstr "      --auth        okre?la metod? uwierzytelnienia (has?o/Kerberos/ssh/otp)\n"
 
 #: options.c:625
 msgid "  -t, --timeout     server nonresponse timeout\n"
@@ -2186,13 +2062,11 @@
 
 #: options.c:626
 msgid "  -E, --envelope    envelope address header\n"
-msgstr ""
-"  -E, --envelope    okre?la nazw? nag??wka zawieraj?cego adres z koperty\n"
+msgstr "  -E, --envelope    okre?la nazw? nag??wka zawieraj?cego adres z koperty\n"
 
 #: options.c:627
 msgid "  -Q, --qvirtual    prefix to remove from local user id\n"
-msgstr ""
-"  -Q, --qvirtual    przedrostek, kt?ry b?dzie usuwany z nazwy u?ytkownika\n"
+msgstr "  -Q, --qvirtual    przedrostek, kt?ry b?dzie usuwany z nazwy u?ytkownika\n"
 
 #: options.c:628
 msgid "      --principal   mail service principal\n"
@@ -2200,8 +2074,7 @@
 
 #: options.c:629
 msgid "      --tracepolls  add poll-tracing information to Received header\n"
-msgstr ""
-"      --tracepolls  dodaje informacje o ?ledzeniu po??czenia do Received\n"
+msgstr "      --tracepolls  dodaje informacje o ?ledzeniu po??czenia do Received\n"
 
 #: options.c:631
 msgid "  -u, --username    specify users's login on server\n"
@@ -2241,8 +2114,7 @@
 
 #: options.c:641
 msgid "  -S, --smtphost    set SMTP forwarding host\n"
-msgstr ""
-"  -S, --smtphost    okre?la nazw? hosta SMTP przesy?aj?cego nasze listy\n"
+msgstr "  -S, --smtphost    okre?la nazw? hosta SMTP przesy?aj?cego nasze listy\n"
 
 #: options.c:642
 msgid "      --fetchdomains fetch mail for specified domains\n"
@@ -2250,9 +2122,7 @@
 
 #: options.c:643
 msgid "  -D, --smtpaddress set SMTP delivery domain to use\n"
-msgstr ""
-"  -D, --smtpaddress okre?la nazw? domeny SMTP u?ywan? przy dor?czaniu "
-"poczty\n"
+msgstr "  -D, --smtpaddress okre?la nazw? domeny SMTP u?ywan? przy dor?czaniu poczty\n"
 
 #: options.c:644
 msgid "      --smtpname    set SMTP full name username at domain\n"
@@ -2264,13 +2134,11 @@
 
 #: options.c:646
 msgid "  -b, --batchlimit  set batch limit for SMTP connections\n"
-msgstr ""
-"  -b, --batchlimit  okre?la limit list?w wys?anych w jednym po??czeniu SMTP\n"
+msgstr "  -b, --batchlimit  okre?la limit list?w wys?anych w jednym po??czeniu SMTP\n"
 
 #: options.c:647
 msgid "  -B, --fetchlimit  set fetch limit for server connections\n"
-msgstr ""
-"  -B, --fetchlimit  okre?la limit list?w pobieranych w jednym po??czeniu\n"
+msgstr "  -B, --fetchlimit  okre?la limit list?w pobieranych w jednym po??czeniu\n"
 
 #: options.c:648
 msgid "      --fetchsizelimit set fetch message size limit\n"
@@ -2282,13 +2150,11 @@
 
 #: options.c:650
 msgid "  -e, --expunge     set max deletions between expunges\n"
-msgstr ""
-"  -e, --expunge     liczba skasowanych list?w mi?dzy czyszczeniem skrzynki\n"
+msgstr "  -e, --expunge     liczba skasowanych list?w mi?dzy czyszczeniem skrzynki\n"
 
 #: options.c:651
 msgid "  -m, --mda         set MDA to use for forwarding\n"
-msgstr ""
-"  -m, --mda         okre?la ?cie?k? do MDA dor?czaj?cego pobrane listy\n"
+msgstr "  -m, --mda         okre?la ?cie?k? do MDA dor?czaj?cego pobrane listy\n"
 
 #: options.c:652
 msgid "      --bsmtp       set output BSMTP file\n"
@@ -2304,16 +2170,11 @@
 
 #: options.c:655
 msgid "      --showdots    show progress dots even in logfiles\n"
-msgstr ""
-"      --showdots    pokazuje kropki oznaczaj?ce post?p tak?e w logach\n"
+msgstr "      --showdots    pokazuje kropki oznaczaj?ce post?p tak?e w logach\n"
 
 #: pop3.c:350
-msgid ""
-"Warning: \"Maillennium POP3/PROXY server\" found, using RETR command instead "
-"of TOP.\n"
-msgstr ""
-"Uwaga: Odkryto serwer \"POP3/PROXY Maillennium\", u?ycie polecenia RETR "
-"zamiast TOP.\n"
+msgid "Warning: \"Maillennium POP3/PROXY server\" found, using RETR command instead of TOP.\n"
+msgstr "Uwaga: Odkryto serwer \"POP3/PROXY Maillennium\", u?ycie polecenia RETR zamiast TOP.\n"
 
 #: pop3.c:449
 msgid "TLS is mandatory for this session, but server refused CAPA command.\n"
@@ -2330,8 +2191,7 @@
 
 #: pop3.c:633
 msgid "We've run out of allowed authenticators and cannot continue.\n"
-msgstr ""
-"Wyczerpano dozwolone sposoby uwierzytelnienia, nie mo?na kontynuowa?.\n"
+msgstr "Wyczerpano dozwolone sposoby uwierzytelnienia, nie mo?na kontynuowa?.\n"
 
 #: pop3.c:647
 msgid "Required APOP timestamp not found in greeting\n"
@@ -2343,7 +2203,7 @@
 
 #: pop3.c:672
 msgid "Invalid APOP timestamp.\n"
-msgstr ""
+msgstr "B??dny znacznik czasu APOP.\n"
 
 #: pop3.c:696
 msgid "Undefined protocol request in POP3_auth\n"
@@ -2373,8 +2233,7 @@
 
 #: pop3.c:952
 msgid "Messages inserted into list on server. Cannot handle this.\n"
-msgstr ""
-"Przesy?ki zosta?y dodane do listy na serwerze. Nie mog? tego obs?u?y?.\n"
+msgstr "Przesy?ki zosta?y dodane do listy na serwerze. Nie mog? tego obs?u?y?.\n"
 
 #: pop3.c:1044
 msgid "protocol error\n"
@@ -2397,20 +2256,12 @@
 msgstr "SDPS nie w??czone."
 
 #: rcfile_y.y:213
-msgid ""
-"fetchmail: interface option is only supported under Linux (without IPv6) and "
-"FreeBSD\n"
-msgstr ""
-"fetchmail: opcja interface jest obs?ugiwana tylko pod Linuksem (bez IPv6) i "
-"FreeBSD\n"
+msgid "fetchmail: interface option is only supported under Linux (without IPv6) and FreeBSD\n"
+msgstr "fetchmail: opcja interface jest obs?ugiwana tylko pod Linuksem (bez IPv6) i FreeBSD\n"
 
 #: rcfile_y.y:220
-msgid ""
-"fetchmail: monitor option is only supported under Linux (without IPv6) and "
-"FreeBSD\n"
-msgstr ""
-"fetchmail: opcja monitor jest obs?ugiwana tylko pod Linuksem (bez IPv6) i "
-"FreeBSD\n"
+msgid "fetchmail: monitor option is only supported under Linux (without IPv6) and FreeBSD\n"
+msgstr "fetchmail: opcja monitor jest obs?ugiwana tylko pod Linuksem (bez IPv6) i FreeBSD\n"
 
 #: rcfile_y.y:333
 msgid "SSL is not enabled"
@@ -2733,10 +2584,8 @@
 
 #: sink.c:1349
 #, c-format
-msgid ""
-"Strange: MDA pclose returned %d and errno %d/%s, cannot handle at %s:%d\n"
-msgstr ""
-"Dziwne: MDA pclose zwr?ci?o %d a errno %d/%s, nie mo?na obs?u?y? w %s:%d\n"
+msgid "Strange: MDA pclose returned %d and errno %d/%s, cannot handle at %s:%d\n"
+msgstr "Dziwne: MDA pclose zwr?ci?o %d a errno %d/%s, nie mo?na obs?u?y? w %s:%d\n"
 
 #: sink.c:1371
 msgid "Message termination or close of BSMTP file failed\n"
@@ -3107,8 +2956,7 @@
 #: uid.c:643
 #, c-format
 msgid "Error writing to fetchids file %s, old file left in place.\n"
-msgstr ""
-"B??d podczas zapisu pliku fetchids %s, stary plik pozostawiono na miejscu.\n"
+msgstr "B??d podczas zapisu pliku fetchids %s, stary plik pozostawiono na miejscu.\n"
 
 #: uid.c:647
 #, c-format



From svn at mknod.org  Wed Mar 28 22:10:35 2007
From: svn at mknod.org (svn at mknod.org)
Date: Wed, 28 Mar 2007 15:10:35 -0500 (CDT)
Subject: [fetchmail-svn] r5068 - branches/BRANCH_6-3/po
Message-ID: <20070328201035.0937321808F@mknod.org>

Author: m-a
Date: 2007-03-28 15:10:34 -0500 (Wed, 28 Mar 2007)
New Revision: 5068

Modified:
   branches/BRANCH_6-3/po/ru.po
Log:
Update.

Modified: branches/BRANCH_6-3/po/ru.po
===================================================================
--- branches/BRANCH_6-3/po/ru.po	2007-03-27 11:27:59 UTC (rev 5067)
+++ branches/BRANCH_6-3/po/ru.po	2007-03-28 20:10:34 UTC (rev 5068)
@@ -1,15 +1,15 @@
-# Translation of fetchmail-6.3.6-rc3.po to Russian
+# Translation of fetchmail-6.3.8-rc2.po to Russian
 # Copyright (C) 2005 Eric S. Raymond
 # This file is distributed under the same license as the fetchmail package.
 #
 #
-# Pavel Maryanov <acid_jack at ukr.net>, 2003, 2005, 2006.
+# Pavel Maryanov <acid_jack at ukr.net>, 2003, 2005, 2006, 2007.
 msgid ""
 msgstr ""
-"Project-Id-Version: fetchmail 6.3.6-rc3\n"
+"Project-Id-Version: fetchmail-6.3.8-rc2\n"
 "Report-Msgid-Bugs-To: fetchmail-devel at lists.berlios.de\n"
 "POT-Creation-Date: 2007-03-18 02:13+0100\n"
-"PO-Revision-Date: 2006-11-21 20:59+0200\n"
+"PO-Revision-Date: 2007-03-27 00:47+0300\n"
 "Last-Translator: Pavel Maryanov <acid_jack at ukr.net>\n"
 "Language-Team: Russian <ru at li.org>\n"
 "MIME-Version: 1.0\n"
@@ -34,8 +34,7 @@
 #: checkalias.c:198
 #, c-format
 msgid "nameserver failure while looking for '%s' during poll of %s: %s\n"
-msgstr ""
-"???????? ????? `%s', nameserver ????????? ?????? ?? ????? ?????? %s: %s.\n"
+msgstr "???????? ????? `%s', nameserver ????????? ?????? ?? ????? ?????? %s: %s.\n"
 
 #: checkalias.c:223
 #, c-format
@@ -68,30 +67,26 @@
 #: driver.c:339
 #, c-format
 msgid "The following oversized messages were deleted on server %s account %s:"
-msgstr ""
-"????????? ????????? ??????????? ??????? ???? ??????? ? ????????? ??????? %s, "
-"??????? ?????? %s:"
+msgstr "????????? ????????? ??????????? ??????? ???? ??????? ? ????????? ??????? %s, ??????? ?????? %s:"
 
 #: driver.c:343
 #, c-format
 msgid "The following oversized messages remain on server %s account %s:"
-msgstr ""
-"????????? ????????? ??????????? ??????? ????????? ?? ???????? ??????? %s, "
-"??????? ?????? %s:"
+msgstr "????????? ????????? ??????????? ??????? ????????? ?? ???????? ??????? %s, ??????? ?????? %s:"
 
 #: driver.c:362
-#, fuzzy, c-format
+#, c-format
 msgid "  %d message  %d octets long deleted by fetchmail."
 msgid_plural "  %d messages %d octets long deleted by fetchmail."
-msgstr[0] "  fetchmail ?????? %d ?????. %d ??????? ??????."
-msgstr[1] "  fetchmail ?????? %d ?????. %d ??????? ??????."
+msgstr[0] "  fetchmail ?????? %d ????????? ?????? %d ???????."
+msgstr[1] "  fetchmail ?????? %d ????????? ?????? %d ???????."
 
 #: driver.c:367
-#, fuzzy, c-format
+#, c-format
 msgid "  %d message  %d octets long skipped by fetchmail."
 msgid_plural "  %d messages %d octets long skipped by fetchmail."
-msgstr[0] "  fetchmail ????????? %d ?????. %d ??????? ??????."
-msgstr[1] "  fetchmail ????????? %d ?????. %d ??????? ??????."
+msgstr[0] "  fetchmail ????????? %d ????????? ?????? %d ???????."
+msgstr[1] "  fetchmail ????????? %d ????????? ?????? %d ???????."
 
 #: driver.c:503
 #, c-format
@@ -138,11 +133,8 @@
 
 #: driver.c:743
 #, c-format
-msgid ""
-"message %s@%s:%d was not the expected length (%d actual != %d expected)\n"
-msgstr ""
-"????? ????????? %s@%s:%d ?? ??????? ? ????????? (%d ?? ????? ???? != %d "
-"?????????)\n"
+msgid "message %s@%s:%d was not the expected length (%d actual != %d expected)\n"
+msgstr "????? ????????? %s@%s:%d ?? ??????? ? ????????? (%d ?? ????? ???? != %d ?????????)\n"
 
 #: driver.c:774
 msgid " retained\n"
@@ -159,14 +151,9 @@
 #: driver.c:819
 #, c-format
 msgid "fetchlimit %d reached; %d message left on server %s account %s\n"
-msgid_plural ""
-"fetchlimit %d reached; %d messages left on server %s account %s\n"
-msgstr[0] ""
-"????????? ?????? ?????????? %d; ???????? %d ?????????, ?????? %s, ??????? "
-"?????? %s\n"
-msgstr[1] ""
-"????????? ?????? ?????????? %d; ???????? %d ?????????, ?????? %s, ??????? "
-"?????? %s\n"
+msgid_plural "fetchlimit %d reached; %d messages left on server %s account %s\n"
+msgstr[0] "????????? ?????? ?????????? %d; ???????? %d ?????????, ?????? %s, ??????? ?????? %s\n"
+msgstr[1] "????????? ?????? ?????????? %d; ???????? %d ?????????, ?????? %s, ??????? ?????? %s\n"
 
 #: driver.c:876
 #, c-format
@@ -199,12 +186,8 @@
 
 #: driver.c:907
 #, c-format
-msgid ""
-"Fetchmail saw more than %d timeouts while attempting to get mail from %s@%"
-"s.\n"
-msgstr ""
-"Fetchmail ????????? ????? %d ????-????? ??? ??????? ????????? ????? ?? %s@%"
-"s.\n"
+msgid "Fetchmail saw more than %d timeouts while attempting to get mail from %s@%s.\n"
+msgstr "Fetchmail ????????? ????? %d ????-????? ??? ??????? ????????? ????? ?? %s@%s.\n"
 
 #: driver.c:911
 msgid ""
@@ -533,8 +516,7 @@
 msgid ""
 "%s: The NULLMAILER_FLAGS environment variable is set.\n"
 "This is dangerous as it can make nullmailer-inject or nullmailer's\n"
-"sendmail wrapper tamper with your From:, Message-ID: or Return-Path: "
-"headers.\n"
+"sendmail wrapper tamper with your From:, Message-ID: or Return-Path: headers.\n"
 "Try \"env NULLMAILER_FLAGS= %s YOUR ARGUMENTS HERE\"\n"
 "%s: Abort.\n"
 msgstr ""
@@ -562,20 +544,16 @@
 
 #: env.c:170
 msgid "Cannot find my own host in hosts database to qualify it!\n"
-msgstr ""
-"?????????? ????? ???? ??????????? ???? ? ???? ?????? ??????, ????? "
-"?????????? ???!\n"
+msgstr "?????????? ????? ???? ??????????? ???? ? ???? ?????? ??????, ????? ?????????? ???!\n"
 
 #: env.c:174
 msgid ""
 "Trying to continue with unqualified hostname.\n"
-"DO NOT report broken Received: headers, HELO/EHLO lines or similar "
-"problems!\n"
+"DO NOT report broken Received: headers, HELO/EHLO lines or similar problems!\n"
 "DO repair your /etc/hosts, DNS, NIS or LDAP instead.\n"
 msgstr ""
 "???????? ?????????? ? ?????????????? ?????? ?????.\n"
-"?? ????????? ? ?????????? ?????????? Received:, ??????? HELO/EHLO ??? "
-"???????? ?????????!\n"
+"?? ????????? ? ?????????? ?????????? Received:, ??????? HELO/EHLO ??? ???????? ?????????!\n"
 "?????? ????? ????????? ???? /etc/hosts, DNS, NIS ??? LDAP.\n"
 
 #: etrn.c:49 odmr.c:60
@@ -643,18 +621,16 @@
 msgstr "????? --check ?? ?????????????? ? ETRN\n"
 
 #: fetchmail.c:137
-#, fuzzy
 msgid ""
 "Copyright (C) 2002, 2003 Eric S. Raymond\n"
-"Copyright (C) 2004 Matthias Andree, Eric S. Raymond, Rob F. Funk, Graham "
-"Wilson\n"
+"Copyright (C) 2004 Matthias Andree, Eric S. Raymond, Rob F. Funk, Graham Wilson\n"
 "Copyright (C) 2005-2006 Sunil Shetye\n"
 "Copyright (C) 2005-2007 Matthias Andree\n"
 msgstr ""
 "Copyright (C) 2002, 2003 Eric S. Raymond\n"
-"Copyright (C) 2004 Matthias Andree, Eric S. Raymond, Rob F. Funk, Graham "
-"Wilson\n"
-"Copyright (C) 2005-2006 Matthias Andree, Sunil Shetye\n"
+"Copyright (C) 2004 Matthias Andree, Eric S. Raymond, Rob F. Funk, Graham Wilson\n"
+"Copyright (C) 2005-2006 Sunil Shetye\n"
+"Copyright (C) 2005-2007 Matthias Andree\n"
 
 #: fetchmail.c:142
 msgid ""
@@ -709,8 +685,7 @@
 #: fetchmail.c:440
 #, c-format
 msgid "fetchmail: error killing %s fetchmail at %d; bailing out.\n"
-msgstr ""
-"fetchmail: ?????? ????????? %s fetchmail ?? %d; ??????????? ??????????.\n"
+msgstr "fetchmail: ?????? ????????? %s fetchmail ?? %d; ??????????? ??????????.\n"
 
 #: fetchmail.c:441 fetchmail.c:450
 msgid "background"
@@ -726,20 +701,13 @@
 msgstr "fetchmail: %s fetchmail ?? %d ??????????.\n"
 
 #: fetchmail.c:472
-msgid ""
-"fetchmail: can't check mail while another fetchmail to same host is "
-"running.\n"
-msgstr ""
-"fetchmail: ?????????? ????????? ?????, ???? ?? ??? ?? ????? ??????? ?????? "
-"fetchmail.\n"
+msgid "fetchmail: can't check mail while another fetchmail to same host is running.\n"
+msgstr "fetchmail: ?????????? ????????? ?????, ???? ?? ??? ?? ????? ??????? ?????? fetchmail.\n"
 
 #: fetchmail.c:478
 #, c-format
-msgid ""
-"fetchmail: can't poll specified hosts with another fetchmail running at %d.\n"
-msgstr ""
-"fetchmail: ?????????? ???????? ????????? ????? ??-?? ??????? fetchmail, "
-"??????????? ?? %d.\n"
+msgid "fetchmail: can't poll specified hosts with another fetchmail running at %d.\n"
+msgstr "fetchmail: ?????????? ???????? ????????? ????? ??-?? ??????? fetchmail, ??????????? ?? %d.\n"
 
 #: fetchmail.c:485
 #, c-format
@@ -747,10 +715,8 @@
 msgstr "fetchmail: ?? %d ??????? ?????? ???????????? fetchmail.\n"
 
 #: fetchmail.c:495
-msgid ""
-"fetchmail: can't accept options while a background fetchmail is running.\n"
-msgstr ""
-"fetchmail: ?????????? ????????? ?????, ???? ??????? ??????? fetchmail.\n"
+msgid "fetchmail: can't accept options while a background fetchmail is running.\n"
+msgstr "fetchmail: ?????????? ????????? ?????, ???? ??????? ??????? fetchmail.\n"
 
 #: fetchmail.c:501
 #, c-format
@@ -760,9 +726,7 @@
 #: fetchmail.c:513
 #, c-format
 msgid "fetchmail: elder sibling at %d died mysteriously.\n"
-msgstr ""
-"fetchmail: ?? %d ?????????? ?????????? ????? ??????? ??????? ???? ?? "
-"??????.\n"
+msgstr "fetchmail: ?? %d ?????????? ?????????? ????? ??????? ??????? ???? ?? ??????.\n"
 
 #: fetchmail.c:528
 #, c-format
@@ -776,9 +740,7 @@
 
 #: fetchmail.c:557 fetchmail.c:593
 msgid "fetchmail: Warning: syslog and logfile are set. Check both for logs!\n"
-msgstr ""
-"fetchmail: ??????????????: ????????? ????????????? syslog ? logfile. "
-"?????????? ??? ???????!\n"
+msgstr "fetchmail: ??????????????: ????????? ????????????? syslog ? logfile. ?????????? ??? ???????!\n"
 
 #: fetchmail.c:569
 msgid "fetchmail: Cannot detach into background. Aborting.\n"
@@ -815,8 +777,7 @@
 #: fetchmail.c:711
 #, c-format
 msgid "poll of %s skipped (failed authentication or too many timeouts)\n"
-msgstr ""
-"????? %s ???????? (?????? ?????????????? ??? ??????? ????? ????-?????)\n"
+msgstr "????? %s ???????? (?????? ?????????????? ??? ??????? ????? ????-?????)\n"
 
 #: fetchmail.c:723
 #, c-format
@@ -924,35 +885,28 @@
 
 #: fetchmail.c:1100
 msgid "fetchmail: Error: multiple \"defaults\" records in config file.\n"
-msgstr ""
-"fetchmail: ??????: ???????????? ?????? \"defaults\" ? ????? ?????????.\n"
+msgstr "fetchmail: ??????: ???????????? ?????? \"defaults\" ? ????? ?????????.\n"
 
 #: fetchmail.c:1222
 msgid "SSL support is not compiled in.\n"
 msgstr "????????? SSL ?? ???? ???????? ??? ??????????.\n"
 
 #: fetchmail.c:1229
-#, fuzzy
 msgid "KERBEROS v4 support is configured, but not compiled in.\n"
-msgstr "????????? SSL ?? ???? ???????? ??? ??????????.\n"
+msgstr "????????? KERBEROS v4 ?????????, ?? ?? ???? ???????? ??? ??????????.\n"
 
 #: fetchmail.c:1235
-#, fuzzy
 msgid "KERBEROS v5 support is configured, but not compiled in.\n"
-msgstr "????????? SSL ?? ???? ???????? ??? ??????????.\n"
+msgstr "????????? KERBEROS v5 ?????????, ?? ?? ???? ???????? ??? ??????????.\n"
 
 #: fetchmail.c:1241
-#, fuzzy
 msgid "GSSAPI support is configured, but not compiled in.\n"
-msgstr "????????? SSL ?? ???? ???????? ??? ??????????.\n"
+msgstr "????????? GSSAPI ?????????, ?? ?? ???? ???????? ??? ??????????.\n"
 
 #: fetchmail.c:1271
 #, c-format
-msgid ""
-"fetchmail: warning: no DNS available to check multidrop fetches from %s\n"
-msgstr ""
-"fetchmail: ??????????????: ?? ???????? DNS ??? ???????? ?????????????? "
-"??????? ?? %s\n"
+msgid "fetchmail: warning: no DNS available to check multidrop fetches from %s\n"
+msgstr "fetchmail: ??????????????: ?? ???????? DNS ??? ???????? ?????????????? ??????? ?? %s\n"
 
 #: fetchmail.c:1282
 #, c-format
@@ -961,37 +915,26 @@
 
 #: fetchmail.c:1283
 msgid "warning: Do not ask for support if all mail goes to postmaster!\n"
-msgstr ""
-"??????????????: ?? ??????? ??????????? ?????????, ???? ??? ????????? "
-"???????????? ???????????!\n"
+msgstr "??????????????: ?? ??????? ??????????? ?????????, ???? ??? ????????? ???????????? ???????????!\n"
 
 #: fetchmail.c:1300
 #, c-format
-msgid ""
-"fetchmail: %s configuration invalid, specify positive port number for "
-"service or port\n"
-msgstr ""
-"fetchmail: ???????????? %s ?? ?????, ??????? ????????????? ????? ????? ??? "
-"??????\n"
+msgid "fetchmail: %s configuration invalid, specify positive port number for service or port\n"
+msgstr "fetchmail: ???????????? %s ?? ?????, ??????? ????????????? ????? ????? ??? ??????\n"
 
 #: fetchmail.c:1307
 #, c-format
 msgid "fetchmail: %s configuration invalid, RPOP requires a privileged port\n"
-msgstr ""
-"fetchmail: ???????????? %s ?? ?????, ??? RPOP ????????? ????????????????? "
-"????\n"
+msgstr "fetchmail: ???????????? %s ?? ?????, ??? RPOP ????????? ????????????????? ????\n"
 
 #: fetchmail.c:1325
 #, c-format
 msgid "%s configuration invalid, LMTP can't use default SMTP port\n"
-msgstr ""
-"???????????? %s ?? ?????, LMTP ?? ????? ???????????? ???? SMTP ?? ?????????\n"
+msgstr "???????????? %s ?? ?????, LMTP ?? ????? ???????????? ???? SMTP ?? ?????????\n"
 
 #: fetchmail.c:1339
 msgid "Both fetchall and keep on in daemon or idle mode is a mistake!\n"
-msgstr ""
-"????????? fetchall, ???????? ??? ??? ???? ? ?????? ?????? ??? ???????, "
-"??????!\n"
+msgstr "????????? fetchall, ???????? ??? ??? ???? ? ?????? ?????? ??? ???????, ??????!\n"
 
 #: fetchmail.c:1364
 #, c-format
@@ -1057,8 +1000,7 @@
 
 #: fetchmail.c:1544
 msgid "Fetchmail will show progress dots even in logfiles.\n"
-msgstr ""
-"Fetchmail ????? ?????????? ???????? ?????? ????????? ???? ? log-??????.\n"
+msgstr "Fetchmail ????? ?????????? ???????? ?????? ????????? ???? ? log-??????.\n"
 
 #: fetchmail.c:1546
 #, c-format
@@ -1248,31 +1190,19 @@
 
 #: fetchmail.c:1684
 msgid "  Old messages will be flushed before message retrieval (--flush on).\n"
-msgstr ""
-"  ?????? ????????? ????? ??????? ????? ?????????? ????????? (--flush on).\n"
+msgstr "  ?????? ????????? ????? ??????? ????? ?????????? ????????? (--flush on).\n"
 
 #: fetchmail.c:1685
-msgid ""
-"  Old messages will not be flushed before message retrieval (--flush off).\n"
-msgstr ""
-"  ?????? ????????? ?? ????? ??????? ????? ?????????? ????????? (--flush "
-"off).\n"
+msgid "  Old messages will not be flushed before message retrieval (--flush off).\n"
+msgstr "  ?????? ????????? ?? ????? ??????? ????? ?????????? ????????? (--flush off).\n"
 
 #: fetchmail.c:1687
-msgid ""
-"  Oversized messages will be flushed before message retrieval (--limitflush "
-"on).\n"
-msgstr ""
-"  ????????? ??????????? ??????? ????? ??????? ????? ?????????? ????????? (--"
-"limitflush on).\n"
+msgid "  Oversized messages will be flushed before message retrieval (--limitflush on).\n"
+msgstr "  ????????? ??????????? ??????? ????? ??????? ????? ?????????? ????????? (--limitflush on).\n"
 
 #: fetchmail.c:1688
-msgid ""
-"  Oversized messages will not be flushed before message retrieval (--"
-"limitflush off).\n"
-msgstr ""
-"  ????????? ??????????? ??????? ?? ????? ??????? ????? ?????????? ????????? "
-"(--limitflush  off).\n"
+msgid "  Oversized messages will not be flushed before message retrieval (--limitflush off).\n"
+msgstr "  ????????? ??????????? ??????? ?? ????? ??????? ????? ?????????? ????????? (--limitflush  off).\n"
 
 #: fetchmail.c:1690
 msgid "  Rewrite of server-local addresses is enabled (--norewrite off).\n"
@@ -1299,16 +1229,12 @@
 msgstr "  ?????????????? ??????? ??????? ???????? (forcecr off).\n"
 
 #: fetchmail.c:1699
-msgid ""
-"  Interpretation of Content-Transfer-Encoding is disabled (pass8bits on).\n"
-msgstr ""
-"  ????????????? ????????? ????????????? ???????? ????????? (pass8bits on).\n"
+msgid "  Interpretation of Content-Transfer-Encoding is disabled (pass8bits on).\n"
+msgstr "  ????????????? ????????? ????????????? ???????? ????????? (pass8bits on).\n"
 
 #: fetchmail.c:1700
-msgid ""
-"  Interpretation of Content-Transfer-Encoding is enabled (pass8bits off).\n"
-msgstr ""
-"  ????????????? ????????? ????????????? ???????? ???????? (pass8bits off).\n"
+msgid "  Interpretation of Content-Transfer-Encoding is enabled (pass8bits off).\n"
+msgstr "  ????????????? ????????? ????????????? ???????? ???????? (pass8bits off).\n"
 
 #: fetchmail.c:1702
 msgid "  MIME decoding is enabled (mimedecode on).\n"
@@ -1354,9 +1280,7 @@
 #: fetchmail.c:1721
 #, c-format
 msgid "  Message size warning interval is %d seconds (--warnings %d).\n"
-msgstr ""
-"  ???????? ????? ???????????????? ? ??????? ????????? - %d ?????? (--"
-"warnings %d).\n"
+msgstr "  ???????? ????? ???????????????? ? ??????? ????????? - %d ?????? (--warnings %d).\n"
 
 #: fetchmail.c:1724
 msgid "  Size warnings on every poll (--warnings 0).\n"
@@ -1374,8 +1298,7 @@
 #: fetchmail.c:1732
 #, c-format
 msgid "  Fetch message size limit is %d (--fetchsizelimit %d).\n"
-msgstr ""
-"  ??????????? ?? ?????? ??????? ????????? - %d (--fetchsizelimit %d).\n"
+msgstr "  ??????????? ?? ?????? ??????? ????????? - %d (--fetchsizelimit %d).\n"
 
 #: fetchmail.c:1735
 msgid "  No fetch message size limit (--fetchsizelimit 0).\n"
@@ -1383,20 +1306,16 @@
 
 #: fetchmail.c:1739
 msgid "  Do binary search of UIDs during each poll (--fastuidl 1).\n"
-msgstr ""
-"  ????????? ???????? ????? UID'?? ?? ????? ??????? ?????? (--fastuidl -1).\n"
+msgstr "  ????????? ???????? ????? UID'?? ?? ????? ??????? ?????? (--fastuidl -1).\n"
 
 #: fetchmail.c:1741
 #, c-format
 msgid "  Do binary search of UIDs during %d out of %d polls (--fastuidl %d).\n"
-msgstr ""
-"  ????????? ???????? ????? UID'?? ?? ????? %d ?? %d ??????? (--fastuidl %"
-"d).\n"
+msgstr "  ????????? ???????? ????? UID'?? ?? ????? %d ?? %d ??????? (--fastuidl %d).\n"
 
 #: fetchmail.c:1744
 msgid "   Do linear search of UIDs during each poll (--fastuidl 0).\n"
-msgstr ""
-"   ????????? ???????? ????? UID'?? ?? ????? ??????? ?????? (--fastuidl 0).\n"
+msgstr "   ????????? ???????? ????? UID'?? ?? ????? ??????? ?????? (--fastuidl 0).\n"
 
 #: fetchmail.c:1746
 #, c-format
@@ -1410,8 +1329,7 @@
 #: fetchmail.c:1752
 #, c-format
 msgid "  Deletion interval between expunges forced to %d (--expunge %d).\n"
-msgstr ""
-"  ???????? ????? ?????????? ????????????? ?????????? ? %d (--expunge %d).\n"
+msgstr "  ???????? ????? ?????????? ????????????? ?????????? ? %d (--expunge %d).\n"
 
 #: fetchmail.c:1754
 msgid "  No forced expunges (--expunge 0).\n"
@@ -1448,8 +1366,7 @@
 #: fetchmail.c:1794
 #, c-format
 msgid "  Address to be put in RCPT TO lines shipped to SMTP will be %s\n"
-msgstr ""
-"  ?????, ??????????? ? ?????? RCPT TO, ???????????? ?? SMTP, ????? %s\n"
+msgstr "  ?????, ??????????? ? ?????? RCPT TO, ???????????? ?? SMTP, ????? %s\n"
 
 #: fetchmail.c:1803
 msgid "  Recognized listener spam block responses are:"
@@ -1505,10 +1422,8 @@
 msgstr "  DNS-?????? ??? ?????????????? ??????? ????????.\n"
 
 #: fetchmail.c:1857
-msgid ""
-"  Server aliases will be compared with multidrop addresses by IP address.\n"
-msgstr ""
-"  ????? ??????? ????? ???????? ? ??????????????? ???????? ?? IP-??????.\n"
+msgid "  Server aliases will be compared with multidrop addresses by IP address.\n"
+msgstr "  ????? ??????? ????? ???????? ? ??????????????? ???????? ?? IP-??????.\n"
 
 #: fetchmail.c:1859
 msgid "  Server aliases will be compared with multidrop addresses by name.\n"
@@ -1566,9 +1481,7 @@
 #: fetchmail.c:1910
 #, c-format
 msgid "  Server connections will be made via plugin %s (--plugin %s).\n"
-msgstr ""
-"  ??????????? ? ??????? ????? ??????????? ??????????? ??????? %s (--plugin %"
-"s).\n"
+msgstr "  ??????????? ? ??????? ????? ??????????? ??????????? ??????? %s (--plugin %s).\n"
 
 #: fetchmail.c:1912
 msgid "  No plugin command specified.\n"
@@ -1577,8 +1490,7 @@
 #: fetchmail.c:1914
 #, c-format
 msgid "  Listener connections will be made via plugout %s (--plugout %s).\n"
-msgstr ""
-"  ??????????? ????????? ????? ??????????? ????? plugout %s (--plugout %s).\n"
+msgstr "  ??????????? ????????? ????? ??????????? ????? plugout %s (--plugout %s).\n"
 
 #: fetchmail.c:1916
 msgid "  No plugout command specified.\n"
@@ -1595,8 +1507,7 @@
 
 #: fetchmail.c:1938
 msgid "  Poll trace information will be added to the Received header.\n"
-msgstr ""
-"  ?????????? ? ???????????? ?????? ????? ????????? ? ????????? Received.\n"
+msgstr "  ?????????? ? ???????????? ?????? ????? ????????? ? ????????? Received.\n"
 
 #: fetchmail.c:1940
 msgid ""
@@ -1709,9 +1620,7 @@
 #: imap.c:454
 #, c-format
 msgid "%s: opportunistic upgrade to TLS failed, trying to continue\n"
-msgstr ""
-"%s: ???? ??????????????? ?????????? ?? TLS; ??????????? ??????? ?????????? "
-"??????\n"
+msgstr "%s: ???? ??????????????? ?????????? ?? TLS; ??????????? ??????? ?????????? ??????\n"
 
 #: imap.c:565
 msgid "Required OTP capability not compiled into fetchmail\n"
@@ -1778,17 +1687,12 @@
 msgstr "%u ?????? ?? ?????????????\n"
 
 #: imap.c:988
-msgid ""
-"Warning: ignoring bogus data for message sizes returned by the server.\n"
-msgstr ""
-"??????????????: ???????????? ???????????? ?????? ? ???????? ?????????, "
-"???????????? ????????.\n"
+msgid "Warning: ignoring bogus data for message sizes returned by the server.\n"
+msgstr "??????????????: ???????????? ???????????? ?????? ? ???????? ?????????, ???????????? ????????.\n"
 
 #: interface.c:256
 msgid "Unable to open kvm interface. Make sure fetchmail is SGID kmem."
-msgstr ""
-"?????????? ??????? ????????? kvm. ?????????, ??? fetchmail ???????? SGID "
-"kmem."
+msgstr "?????????? ??????? ????????? kvm. ?????????, ??? fetchmail ???????? SGID kmem."
 
 #: interface.c:396
 #, c-format
@@ -2034,8 +1938,7 @@
 
 #: options.c:592
 msgid "  -v, --verbose     work noisily (diagnostic output)\n"
-msgstr ""
-"  -v, --verbose     ?????? ? ????????? ??????? ??????????????? ??????\n"
+msgstr "  -v, --verbose     ?????? ? ????????? ??????? ??????????????? ??????\n"
 
 #: options.c:593
 msgid "  -d, --daemon      run as a daemon once per n seconds\n"
@@ -2054,12 +1957,8 @@
 msgstr "  -L, --logfile     ???????? ????? log-?????\n"
 
 #: options.c:597
-msgid ""
-"      --syslog      use syslog(3) for most messages when running as a "
-"daemon\n"
-msgstr ""
-"      --syslog      ????????????? syslog(3) ??? ??????????? ?????????, ????? "
-"??????? ??? ?????\n"
+msgid "      --syslog      use syslog(3) for most messages when running as a daemon\n"
+msgstr "      --syslog      ????????????? syslog(3) ??? ??????????? ?????????, ????? ??????? ??? ?????\n"
 
 #: options.c:598
 msgid "      --invisible   don't write Received & enable host spoofing\n"
@@ -2083,8 +1982,7 @@
 
 #: options.c:603
 msgid "      --nobounce    redirect bounces from user to postmaster.\n"
-msgstr ""
-"      --nobounce    ??????????????? ????????? ????????????? ? ???????????.\n"
+msgstr "      --nobounce    ??????????????? ????????? ????????????? ? ???????????.\n"
 
 #: options.c:605
 msgid "  -I, --interface   interface required specification\n"
@@ -2108,36 +2006,27 @@
 
 #: options.c:612
 msgid "      --sslcertck   do strict server certificate check (recommended)\n"
-msgstr ""
-"      --sslcertck   ??????? ???????? ??????????? ?????? (?????????????)\n"
+msgstr "      --sslcertck   ??????? ???????? ??????????? ?????? (?????????????)\n"
 
 #: options.c:613
 msgid "      --sslcertpath path to ssl certificates\n"
 msgstr "      --sslcertpath ???? ? ???????????? ssl\n"
 
 #: options.c:614
-msgid ""
-"      --sslfingerprint fingerprint that must match that of the server's "
-"cert.\n"
-msgstr ""
-"      --sslfingerprint ?????????, ??????? ?????? ??????????????? ??????????? "
-"???????.\n"
+msgid "      --sslfingerprint fingerprint that must match that of the server's cert.\n"
+msgstr "      --sslfingerprint ?????????, ??????? ?????? ??????????????? ??????????? ???????.\n"
 
 #: options.c:615
 msgid "      --sslproto    force ssl protocol (SSL2/SSL3/TLS1)\n"
-msgstr ""
-"      --sslproto    ?????????????? ????????????? ????????? ssl (SSL2/SSL3/"
-"TLS1)\n"
+msgstr "      --sslproto    ?????????????? ????????????? ????????? ssl (SSL2/SSL3/TLS1)\n"
 
 #: options.c:617
 msgid "      --plugin      specify external command to open connection\n"
-msgstr ""
-"      --plugin      ???????? ??????? ??????? ??? ????????? ??????????\n"
+msgstr "      --plugin      ???????? ??????? ??????? ??? ????????? ??????????\n"
 
 #: options.c:618
 msgid "      --plugout     specify external command to open smtp connection\n"
-msgstr ""
-"      --plugout     ???????? ??????? ??????? ??? ????????? ?????????? smtp\n"
+msgstr "      --plugout     ???????? ??????? ??????? ??? ????????? ?????????? smtp\n"
 
 #: options.c:620
 msgid "  -p, --protocol    specify retrieval protocol (see man page)\n"
@@ -2145,21 +2034,15 @@
 
 #: options.c:621
 msgid "  -U, --uidl        force the use of UIDLs (pop3 only)\n"
-msgstr ""
-"  -U, --uidl        ?????????????? ????????????? UIDL'?? (?????? pop3)\n"
+msgstr "  -U, --uidl        ?????????????? ????????????? UIDL'?? (?????? pop3)\n"
 
 #: options.c:622
 msgid "      --port        TCP port to connect to (obsolete, use --service)\n"
-msgstr ""
-"      --port        TCP-???? ??? ??????????? (???????, ??????????? --"
-"service)\n"
+msgstr "      --port        TCP-???? ??? ??????????? (???????, ??????????? --service)\n"
 
 #: options.c:623
-msgid ""
-"  -P, --service     TCP service to connect to (can be numeric TCP port)\n"
-msgstr ""
-"  -P, --service     ?????? TCP ??? ??????????? (????? ???? ???????? TCP-"
-"??????)\n"
+msgid "  -P, --service     TCP service to connect to (can be numeric TCP port)\n"
+msgstr "  -P, --service     ?????? TCP ??? ??????????? (????? ???? ???????? TCP-??????)\n"
 
 #: options.c:624
 msgid "      --auth        authentication type (password/kerberos/ssh/otp)\n"
@@ -2183,9 +2066,7 @@
 
 #: options.c:629
 msgid "      --tracepolls  add poll-tracing information to Received header\n"
-msgstr ""
-"      --tracepolls  ?????????? ?????????? ??????????? ?????? ? ????????? "
-"Received\n"
+msgstr "      --tracepolls  ?????????? ?????????? ??????????? ?????? ? ????????? Received\n"
 
 #: options.c:631
 msgid "  -u, --username    specify users's login on server\n"
@@ -2217,14 +2098,11 @@
 
 #: options.c:638
 msgid "  -l, --limit       don't fetch messages over given size\n"
-msgstr ""
-"  -l, --limit       ?? ?????? ??????? ????????? ?????? ????????? ???????\n"
+msgstr "  -l, --limit       ?? ?????? ??????? ????????? ?????? ????????? ???????\n"
 
 #: options.c:639
 msgid "  -w, --warnings    interval between warning mail notification\n"
-msgstr ""
-"  -w, --warnings    ?????????? ????? ???????????????? ????????? "
-"?????????????\n"
+msgstr "  -w, --warnings    ?????????? ????? ???????????????? ????????? ?????????????\n"
 
 #: options.c:641
 msgid "  -S, --smtphost    set SMTP forwarding host\n"
@@ -2236,33 +2114,27 @@
 
 #: options.c:643
 msgid "  -D, --smtpaddress set SMTP delivery domain to use\n"
-msgstr ""
-"  -D, --smtpaddress ????????? ??????, ????????????? ??? ???????? SMTP\n"
+msgstr "  -D, --smtpaddress ????????? ??????, ????????????? ??? ???????? SMTP\n"
 
 #: options.c:644
 msgid "      --smtpname    set SMTP full name username at domain\n"
-msgstr ""
-"      --smtpname    ????????? ??????? (????????????@?????) ????? SMTP\n"
+msgstr "      --smtpname    ????????? ??????? (????????????@?????) ????? SMTP\n"
 
 #: options.c:645
 msgid "  -Z, --antispam,   set antispam response values\n"
-msgstr ""
-"  -Z, --antispam,   ????????? ???????? ?????????????? ???????? ????????\n"
+msgstr "  -Z, --antispam,   ????????? ???????? ?????????????? ???????? ????????\n"
 
 #: options.c:646
 msgid "  -b, --batchlimit  set batch limit for SMTP connections\n"
-msgstr ""
-"  -b, --batchlimit  ????????? ??????????? ?? ????? ??? SMTP-??????????\n"
+msgstr "  -b, --batchlimit  ????????? ??????????? ?? ????? ??? SMTP-??????????\n"
 
 #: options.c:647
 msgid "  -B, --fetchlimit  set fetch limit for server connections\n"
-msgstr ""
-"  -B, --fetchlimit  ????????? ??????????? ?? ??????? ??? ?????????? ???????\n"
+msgstr "  -B, --fetchlimit  ????????? ??????????? ?? ??????? ??? ?????????? ???????\n"
 
 #: options.c:648
 msgid "      --fetchsizelimit set fetch message size limit\n"
-msgstr ""
-"      --fetchsizelimit ????????? ??????????? ?? ?????? ??????? ?????????\n"
+msgstr "      --fetchsizelimit ????????? ??????????? ?? ?????? ??????? ?????????\n"
 
 #: options.c:649
 msgid "      --fastuidl    do a binary search for UIDLs\n"
@@ -2290,35 +2162,28 @@
 
 #: options.c:655
 msgid "      --showdots    show progress dots even in logfiles\n"
-msgstr ""
-"      --showdots    ??????????? ???????? ?????? ????????? ???? ? log-??????\n"
+msgstr "      --showdots    ??????????? ???????? ?????? ????????? ???? ? log-??????\n"
 
 #: pop3.c:350
-msgid ""
-"Warning: \"Maillennium POP3/PROXY server\" found, using RETR command instead "
-"of TOP.\n"
-msgstr ""
-"??????????????: ?????? POP3/PROXY-?????? Maillennium; ?????? TOP "
-"???????????? ??????? RETR.\n"
+msgid "Warning: \"Maillennium POP3/PROXY server\" found, using RETR command instead of TOP.\n"
+msgstr "??????????????: ?????? POP3/PROXY-?????? Maillennium; ?????? TOP ???????????? ??????? RETR.\n"
 
 #: pop3.c:449
 msgid "TLS is mandatory for this session, but server refused CAPA command.\n"
-msgstr ""
+msgstr "??? ????? ?????? ????????? ???????????? TLS, ?????? ?????? ???????? ??????? CAPA.\n"
 
 #: pop3.c:450
 msgid "The CAPA command is however necessary for TLS.\n"
-msgstr ""
+msgstr "??????? CAPA ?????????? ??? TLS.\n"
 
 #: pop3.c:525
 #, c-format
 msgid "%s: opportunistic upgrade to TLS failed, trying to continue.\n"
-msgstr ""
-"%s: ???? ??????????????? ?????????? ?? TLS; ??????????? ??????? ?????????? "
-"??????.\n"
+msgstr "%s: ???? ??????????????? ?????????? ?? TLS; ??????????? ??????? ?????????? ??????.\n"
 
 #: pop3.c:633
 msgid "We've run out of allowed authenticators and cannot continue.\n"
-msgstr ""
+msgstr "??????????? ?????????? ???????????????, ??????????? ??????????.\n"
 
 #: pop3.c:647
 msgid "Required APOP timestamp not found in greeting\n"
@@ -2330,11 +2195,11 @@
 
 #: pop3.c:672
 msgid "Invalid APOP timestamp.\n"
-msgstr ""
+msgstr "???????????? ????????? ????? APOP.\n"
 
 #: pop3.c:696
 msgid "Undefined protocol request in POP3_auth\n"
-msgstr "?????????????? ?????? ????????? ? POP3_auth\n"
+msgstr "?????????????? ?????? ????????? ? POP3_auth\n"
 
 #: pop3.c:717
 msgid "lock busy!  Is another session active?\n"
@@ -2383,19 +2248,12 @@
 msgstr "SDPS ?? ???????."
 
 #: rcfile_y.y:213
-msgid ""
-"fetchmail: interface option is only supported under Linux (without IPv6) and "
-"FreeBSD\n"
-msgstr ""
-"fetchmail: ????? interface ?????????????? ?????? ? Linux (??? IPv6) ? "
-"FreeBSD\n"
+msgid "fetchmail: interface option is only supported under Linux (without IPv6) and FreeBSD\n"
+msgstr "fetchmail: ????? interface ?????????????? ?????? ? Linux (??? IPv6) ? FreeBSD\n"
 
 #: rcfile_y.y:220
-msgid ""
-"fetchmail: monitor option is only supported under Linux (without IPv6) and "
-"FreeBSD\n"
-msgstr ""
-"fetchmail: ????? monitor ?????????????? ?????? ? Linux (??? IPv6) ? FreeBSD\n"
+msgid "fetchmail: monitor option is only supported under Linux (without IPv6) and FreeBSD\n"
+msgstr "fetchmail: ????? monitor ?????????????? ?????? ? Linux (??? IPv6) ? FreeBSD\n"
 
 #: rcfile_y.y:333
 msgid "SSL is not enabled"
@@ -2717,11 +2575,8 @@
 
 #: sink.c:1349
 #, c-format
-msgid ""
-"Strange: MDA pclose returned %d and errno %d/%s, cannot handle at %s:%d\n"
-msgstr ""
-"???????: MDA pclose ????????? %d ? ?????? ? ??????? %d/%s, ?????????? "
-"?????????? ? %s:%d\n"
+msgid "Strange: MDA pclose returned %d and errno %d/%s, cannot handle at %s:%d\n"
+msgstr "???????: MDA pclose ????????? %d ? ?????? ? ??????? %d/%s, ?????????? ?????????? ? %s:%d\n"
 
 #: sink.c:1371
 msgid "Message termination or close of BSMTP file failed\n"
@@ -2847,9 +2702,7 @@
 
 #: socket.c:662
 msgid "Warning: Issuer Organization Name too long (possibly truncated).\n"
-msgstr ""
-"??????????????: ??? ????????????? ??????????? ??????? ??????? (???????? "
-"?????????).\n"
+msgstr "??????????????: ??? ????????????? ??????????? ??????? ??????? (???????? ?????????).\n"
 
 #: socket.c:664
 msgid "Unknown Organization\n"
@@ -2862,8 +2715,7 @@
 
 #: socket.c:668
 msgid "Warning: Issuer CommonName too long (possibly truncated).\n"
-msgstr ""
-"??????????????: ???????????? ??? ??????? ??????? (???????? ?????????).\n"
+msgstr "??????????????: ???????????? ??? ??????? ??????? (???????? ?????????).\n"
 
 #: socket.c:670
 msgid "Unknown Issuer CommonName\n"
@@ -2939,9 +2791,7 @@
 #: socket.c:891
 #, c-format
 msgid "Invalid SSL protocol '%s' specified, using default (SSLv23).\n"
-msgstr ""
-"?????? ???????? ???????? SSL '%s', ???????????? ???????? ?? ????????? "
-"(SSLv23).\n"
+msgstr "?????? ???????? ???????? SSL '%s', ???????????? ???????? ?? ????????? (SSLv23).\n"
 
 #: socket.c:964
 msgid "Certificate/fingerprint verification was somehow skipped!\n"



From svn at mknod.org  Wed Mar 28 22:10:53 2007
From: svn at mknod.org (svn at mknod.org)
Date: Wed, 28 Mar 2007 15:10:53 -0500 (CDT)
Subject: [fetchmail-svn] r5069 - branches/BRANCH_6-3
Message-ID: <20070328201053.06E9621808F@mknod.org>

Author: m-a
Date: 2007-03-28 15:10:52 -0500 (Wed, 28 Mar 2007)
New Revision: 5069

Modified:
   branches/BRANCH_6-3/Makefile.am
Log:
Support blanks in $PATH.

Modified: branches/BRANCH_6-3/Makefile.am
===================================================================
--- branches/BRANCH_6-3/Makefile.am	2007-03-28 20:10:34 UTC (rev 5068)
+++ branches/BRANCH_6-3/Makefile.am	2007-03-28 20:10:52 UTC (rev 5069)
@@ -176,7 +176,7 @@
 	AWK=$(AWK) $(SHELL) $(srcdir)/dist-tools/html2txt $(srcdir)/todo.html >$@ || { rm -f $@ ; exit 1 ; }
 
 fetchmail-man.html: fetchmail.man $(srcdir)/dist-tools/manServer.pl
-	env - PATH=$$PATH $(srcdir)/dist-tools/manServer.pl $(srcdir)/fetchmail.man >$@ \
+	env - "PATH=$$PATH" $(srcdir)/dist-tools/manServer.pl $(srcdir)/fetchmail.man >$@ \
 	|| { rm -f $@ ; exit 1 ; }
 
 dist-hook:



From svn at mknod.org  Fri Mar 30 00:21:26 2007
From: svn at mknod.org (svn at mknod.org)
Date: Thu, 29 Mar 2007 17:21:26 -0500 (CDT)
Subject: [fetchmail-svn] r5070 - branches/BRANCH_6-3
Message-ID: <20070329222126.29828218095@mknod.org>

Author: m-a
Date: 2007-03-29 17:21:25 -0500 (Thu, 29 Mar 2007)
New Revision: 5070

Modified:
   branches/BRANCH_6-3/NEWS
   branches/BRANCH_6-3/sink.c
Log:
Do not crash with a null pointer dereference when opening the BSMTP file 
fails. Improve error checking and reporting. Reported by Reto Schttel, 
Debian Bug#416625. Fix based on a patch by Nico Golde.

Modified: branches/BRANCH_6-3/NEWS
===================================================================
--- branches/BRANCH_6-3/NEWS	2007-03-28 20:10:52 UTC (rev 5069)
+++ branches/BRANCH_6-3/NEWS	2007-03-29 22:21:25 UTC (rev 5070)
@@ -74,6 +74,9 @@
   Reported by Nico Golde.
 * If SOCKS support was compiled in, add 'socks' to the feature_options Python
   list emitted in --configdump. Reported by Rob MacGregor.
+* Do not crash with a null pointer dereference when opening the BSMTP file 
+  fails. Improve error checking and reporting. Reported by Reto Sch?ttel,
+  Debian Bug#416625. Fix based on a patch by Nico Golde.
 
 # DOCUMENTATION:
 * Extend --mda documentation, discourage use of qmail-inject.

Modified: branches/BRANCH_6-3/sink.c
===================================================================
--- branches/BRANCH_6-3/sink.c	2007-03-28 20:10:52 UTC (rev 5069)
+++ branches/BRANCH_6-3/sink.c	2007-03-29 22:21:25 UTC (rev 5070)
@@ -708,6 +708,12 @@
     else
 	sinkfp = fopen(ctl->bsmtp, "a");
 
+    if (!sinkfp || ferror(sinkfp)) {
+	report(stderr, GT_("BSMTP file open failed: %s\n"), 
+		strerror(errno));
+        return(PS_BSMTP);
+    }
+
     /* see the ap computation under the SMTP branch */
     need_anglebrs = (msg->return_path[0] != '<');
     fprintf(sinkfp,
@@ -747,9 +753,9 @@
 
     fputs("DATA\r\n", sinkfp);
 
-    if (ferror(sinkfp))
+    if (fflush(sinkfp) || ferror(sinkfp))
     {
-	report(stderr, GT_("BSMTP file open or preamble write failed\n"));
+	report(stderr, GT_("BSMTP preamble write failed.\n"));
 	return(PS_BSMTP);
     }
 



From svn at mknod.org  Fri Mar 30 00:52:16 2007
From: svn at mknod.org (svn at mknod.org)
Date: Thu, 29 Mar 2007 17:52:16 -0500 (CDT)
Subject: [fetchmail-svn] r5071 - branches/BRANCH_6-3
Message-ID: <20070329225216.D692F218096@mknod.org>

Author: m-a
Date: 2007-03-29 17:52:16 -0500 (Thu, 29 Mar 2007)
New Revision: 5071

Modified:
   branches/BRANCH_6-3/NEWS
   branches/BRANCH_6-3/sink.c
Log:
Make BSMTP output actually work, it would persistently fail with SOCKET error 
after writing the first header.

Modified: branches/BRANCH_6-3/NEWS
===================================================================
--- branches/BRANCH_6-3/NEWS	2007-03-29 22:21:25 UTC (rev 5070)
+++ branches/BRANCH_6-3/NEWS	2007-03-29 22:52:16 UTC (rev 5071)
@@ -77,6 +77,8 @@
 * Do not crash with a null pointer dereference when opening the BSMTP file 
   fails. Improve error checking and reporting. Reported by Reto Sch?ttel,
   Debian Bug#416625. Fix based on a patch by Nico Golde.
+* Make BSMTP output actually work, it would persistently fail with SOCKET error
+  after writing the first header.
 
 # DOCUMENTATION:
 * Extend --mda documentation, discourage use of qmail-inject.

Modified: branches/BRANCH_6-3/sink.c
===================================================================
--- branches/BRANCH_6-3/sink.c	2007-03-29 22:21:25 UTC (rev 5070)
+++ branches/BRANCH_6-3/sink.c	2007-03-29 22:52:16 UTC (rev 5071)
@@ -686,7 +686,7 @@
 
     n = 0;
     if (ctl->mda || ctl->bsmtp) {
-	n = fwrite(buf, last - buf, 1, sinkfp);
+	n = fwrite(buf, 1, last - buf, sinkfp);
 	if (ferror(sinkfp)) n = -1;
     } else if (ctl->smtp_socket != -1)
 	n = SockWrite(ctl->smtp_socket, buf, last - buf);



From svn at mknod.org  Fri Mar 30 00:53:11 2007
From: svn at mknod.org (svn at mknod.org)
Date: Thu, 29 Mar 2007 17:53:11 -0500 (CDT)
Subject: [fetchmail-svn] r5072 - branches/BRANCH_6-3/po
Message-ID: <20070329225311.6FC90218096@mknod.org>

Author: m-a
Date: 2007-03-29 17:53:10 -0500 (Thu, 29 Mar 2007)
New Revision: 5072

Modified:
   branches/BRANCH_6-3/po/ja.po
Log:
Update to 6.3.8-rc2. Takeshi Hamasaki.

Modified: branches/BRANCH_6-3/po/ja.po
===================================================================
--- branches/BRANCH_6-3/po/ja.po	2007-03-29 22:52:16 UTC (rev 5071)
+++ branches/BRANCH_6-3/po/ja.po	2007-03-29 22:53:10 UTC (rev 5072)
@@ -6,10 +6,10 @@
 #
 msgid ""
 msgstr ""
-"Project-Id-Version: fetchmail 6.3.7-rc1\n"
+"Project-Id-Version: fetchmail 6.3.8-rc2\n"
 "Report-Msgid-Bugs-To: fetchmail-devel at lists.berlios.de\n"
 "POT-Creation-Date: 2007-03-18 02:13+0100\n"
-"PO-Revision-Date: 2007-02-06 00:08+0900\n"
+"PO-Revision-Date: 2007-03-29 23:01+0900\n"
 "Last-Translator: Takeshi Hamasaki <hma at syd.odn.ne.jp>\n"
 "Language-Team: Japanese <translation-team-ja at lists.sourceforge.net>\n"
 "MIME-Version: 1.0\n"
@@ -66,29 +66,24 @@
 #: driver.c:339
 #, c-format
 msgid "The following oversized messages were deleted on server %s account %s:"
-msgstr ""
-"???????????????????????? %s ????? %s ?????"
-"??? :"
+msgstr "???????????????????????? %s ????? %s ???????? :"
 
 #: driver.c:343
 #, c-format
 msgid "The following oversized messages remain on server %s account %s:"
-msgstr ""
-"???????????????????????? %s ????? %s ?????"
-"?? :"
+msgstr "???????????????????????? %s ????? %s ??????? :"
 
 #: driver.c:362
-#, fuzzy, c-format
+#, c-format
 msgid "  %d message  %d octets long deleted by fetchmail."
 msgid_plural "  %d messages %d octets long deleted by fetchmail."
-msgstr[0] "  %d ????????(%d bytes ????????)?????????"
+msgstr[0] "fetchmail ? %d ???????(%d bytes ????????)????????"
 
 #: driver.c:367
-#, fuzzy, c-format
+#, c-format
 msgid "  %d message  %d octets long skipped by fetchmail."
 msgid_plural "  %d messages %d octets long skipped by fetchmail."
-msgstr[0] ""
-"  %d ????????(%d ??? ????????)???????????"
+msgstr[0] "fetchmail ? %d ???????(%d ??? ????????)??????????"
 
 #: driver.c:503
 #, c-format
@@ -98,8 +93,7 @@
 #: driver.c:557
 #, c-format
 msgid "skipping message %s@%s:%d (%d octets)"
-msgstr ""
-"%s@%s ????? %d ???????? (%d ???) ???????????"
+msgstr "%s@%s ????? %d ???????? (%d ???) ???????????"
 
 #: driver.c:573
 msgid " (length -1)"
@@ -112,9 +106,7 @@
 #: driver.c:591
 #, c-format
 msgid "couldn't fetch headers, message %s@%s:%d (%d octets)\n"
-msgstr ""
-"%s@%s ????? %d ????????(%d ???) ??????????????"
-"??\n"
+msgstr "%s@%s ????? %d ????????(%d ???) ????????????????\n"
 
 #: driver.c:608
 #, c-format
@@ -138,11 +130,8 @@
 
 #: driver.c:743
 #, c-format
-msgid ""
-"message %s@%s:%d was not the expected length (%d actual != %d expected)\n"
-msgstr ""
-"%s@%s ????? %d ?????????????????? (%d (??) != %d (?"
-"?)) \n"
+msgid "message %s@%s:%d was not the expected length (%d actual != %d expected)\n"
+msgstr "%s@%s ????? %d ?????????????????? (%d (??) != %d (??)) \n"
 
 #: driver.c:774
 msgid " retained\n"
@@ -159,11 +148,8 @@
 #: driver.c:819
 #, c-format
 msgid "fetchlimit %d reached; %d message left on server %s account %s\n"
-msgid_plural ""
-"fetchlimit %d reached; %d messages left on server %s account %s\n"
-msgstr[0] ""
-"?????????? %d ???????; ?????? %d ????? %s ???"
-"??? %s ??????????\n"
+msgid_plural "fetchlimit %d reached; %d messages left on server %s account %s\n"
+msgstr[0] "?????????? %d ???????; ?????? %d ????? %s ?????? %s ??????????\n"
 
 #: driver.c:876
 #, c-format
@@ -183,8 +169,7 @@
 #: driver.c:889
 #, c-format
 msgid "timeout after %d seconds waiting for listener to respond.\n"
-msgstr ""
-"????????????? %d ????????????????????\n"
+msgstr "????????????? %d ????????????????????\n"
 
 #: driver.c:892
 #, c-format
@@ -197,12 +182,8 @@
 
 #: driver.c:907
 #, c-format
-msgid ""
-"Fetchmail saw more than %d timeouts while attempting to get mail from %s@%"
-"s.\n"
-msgstr ""
-"Fetchmail ???? %d ????%s@%s ????????????????????"
-"??????????????\n"
+msgid "Fetchmail saw more than %d timeouts while attempting to get mail from %s@%s.\n"
+msgstr "Fetchmail ???? %d ????%s@%s ??????????????????????????????????\n"
 
 #: driver.c:911
 msgid ""
@@ -223,9 +204,7 @@
 #: driver.c:936
 #, c-format
 msgid "pre-connection command failed with status %d\n"
-msgstr ""
-"????????????????????????? %d ?????????"
-"??\n"
+msgstr "????????????????????????? %d ???????????\n"
 
 #: driver.c:960
 #, c-format
@@ -332,10 +311,8 @@
 "is restored."
 msgstr ""
 "??????????\n"
-"??????????????????????????????????????"
-"??? login ???????????????????????????\n"
-"fetchmail ???????????????????? ????????????"
-"??\n"
+"????????????????????????????????????????? login ???????????????????????????\n"
+"fetchmail ???????????????????? ??????????????\n"
 "\n"
 "fetchmail ????????????????\n"
 "????????????????????????????????"
@@ -363,8 +340,7 @@
 #: driver.c:1261
 #, c-format
 msgid "Fetchmail was able to log into %s@%s.\n"
-msgstr ""
-"%s@%s ????????? fetchmail ?????????????????\n"
+msgstr "%s@%s ????????? fetchmail ?????????????????\n"
 
 #: driver.c:1265
 msgid "Service has been restored.\n"
@@ -373,14 +349,11 @@
 #: driver.c:1297
 #, c-format
 msgid "selecting or re-polling folder %s\n"
-msgstr ""
-"?????????????????????? %s ???????????\n"
+msgstr "?????????????????????? %s ???????????\n"
 
 #: driver.c:1299
 msgid "selecting or re-polling default folder\n"
-msgstr ""
-"?????????????????????????????????????"
-"??\n"
+msgstr "???????????????????????????????????????\n"
 
 #: driver.c:1311
 #, c-format
@@ -467,9 +440,7 @@
 #: driver.c:1547
 #, c-format
 msgid "%s error while fetching from %s@%s and delivering to SMTP host %s\n"
-msgstr ""
-"%s???????????%s@%s????????? SMTP ??? %s ???????"
-"???????\n"
+msgstr "%s???????????%s@%s????????? SMTP ??? %s ??????????????\n"
 
 #: driver.c:1549
 msgid "unknown"
@@ -528,24 +499,20 @@
 msgid ""
 "%s: The NULLMAILER_FLAGS environment variable is set.\n"
 "This is dangerous as it can make nullmailer-inject or nullmailer's\n"
-"sendmail wrapper tamper with your From:, Message-ID: or Return-Path: "
-"headers.\n"
+"sendmail wrapper tamper with your From:, Message-ID: or Return-Path: headers.\n"
 "Try \"env NULLMAILER_FLAGS= %s YOUR ARGUMENTS HERE\"\n"
 "%s: Abort.\n"
 msgstr ""
 "%s: NULLMAILER_FLAGS ??????????????\n"
 "nullmailer-inject ? nullmailer ? senmail wrapper ????\n"
-"???? From: ? Message-ID:?Return-Path: ????????????????"
-"???\n"
-"\"env NULLMAILER_FLAGS= %s (????????????????)\" ?????"
-"??\n"
+"???? From: ? Message-ID:?Return-Path: ???????????????????\n"
+"\"env NULLMAILER_FLAGS= %s (????????????????)\" ???????\n"
 "%s: ??????\n"
 
 #: env.c:83
 #, c-format
 msgid "%s: You don't exist.  Go away.\n"
-msgstr ""
-"%s: ?????????????????????????????????\n"
+msgstr "%s: ?????????????????????????????????\n"
 
 #: env.c:145
 #, c-format
@@ -564,13 +531,11 @@
 #: env.c:174
 msgid ""
 "Trying to continue with unqualified hostname.\n"
-"DO NOT report broken Received: headers, HELO/EHLO lines or similar "
-"problems!\n"
+"DO NOT report broken Received: headers, HELO/EHLO lines or similar problems!\n"
 "DO repair your /etc/hosts, DNS, NIS or LDAP instead.\n"
 msgstr ""
 "????????????????\n"
-"Received: ???, HELO/EHLO ????????????????????????"
-"??????????????\n"
+"Received: ???, HELO/EHLO ??????????????????????????????????????\n"
 "/etc/hosts, DNS, NIS ??? LDAP ?????????????\n"
 
 #: etrn.c:49 odmr.c:60
@@ -640,14 +605,12 @@
 #: fetchmail.c:137
 msgid ""
 "Copyright (C) 2002, 2003 Eric S. Raymond\n"
-"Copyright (C) 2004 Matthias Andree, Eric S. Raymond, Rob F. Funk, Graham "
-"Wilson\n"
+"Copyright (C) 2004 Matthias Andree, Eric S. Raymond, Rob F. Funk, Graham Wilson\n"
 "Copyright (C) 2005-2006 Sunil Shetye\n"
 "Copyright (C) 2005-2007 Matthias Andree\n"
 msgstr ""
 "Copyright (C) 2002, 2003 Eric S. Raymond\n"
-"Copyright (C) 2004 Matthias Andree, Eric S. Raymond, Rob F. Funk, Graham "
-"Wilson\n"
+"Copyright (C) 2004 Matthias Andree, Eric S. Raymond, Rob F. Funk, Graham Wilson\n"
 "Copyright (C) 2005-2006 Sunil Shetye\n"
 "Copyright (C) 2005-2007 Matthias Andree\n"
 
@@ -719,20 +682,13 @@
 msgstr "fetchmail: %s fetchmail (PID=%d) ????????\n"
 
 #: fetchmail.c:472
-msgid ""
-"fetchmail: can't check mail while another fetchmail to same host is "
-"running.\n"
-msgstr ""
-"fetchmail: ??????????? fetchmail ????????????????"
-"??????\n"
+msgid "fetchmail: can't check mail while another fetchmail to same host is running.\n"
+msgstr "fetchmail: ??????????? fetchmail ??????????????????????\n"
 
 #: fetchmail.c:478
 #, c-format
-msgid ""
-"fetchmail: can't poll specified hosts with another fetchmail running at %d.\n"
-msgstr ""
-"fetchmail: ?? fetchmail (PID=%d) ?????????????????????"
-"???\n"
+msgid "fetchmail: can't poll specified hosts with another fetchmail running at %d.\n"
+msgstr "fetchmail: ?? fetchmail (PID=%d) ????????????????????????\n"
 
 #: fetchmail.c:485
 #, c-format
@@ -740,23 +696,18 @@
 msgstr "fetchmail: ?? fetchmail (PID=%d) ???????????????\n"
 
 #: fetchmail.c:495
-msgid ""
-"fetchmail: can't accept options while a background fetchmail is running.\n"
-msgstr ""
-"fetchmail: ????????? fetchmail ??????????????????"
-"?????\n"
+msgid "fetchmail: can't accept options while a background fetchmail is running.\n"
+msgstr "fetchmail: ????????? fetchmail ???????????????????????\n"
 
 #: fetchmail.c:501
 #, c-format
 msgid "fetchmail: background fetchmail at %d awakened.\n"
-msgstr ""
-"fetchmail: ????????? fetchmail (PID=%d) ???????????\n"
+msgstr "fetchmail: ????????? fetchmail (PID=%d) ???????????\n"
 
 #: fetchmail.c:513
 #, c-format
 msgid "fetchmail: elder sibling at %d died mysteriously.\n"
-msgstr ""
-"fetchmail: ????????? fetchmail (PID=%d) ??????????\n"
+msgstr "fetchmail: ????????? fetchmail (PID=%d) ??????????\n"
 
 #: fetchmail.c:528
 #, c-format
@@ -770,9 +721,7 @@
 
 #: fetchmail.c:557 fetchmail.c:593
 msgid "fetchmail: Warning: syslog and logfile are set. Check both for logs!\n"
-msgstr ""
-"fetchmail: ?? : syslog ??????????????????????????"
-"????\n"
+msgstr "fetchmail: ?? : syslog ??????????????????????????????\n"
 
 #: fetchmail.c:569
 msgid "fetchmail: Cannot detach into background. Aborting.\n"
@@ -917,8 +866,7 @@
 
 #: fetchmail.c:1100
 msgid "fetchmail: Error: multiple \"defaults\" records in config file.\n"
-msgstr ""
-"fetchmail: ??? : ???????? \"defaults\" ???????????\n"
+msgstr "fetchmail: ??? : ???????? \"defaults\" ???????????\n"
 
 #: fetchmail.c:1222
 msgid "SSL support is not compiled in.\n"
@@ -926,69 +874,48 @@
 
 #: fetchmail.c:1229
 msgid "KERBEROS v4 support is configured, but not compiled in.\n"
-msgstr ""
-"KERBEROS v4 ???????????????????????????????"
-"??\n"
+msgstr "KERBEROS v4 ?????????????????????????????????\n"
 
 #: fetchmail.c:1235
 msgid "KERBEROS v5 support is configured, but not compiled in.\n"
-msgstr ""
-"KERBEROS v5 ???????????????????????????????"
-"??\n"
+msgstr "KERBEROS v5 ?????????????????????????????????\n"
 
 #: fetchmail.c:1241
 msgid "GSSAPI support is configured, but not compiled in.\n"
-msgstr ""
-"GSSAPI ?????????????????????????????????\n"
+msgstr "GSSAPI ?????????????????????????????????\n"
 
 #: fetchmail.c:1271
 #, c-format
-msgid ""
-"fetchmail: warning: no DNS available to check multidrop fetches from %s\n"
-msgstr ""
-"fetchmail: ?? : %s ?? multidrop fetch ???????? DNS ???????"
-"???\n"
+msgid "fetchmail: warning: no DNS available to check multidrop fetches from %s\n"
+msgstr "fetchmail: ?? : %s ?? multidrop fetch ???????? DNS ??????????\n"
 
 #: fetchmail.c:1282
 #, c-format
 msgid "warning: multidrop for %s requires envelope option!\n"
-msgstr ""
-"??: %s ??????????????????????????????!\n"
+msgstr "??: %s ??????????????????????????????!\n"
 
 #: fetchmail.c:1283
 msgid "warning: Do not ask for support if all mail goes to postmaster!\n"
-msgstr ""
-"??: ???????? postmaster ????????????????????"
-"?!\n"
+msgstr "??: ???????? postmaster ?????????????????????!\n"
 
 #: fetchmail.c:1300
 #, c-format
-msgid ""
-"fetchmail: %s configuration invalid, specify positive port number for "
-"service or port\n"
-msgstr ""
-"fetchmail: ??? %s ????????????????????????????"
-"?????\n"
+msgid "fetchmail: %s configuration invalid, specify positive port number for service or port\n"
+msgstr "fetchmail: ??? %s ?????????????????????????????????\n"
 
 #: fetchmail.c:1307
 #, c-format
 msgid "fetchmail: %s configuration invalid, RPOP requires a privileged port\n"
-msgstr ""
-"fetchmail: ??? %s ????????? RPOP ?? privileged port ?????"
-"????????\n"
+msgstr "fetchmail: ??? %s ????????? RPOP ?? privileged port ?????????????\n"
 
 #: fetchmail.c:1325
 #, c-format
 msgid "%s configuration invalid, LMTP can't use default SMTP port\n"
-msgstr ""
-"??? %s ?????????LMTP ??????? SMTP ??????????"
-"??\n"
+msgstr "??? %s ?????????LMTP ??????? SMTP ????????????\n"
 
 #: fetchmail.c:1339
 msgid "Both fetchall and keep on in daemon or idle mode is a mistake!\n"
-msgstr ""
-"fetchall ? keep ??????????????????????????????"
-"??\n"
+msgstr "fetchall ? keep ????????????????????????????????\n"
 
 #: fetchmail.c:1364
 #, c-format
@@ -998,9 +925,7 @@
 #: fetchmail.c:1437
 #, c-format
 msgid "%s querying %s (protocol %s) at %s: poll started\n"
-msgstr ""
-"%s ? %s ?????? %s ???? %s ??????????????????"
-"??\n"
+msgstr "%s ? %s ?????? %s ???? %s ????????????????????\n"
 
 #: fetchmail.c:1462
 msgid "POP2 support is not configured.\n"
@@ -1029,8 +954,7 @@
 #: fetchmail.c:1515
 #, c-format
 msgid "%s querying %s (protocol %s) at %s: poll completed\n"
-msgstr ""
-"%s ? %s ?????? %s ???? %s ???????????????????\n"
+msgstr "%s ? %s ?????? %s ???? %s ???????????????????\n"
 
 #: fetchmail.c:1532
 #, c-format
@@ -1249,23 +1173,16 @@
 msgstr "  ???????????????????? (--flush on)\n"
 
 #: fetchmail.c:1685
-msgid ""
-"  Old messages will not be flushed before message retrieval (--flush off).\n"
+msgid "  Old messages will not be flushed before message retrieval (--flush off).\n"
 msgstr "  ????????????????????????? (--flush off)\n"
 
 #: fetchmail.c:1687
-msgid ""
-"  Oversized messages will be flushed before message retrieval (--limitflush "
-"on).\n"
+msgid "  Oversized messages will be flushed before message retrieval (--limitflush on).\n"
 msgstr "  ???????????????????????? (--limitflush on)\n"
 
 #: fetchmail.c:1688
-msgid ""
-"  Oversized messages will not be flushed before message retrieval (--"
-"limitflush off).\n"
-msgstr ""
-"  ????????????????????????????? (--limitflush "
-"off)\n"
+msgid "  Oversized messages will not be flushed before message retrieval (--limitflush off).\n"
+msgstr "  ????????????????????????????? (--limitflush off)\n"
 
 #: fetchmail.c:1690
 msgid "  Rewrite of server-local addresses is enabled (--norewrite off).\n"
@@ -1292,13 +1209,11 @@
 msgstr "  ?????????????? (forcecr off)\n"
 
 #: fetchmail.c:1699
-msgid ""
-"  Interpretation of Content-Transfer-Encoding is disabled (pass8bits on).\n"
+msgid "  Interpretation of Content-Transfer-Encoding is disabled (pass8bits on).\n"
 msgstr "  Content-Transfer-Encoding ?????????? (pass8bits on)\n"
 
 #: fetchmail.c:1700
-msgid ""
-"  Interpretation of Content-Transfer-Encoding is enabled (pass8bits off).\n"
+msgid "  Interpretation of Content-Transfer-Encoding is enabled (pass8bits off).\n"
 msgstr "  Content-Transfer-Encoding ????????? (pass8bits off)\n"
 
 #: fetchmail.c:1702
@@ -1345,30 +1260,25 @@
 #: fetchmail.c:1721
 #, c-format
 msgid "  Message size warning interval is %d seconds (--warnings %d).\n"
-msgstr ""
-"  ???????????????? %d ????????? (--warnings %d)\n"
+msgstr "  ???????????????? %d ????????? (--warnings %d)\n"
 
 #: fetchmail.c:1724
 msgid "  Size warnings on every poll (--warnings 0).\n"
-msgstr ""
-"  ???????????????????????????? (--warnings 0)\n"
+msgstr "  ???????????????????????????? (--warnings 0)\n"
 
 #: fetchmail.c:1727
 #, c-format
 msgid "  Received-message limit is %d (--fetchlimit %d).\n"
-msgstr ""
-"  ????????????????? %d ?????????(--fetchlimit %d)\n"
+msgstr "  ????????????????? %d ?????????(--fetchlimit %d)\n"
 
 #: fetchmail.c:1730
 msgid "  No received-message limit (--fetchlimit 0).\n"
-msgstr ""
-"  ???????????????????????????? (--fetchlimit 0)\n"
+msgstr "  ???????????????????????????? (--fetchlimit 0)\n"
 
 #: fetchmail.c:1732
 #, c-format
 msgid "  Fetch message size limit is %d (--fetchsizelimit %d).\n"
-msgstr ""
-"  ??????????????? %d ????????(--fetchsizelimit %d)\n"
+msgstr "  ??????????????? %d ????????(--fetchsizelimit %d)\n"
 
 #: fetchmail.c:1735
 msgid "  No fetch message size limit (--fetchsizelimit 0).\n"
@@ -1394,8 +1304,7 @@
 
 #: fetchmail.c:1748
 msgid "  No SMTP message batch limit (--batchlimit 0).\n"
-msgstr ""
-"  ???????????????????????????? (--batchlimit 0)\n"
+msgstr "  ???????????????????????????? (--batchlimit 0)\n"
 
 #: fetchmail.c:1752
 #, c-format
@@ -1492,8 +1401,7 @@
 msgstr "  multidrop ????????? DNS ??????\n"
 
 #: fetchmail.c:1857
-msgid ""
-"  Server aliases will be compared with multidrop addresses by IP address.\n"
+msgid "  Server aliases will be compared with multidrop addresses by IP address.\n"
 msgstr "  ??????? multidrop ????? IP ????????????\n"
 
 #: fetchmail.c:1859
@@ -1561,9 +1469,7 @@
 #: fetchmail.c:1914
 #, c-format
 msgid "  Listener connections will be made via plugout %s (--plugout %s).\n"
-msgstr ""
-"  ????????????????????\"%s\"???????(--plugout %"
-"s)\n"
+msgstr "  ????????????????????\"%s\"???????(--plugout %s)\n"
 
 #: fetchmail.c:1916
 msgid "  No plugout command specified.\n"
@@ -1697,8 +1603,7 @@
 
 #: imap.c:565
 msgid "Required OTP capability not compiled into fetchmail\n"
-msgstr ""
-"OTP ??????????fetchmail ? OTP ????????????????\n"
+msgstr "OTP ??????????fetchmail ? OTP ????????????????\n"
 
 #: imap.c:587 pop3.c:380
 msgid "Required NTLM capability not compiled into fetchmail\n"
@@ -1758,17 +1663,12 @@
 msgstr "%u ??????????????\n"
 
 #: imap.c:988
-msgid ""
-"Warning: ignoring bogus data for message sizes returned by the server.\n"
-msgstr ""
-"??: ???????????????????????????????????"
-"???\n"
+msgid "Warning: ignoring bogus data for message sizes returned by the server.\n"
+msgstr "??: ??????????????????????????????????????\n"
 
 #: interface.c:256
 msgid "Unable to open kvm interface. Make sure fetchmail is SGID kmem."
-msgstr ""
-"kvm ??????????????????fetchmail ? SGID kmem ???????"
-"??????"
+msgstr "kvm ??????????????????fetchmail ? SGID kmem ?????????????"
 
 #: interface.c:396
 #, c-format
@@ -1851,8 +1751,7 @@
 #: kerberos.c:139
 #, c-format
 msgid "principal %s in ticket does not match -u %s\n"
-msgstr ""
-"Ticket ?????? %s ? -u ??????????? %s ????????\n"
+msgstr "Ticket ?????? %s ? -u ??????????? %s ????????\n"
 
 #: kerberos.c:147
 #, c-format
@@ -2007,8 +1906,7 @@
 
 #: options.c:590
 msgid "  -c, --check       check for messages without fetching\n"
-msgstr ""
-"  -c, --check       ?????????????(???????????)\n"
+msgstr "  -c, --check       ?????????????(???????????)\n"
 
 #: options.c:591
 msgid "  -s, --silent      work silently\n"
@@ -2035,9 +1933,7 @@
 msgstr "  -L, --logfile     ?????????????????\n"
 
 #: options.c:597
-msgid ""
-"      --syslog      use syslog(3) for most messages when running as a "
-"daemon\n"
+msgid "      --syslog      use syslog(3) for most messages when running as a daemon\n"
 msgstr ""
 "      --syslog      ??????????????? syslog(3) ????\n"
 "                    ???????????????\n"
@@ -2095,15 +1991,12 @@
 msgstr "      --sslcertpath SSL ? client certificate ??????????\n"
 
 #: options.c:614
-msgid ""
-"      --sslfingerprint fingerprint that must match that of the server's "
-"cert.\n"
+msgid "      --sslfingerprint fingerprint that must match that of the server's cert.\n"
 msgstr "      --sslfingerprint ?????????????? fingerprint\n"
 
 #: options.c:615
 msgid "      --sslproto    force ssl protocol (SSL2/SSL3/TLS1)\n"
-msgstr ""
-"      --sslproto    SSL ???????????????? (SSL2/SSL3/TLS1)\n"
+msgstr "      --sslproto    SSL ???????????????? (SSL2/SSL3/TLS1)\n"
 
 #: options.c:617
 msgid "      --plugin      specify external command to open connection\n"
@@ -2111,8 +2004,7 @@
 
 #: options.c:618
 msgid "      --plugout     specify external command to open smtp connection\n"
-msgstr ""
-"      --plugout     SMTP ???????????????????????\n"
+msgstr "      --plugout     SMTP ???????????????????????\n"
 
 #: options.c:620
 msgid "  -p, --protocol    specify retrieval protocol (see man page)\n"
@@ -2126,16 +2018,11 @@
 
 #: options.c:622
 msgid "      --port        TCP port to connect to (obsolete, use --service)\n"
-msgstr ""
-"      --port        ??????? TCP ????????? (????????"
-"??--service ????????)\n"
+msgstr "      --port        ??????? TCP ????????? (??????????--service ????????)\n"
 
 #: options.c:623
-msgid ""
-"  -P, --service     TCP service to connect to (can be numeric TCP port)\n"
-msgstr ""
-"  -P, --service     ???? TCP ????? (??? TCP ??????????"
-"?????)\n"
+msgid "  -P, --service     TCP service to connect to (can be numeric TCP port)\n"
+msgstr "  -P, --service     ???? TCP ????? (??? TCP ???????????????)\n"
 
 #: options.c:624
 msgid "      --auth        authentication type (password/kerberos/ssh/otp)\n"
@@ -2195,8 +2082,7 @@
 
 #: options.c:639
 msgid "  -w, --warnings    interval between warning mail notification\n"
-msgstr ""
-"  -w, --warnings    ??????????????????????????\n"
+msgstr "  -w, --warnings    ??????????????????????????\n"
 
 #: options.c:641
 msgid "  -S, --smtphost    set SMTP forwarding host\n"
@@ -2204,8 +2090,7 @@
 
 #: options.c:642
 msgid "      --fetchdomains fetch mail for specified domains\n"
-msgstr ""
-"      --fetchdomains ??????????????????????????\n"
+msgstr "      --fetchdomains ??????????????????????????\n"
 
 #: options.c:643
 msgid "  -D, --smtpaddress set SMTP delivery domain to use\n"
@@ -2213,9 +2098,7 @@
 
 #: options.c:644
 msgid "      --smtpname    set SMTP full name username at domain\n"
-msgstr ""
-"      --smtpname    SMTP ???????????? username at domain ?????"
-"?\n"
+msgstr "      --smtpname    SMTP ???????????? username at domain ??????\n"
 
 #: options.c:645
 msgid "  -Z, --antispam,   set antispam response values\n"
@@ -2223,19 +2106,15 @@
 
 #: options.c:646
 msgid "  -b, --batchlimit  set batch limit for SMTP connections\n"
-msgstr ""
-"  -b, --batchlimit  ??? SMTP ?????????????????????\n"
+msgstr "  -b, --batchlimit  ??? SMTP ?????????????????????\n"
 
 #: options.c:647
 msgid "  -B, --fetchlimit  set fetch limit for server connections\n"
-msgstr ""
-"  -B, --fetchlimit  ????????????????????????????"
-"??\n"
+msgstr "  -B, --fetchlimit  ??????????????????????????????\n"
 
 #: options.c:648
 msgid "      --fetchsizelimit set fetch message size limit\n"
-msgstr ""
-"      --fetchsizelimit ???????????????????????\n"
+msgstr "      --fetchsizelimit ???????????????????????\n"
 
 #: options.c:649
 msgid "      --fastuidl    do a binary search for UIDLs\n"
@@ -2251,8 +2130,7 @@
 
 #: options.c:652
 msgid "      --bsmtp       set output BSMTP file\n"
-msgstr ""
-"      --bsmtp       ????????????? BSMTP ???????????\n"
+msgstr "      --bsmtp       ????????????? BSMTP ???????????\n"
 
 #: options.c:653
 msgid "      --lmtp        use LMTP (RFC2033) for delivery\n"
@@ -2267,17 +2145,12 @@
 msgstr "      --showdots    ??????????????? . ???????\n"
 
 #: pop3.c:350
-msgid ""
-"Warning: \"Maillennium POP3/PROXY server\" found, using RETR command instead "
-"of TOP.\n"
-msgstr ""
-"??: Maillennium POP3/??????????TOP ????? RETR ???????"
-"????\n"
+msgid "Warning: \"Maillennium POP3/PROXY server\" found, using RETR command instead of TOP.\n"
+msgstr "??: Maillennium POP3/??????????TOP ????? RETR ???????????\n"
 
 #: pop3.c:449
 msgid "TLS is mandatory for this session, but server refused CAPA command.\n"
-msgstr ""
-"????????? TLS ??????????? CAPA ????????????\n"
+msgstr "????????? TLS ??????????? CAPA ????????????\n"
 
 #: pop3.c:450
 msgid "The CAPA command is however necessary for TLS.\n"
@@ -2290,21 +2163,19 @@
 
 #: pop3.c:633
 msgid "We've run out of allowed authenticators and cannot continue.\n"
-msgstr ""
-"??????????????????????????????????????"
-"???????\n"
+msgstr "?????????????????????????????????????????????\n"
 
 #: pop3.c:647
 msgid "Required APOP timestamp not found in greeting\n"
-msgstr "greeting ?? APOP timestamp ????????\n"
+msgstr "greeting ?? APOP ???????????????\n"
 
 #: pop3.c:656
 msgid "Timestamp syntax error in greeting\n"
-msgstr "greeting ?? timestamp ??????\n"
+msgstr "greeting ?? ?????????????\n"
 
 #: pop3.c:672
 msgid "Invalid APOP timestamp.\n"
-msgstr ""
+msgstr "??? APOP ??????????\n"
 
 #: pop3.c:696
 msgid "Undefined protocol request in POP3_auth\n"
@@ -2334,8 +2205,7 @@
 
 #: pop3.c:952
 msgid "Messages inserted into list on server. Cannot handle this.\n"
-msgstr ""
-"???????????????????????????????????\n"
+msgstr "???????????????????????????????????\n"
 
 #: pop3.c:1044
 msgid "protocol error\n"
@@ -2358,20 +2228,12 @@
 msgstr "SDPS ?????????"
 
 #: rcfile_y.y:213
-msgid ""
-"fetchmail: interface option is only supported under Linux (without IPv6) and "
-"FreeBSD\n"
-msgstr ""
-"fetchmail: interface ?????? Linux (IPv6 ????????) ?FreeBSD ?"
-"?????????\n"
+msgid "fetchmail: interface option is only supported under Linux (without IPv6) and FreeBSD\n"
+msgstr "fetchmail: interface ?????? Linux (IPv6 ????????) ?FreeBSD ??????????\n"
 
 #: rcfile_y.y:220
-msgid ""
-"fetchmail: monitor option is only supported under Linux (without IPv6) and "
-"FreeBSD\n"
-msgstr ""
-"fetchmail: monitor ?????? Linux (IPv6 ????????) ?FreeBSD ??"
-"????????\n"
+msgid "fetchmail: monitor option is only supported under Linux (without IPv6) and FreeBSD\n"
+msgstr "fetchmail: monitor ?????? Linux (IPv6 ????????) ?FreeBSD ??????????\n"
 
 #: rcfile_y.y:333
 msgid "SSL is not enabled"
@@ -2384,9 +2246,7 @@
 #: rcfile_y.y:419
 #, c-format
 msgid "File %s must be a regular file.\n"
-msgstr ""
-"%s ????????????????????????????????????"
-"???\n"
+msgstr "%s ???????????????????????????????????????\n"
 
 #: rcfile_y.y:429
 #, c-format
@@ -2450,7 +2310,7 @@
 #: rpa.c:199
 #, c-format
 msgid "Service timestamp %s\n"
-msgstr "Service timestamp %s\n"
+msgstr "Service ??????? %s\n"
 
 #: rpa.c:204
 msgid "RPA token 2 length error\n"
@@ -2633,22 +2493,17 @@
 
 #: sink.c:752
 msgid "BSMTP file open or preamble write failed\n"
-msgstr ""
-"BSMTP ?????????????????????????????????\n"
+msgstr "BSMTP ?????????????????????????????????\n"
 
 #: sink.c:966
 #, c-format
 msgid "%cMTP listener doesn't like recipient address `%s'\n"
-msgstr ""
-"%cMTP ????????????? `%s' ??????????????????"
-"??\n"
+msgstr "%cMTP ????????????? `%s' ????????????????????\n"
 
 #: sink.c:973
 #, c-format
 msgid "%cMTP listener doesn't really like recipient address `%s'\n"
-msgstr ""
-"%cMTP ????????????? `%s' ??????????????????"
-"??\n"
+msgstr "%cMTP ????????????? `%s' ????????????????????\n"
 
 #: sink.c:1019
 msgid "no address matches; no postmaster set.\n"
@@ -2700,11 +2555,8 @@
 
 #: sink.c:1349
 #, c-format
-msgid ""
-"Strange: MDA pclose returned %d and errno %d/%s, cannot handle at %s:%d\n"
-msgstr ""
-"??: MDA ? pclose ? %d ????????????%d/%s ??????????"
-"????????? %s:%d ?\n"
+msgid "Strange: MDA pclose returned %d and errno %d/%s, cannot handle at %s:%d\n"
+msgstr "??: MDA ? pclose ? %d ????????????%d/%s ??????????????????? %s:%d ?\n"
 
 #: sink.c:1371
 msgid "Message termination or close of BSMTP file failed\n"
@@ -2793,8 +2645,7 @@
 
 #: socket.c:285
 msgid "Try adding the --service option (see also FAQ item R12).\n"
-msgstr ""
-"????? --service ???????????(FAQ ? R12 ??????)?\n"
+msgstr "????? --service ???????????(FAQ ? R12 ??????)?\n"
 
 #: socket.c:296 socket.c:299
 #, c-format
@@ -2844,8 +2695,7 @@
 
 #: socket.c:668
 msgid "Warning: Issuer CommonName too long (possibly truncated).\n"
-msgstr ""
-"?? : ???? CommonName ??????? (?????????????)\n"
+msgstr "?? : ???? CommonName ??????? (?????????????)\n"
 
 #: socket.c:670
 msgid "Unknown Issuer CommonName\n"
@@ -2921,9 +2771,7 @@
 #: socket.c:891
 #, c-format
 msgid "Invalid SSL protocol '%s' specified, using default (SSLv23).\n"
-msgstr ""
-"??? SSL ????? `%s' ?????????????? (SSLv23)?????"
-"??\n"
+msgstr "??? SSL ????? `%s' ?????????????? (SSLv23)???????\n"
 
 #: socket.c:964
 msgid "Certificate/fingerprint verification was somehow skipped!\n"
@@ -3078,9 +2926,7 @@
 #: uid.c:643
 #, c-format
 msgid "Error writing to fetchids file %s, old file left in place.\n"
-msgstr ""
-"fetchids ???? %s ????????????????????????????"
-"??\n"
+msgstr "fetchids ???? %s ??????????????????????????????\n"
 
 #: uid.c:647
 #, c-format
@@ -3090,8 +2936,7 @@
 #: uid.c:651
 #, c-format
 msgid "Cannot open fetchids file %s for writing: %s\n"
-msgstr ""
-"fetchids ???? %s ?????????????????????????: %s\n"
+msgstr "fetchids ???? %s ?????????????????????????: %s\n"
 
 #: xmalloc.c:33
 msgid "malloc failed\n"



From svn at mknod.org  Fri Mar 30 01:08:22 2007
From: svn at mknod.org (svn at mknod.org)
Date: Thu, 29 Mar 2007 18:08:22 -0500 (CDT)
Subject: [fetchmail-svn] r5073 - branches/BRANCH_6-3
Message-ID: <20070329230822.36ECC218096@mknod.org>

Author: m-a
Date: 2007-03-29 18:08:21 -0500 (Thu, 29 Mar 2007)
New Revision: 5073

Modified:
   branches/BRANCH_6-3/NEWS
Log:
Fix charset in recent bugfix log.

Modified: branches/BRANCH_6-3/NEWS
===================================================================
--- branches/BRANCH_6-3/NEWS	2007-03-29 22:53:10 UTC (rev 5072)
+++ branches/BRANCH_6-3/NEWS	2007-03-29 23:08:21 UTC (rev 5073)
@@ -75,7 +75,7 @@
 * If SOCKS support was compiled in, add 'socks' to the feature_options Python
   list emitted in --configdump. Reported by Rob MacGregor.
 * Do not crash with a null pointer dereference when opening the BSMTP file 
-  fails. Improve error checking and reporting. Reported by Reto Sch?ttel,
+  fails. Improve error checking and reporting. Reported by Reto Sch??ttel,
   Debian Bug#416625. Fix based on a patch by Nico Golde.
 * Make BSMTP output actually work, it would persistently fail with SOCKET error
   after writing the first header.



From svn at mknod.org  Fri Mar 30 01:30:20 2007
From: svn at mknod.org (svn at mknod.org)
Date: Thu, 29 Mar 2007 18:30:20 -0500 (CDT)
Subject: [fetchmail-svn] r5074 - branches/BRANCH_6-3
Message-ID: <20070329233020.ACE72218096@mknod.org>

Author: m-a
Date: 2007-03-29 18:30:20 -0500 (Thu, 29 Mar 2007)
New Revision: 5074

Modified:
   branches/BRANCH_6-3/NEWS
   branches/BRANCH_6-3/fetchmail.man
Log:
Document bad shape of BSMTP.

Modified: branches/BRANCH_6-3/NEWS
===================================================================
--- branches/BRANCH_6-3/NEWS	2007-03-29 23:08:21 UTC (rev 5073)
+++ branches/BRANCH_6-3/NEWS	2007-03-29 23:30:20 UTC (rev 5074)
@@ -100,6 +100,7 @@
   current release information)
 * fetchmail does not handle messages without Message-ID header well
   (See sourceforge.net bug #780933)
+* BSMTP is mostly untested and errors can cause corrupt output.
 * Sun Workshop 6 (SPARC) is known to miscompile the configuration file lexer in
   64-bit mode.  Either compile 32-bit code or use GCC to compile 64-bit
   fetchmail.  Note that fetchmail doesn't take advantage of 64-bit code,

Modified: branches/BRANCH_6-3/fetchmail.man
===================================================================
--- branches/BRANCH_6-3/fetchmail.man	2007-03-29 23:08:21 UTC (rev 5073)
+++ branches/BRANCH_6-3/fetchmail.man	2007-03-29 23:30:20 UTC (rev 5074)
@@ -2703,6 +2703,9 @@
 A backslash as the last character of a configuration file will be
 flagged as a syntax error rather than ignored.
 .PP
+The BSMTP error handling is virtually nonexistent and may leave broken
+messages behind.
+.PP
 Send comments, bug reports, gripes, and the like to the
 fetchmail\-devel list <fetchmail\-devel at lists.berlios.de>.  An HTML FAQ is
 available at the fetchmail home page; surf to



From svn at mknod.org  Fri Mar 30 01:33:36 2007
From: svn at mknod.org (svn at mknod.org)
Date: Thu, 29 Mar 2007 18:33:36 -0500 (CDT)
Subject: [fetchmail-svn] r5075 - branches/BRANCH_6-3/po
Message-ID: <20070329233336.A3F03218096@mknod.org>

Author: m-a
Date: 2007-03-29 18:33:36 -0500 (Thu, 29 Mar 2007)
New Revision: 5075

Modified:
   branches/BRANCH_6-3/po/de.po
Log:
Update.

Modified: branches/BRANCH_6-3/po/de.po
===================================================================
--- branches/BRANCH_6-3/po/de.po	2007-03-29 23:30:20 UTC (rev 5074)
+++ branches/BRANCH_6-3/po/de.po	2007-03-29 23:33:36 UTC (rev 5075)
@@ -8,7 +8,7 @@
 msgstr ""
 "Project-Id-Version: de\n"
 "Report-Msgid-Bugs-To: fetchmail-devel at lists.berlios.de\n"
-"POT-Creation-Date: 2007-03-18 02:13+0100\n"
+"POT-Creation-Date: 2007-03-30 01:31+0200\n"
 "PO-Revision-Date: 2006-11-27 04:32+0100\n"
 "Last-Translator: Matthias Andree <matthias.andree>\n"
 "Language-Team: Deutsch <de at li.org>\n"
@@ -2652,69 +2652,74 @@
 msgid "%cMTP error: %s\n"
 msgstr "%cMTP-Fehler: %s\n"
 
-#: sink.c:752
-msgid "BSMTP file open or preamble write failed\n"
-msgstr "BSMTP Datei ?ffnen oder Pr?ambel schreiben fehlgeschlagen\n"
+#: sink.c:712
+#, c-format
+msgid "BSMTP file open failed: %s\n"
+msgstr "?ffnen der BSMTP-Datei fehlgeschlagen: %s\n"
 
-#: sink.c:966
+#: sink.c:758
+msgid "BSMTP preamble write failed.\n"
+msgstr "Schreiben der BSMTP-Pr?ambel fehlgeschlagen.\n"
+
+#: sink.c:972
 #, c-format
 msgid "%cMTP listener doesn't like recipient address `%s'\n"
 msgstr "%cMTP-Server mag Empf?ngeradresse ?%s? nicht\n"
 
-#: sink.c:973
+#: sink.c:979
 #, c-format
 msgid "%cMTP listener doesn't really like recipient address `%s'\n"
 msgstr "%cMTP-Server mag Empf?nger-Adresse ?%s? irgendwie nicht\n"
 
-#: sink.c:1019
+#: sink.c:1025
 msgid "no address matches; no postmaster set.\n"
 msgstr "keine Adressen stimmten ?berein; kein Postmaster gesetzt.\n"
 
-#: sink.c:1031
+#: sink.c:1037
 #, c-format
 msgid "can't even send to %s!\n"
 msgstr "kann noch nicht einmal an %s senden!\n"
 
-#: sink.c:1037
+#: sink.c:1043
 #, c-format
 msgid "no address matches; forwarding to %s.\n"
 msgstr "keine Adressen stimmten ?berein; leite an %s weiter.\n"
 
-#: sink.c:1193
+#: sink.c:1199
 #, c-format
 msgid "about to deliver with: %s\n"
 msgstr "dabei, auszuliefern mit: %s\n"
 
-#: sink.c:1217
+#: sink.c:1223
 msgid "MDA open failed\n"
 msgstr "MDA ?ffnen fehlgeschlagen\n"
 
-#: sink.c:1254
+#: sink.c:1260
 #, c-format
 msgid "%cMTP connect to %s failed\n"
 msgstr "%cMTP-Verbindung zu %s fehlgeschlagen\n"
 
-#: sink.c:1278
+#: sink.c:1284
 #, c-format
 msgid "can't raise the listener; falling back to %s"
 msgstr "kann SMTP/LMTP-Server nicht erreichen; falle zur?ck auf %s"
 
-#: sink.c:1340
+#: sink.c:1346
 #, c-format
 msgid "Error writing to MDA: %s\n"
 msgstr "Fehler beim Transport an den MDA: %s\n"
 
-#: sink.c:1343
+#: sink.c:1349
 #, c-format
 msgid "MDA died of signal %d\n"
 msgstr "MDA starb durch Signal %d\n"
 
-#: sink.c:1346
+#: sink.c:1352
 #, c-format
 msgid "MDA returned nonzero status %d\n"
 msgstr "MDA gab Status %d ungleich Null zur?ck\n"
 
-#: sink.c:1349
+#: sink.c:1355
 #, c-format
 msgid ""
 "Strange: MDA pclose returned %d and errno %d/%s, cannot handle at %s:%d\n"
@@ -2722,24 +2727,24 @@
 "Merkw?rdig: MDA pclose gab %d und errno %d/%s zur?ck, kann das nicht "
 "behandeln bei %s:%d\n"
 
-#: sink.c:1371
+#: sink.c:1377
 msgid "Message termination or close of BSMTP file failed\n"
 msgstr "Nachrichtenbeendigung oder Schlie?en der BSMTP-Datei fehlgeschlagen\n"
 
-#: sink.c:1393
+#: sink.c:1399
 msgid "SMTP listener refused delivery\n"
 msgstr "SMTP-Server verweigerte Auslieferung\n"
 
-#: sink.c:1423
+#: sink.c:1429
 msgid "LMTP delivery error on EOM\n"
 msgstr "LMTP-Auslieferungsfehler bei EOM\n"
 
-#: sink.c:1426
+#: sink.c:1432
 #, c-format
 msgid "Unexpected non-503 response to LMTP EOM: %s\n"
 msgstr "Unerwartete Nicht-503-Erwiderung auf LMTP EOM: %s\n"
 
-#: sink.c:1581
+#: sink.c:1587
 msgid ""
 "-- \n"
 "The Fetchmail Daemon"



From svn at mknod.org  Fri Mar 30 10:07:04 2007
From: svn at mknod.org (svn at mknod.org)
Date: Fri, 30 Mar 2007 03:07:04 -0500 (CDT)
Subject: [fetchmail-svn] r5077 - branches/BRANCH_6-3
Message-ID: <20070330080704.A505C218096@mknod.org>

Author: m-a
Date: 2007-03-30 03:07:04 -0500 (Fri, 30 Mar 2007)
New Revision: 5077

Modified:
   branches/BRANCH_6-3/configure.ac
Log:
Bump version in preparation of -rc3.

Modified: branches/BRANCH_6-3/configure.ac
===================================================================
--- branches/BRANCH_6-3/configure.ac	2007-03-30 07:57:22 UTC (rev 5076)
+++ branches/BRANCH_6-3/configure.ac	2007-03-30 08:07:04 UTC (rev 5077)
@@ -8,7 +8,7 @@
 dnl Process this file with autoconf to produce a configure script.
 dnl
 
-AC_INIT([fetchmail],[6.3.8-rc2],[fetchmail-users at lists.berlios.de])
+AC_INIT([fetchmail],[6.3.8-rc3],[fetchmail-users at lists.berlios.de])
 AC_CONFIG_SRCDIR([fetchmail.h])
 AC_CONFIG_HEADERS([config.h])
 AC_CONFIG_LIBOBJ_DIR([.])



From svn at mknod.org  Sat Mar 31 20:28:26 2007
From: svn at mknod.org (svn at mknod.org)
Date: Sat, 31 Mar 2007 13:28:26 -0500 (CDT)
Subject: [fetchmail-svn] r5078 - branches/BRANCH_6-3
Message-ID: <20070331182826.D3CF52180A1@mknod.org>

Author: m-a
Date: 2007-03-31 13:28:26 -0500 (Sat, 31 Mar 2007)
New Revision: 5078

Modified:
   branches/BRANCH_6-3/README.packaging
Log:
Update packaging instructions a bit, recommend --with-ssl.

Modified: branches/BRANCH_6-3/README.packaging
===================================================================
--- branches/BRANCH_6-3/README.packaging	2007-03-30 08:07:04 UTC (rev 5077)
+++ branches/BRANCH_6-3/README.packaging	2007-03-31 18:28:26 UTC (rev 5078)
@@ -1,40 +1,45 @@
 README.packaging
 ================
 
-fetchmail 6.3.0 changes relevant for packagers
-----------------------------------------------
-(These should apply to all 6.3.X versions)
+fetchmail 6.3 changes relevant for packagers
+--------------------------------------------
 
 Greetings, dear packager!
 
-There are now some changes to the fetchmail 6.3.0 installation layout,
-which are given as headwords below.
+The bullet points below mention a few useful hints for package(r)s:
 
-- fetchmail now uses automake and supports all common automake targets
+- Please use OpenSSL and add --with-ssl to the ./configure command line.
+  SSL/TLS support hasn't been enabled in the default build in order to
+  maintain fetchmail 6.2 compatibility as far as possible.
+  SSL/TLS however is a highly recommended compilation option.
+
+- Fetchmail now uses automake and supports all common automake targets
   and overrides such as "make install-strip" or "DESTDIR=..." for staging
-  areas
+  areas.
 
-- the fetchmailconf script has been renamed to fetchmailconf.py,
+- The fetchmailconf script has been renamed to fetchmailconf.py,
   automake will install it into Python's top-level site-packages directory
   and byte-compile it (so you need to package or remove
-  fetchmailconf.pyc and fetchmailconf.pyo as well)
+  fetchmailconf.pyc and fetchmailconf.pyo as well).
 
-  If you want to defeat Python byte-code compilation and would rather
+- If you want to defeat Python byte-code compilation and would rather
   like to install fetchmailconf.py yourself, you can add
+
       PYTHON=:
+
   to the ./configure command or pass this in the environment.
   This pretends that no Python interpreter were installed.
 
-- the Makefile generates a two-line "fetchmailconf" /bin/sh wrapper
+- The Makefile generates a two-line "fetchmailconf" /bin/sh wrapper
   script that executes the actual fetchmailconf.py with the python
   installation found at configuration time, so that users can still type
-  "fetchmailconf" rather than "python fetchmailconf"
+  "fetchmailconf" rather than "python fetchmailconf".
 
-- note that fetchmailconf.py supports a few command line arguments, so
+- Note that fetchmailconf.py supports a few command line arguments, so
   if you use local wrapper scripts, be sure they pass on their own
   arguments properly. Remember to use "$@" (with quotes) in shells, not $*.
 
-- there is now a dummy fetchmailconf manual page which will just source
+- There is now a dummy fetchmailconf manual page which will just source
   (roff's ".so" command) the fetchmail manual page for now. You can of
   course keep your symlinks in place and ignore this dummy. IF you
   install the dummy and compress your man pages, be sure to test "man



From svn at mknod.org  Sat Mar 31 20:32:04 2007
From: svn at mknod.org (svn at mknod.org)
Date: Sat, 31 Mar 2007 13:32:04 -0500 (CDT)
Subject: [fetchmail-svn] r5079 - branches/BRANCH_6-3
Message-ID: <20070331183204.B4F632180A1@mknod.org>

Author: m-a
Date: 2007-03-31 13:32:04 -0500 (Sat, 31 Mar 2007)
New Revision: 5079

Modified:
   branches/BRANCH_6-3/INSTALL
Log:
Rearrange intro, add README.packaging pointer and shuffle section 1 pieces.

Modified: branches/BRANCH_6-3/INSTALL
===================================================================
--- branches/BRANCH_6-3/INSTALL	2007-03-31 18:28:26 UTC (rev 5078)
+++ branches/BRANCH_6-3/INSTALL	2007-03-31 18:32:04 UTC (rev 5079)
@@ -1,20 +1,41 @@
 INSTALL Instructions for fetchmail
 ==================================
 
-If you are installing from the subversion repository, see README.svn for
-further instructions on how to set up the checked out repository.
+Building from subversion (SVN) repository: see README.svn
 
+Packagers and port/emerge maintainers: see README.packaging.
+
+
 If you have installed binaries (e.g. from a Linux RPM or DPKG, Solaris
-package or FreeBSD port), you can skip to step 5.
+package or FreeBSD port), you can skip to step 5 below.
 
+---------------------------------------------------------------------
 The Frequently Asked Questions list, included as the file FAQ in this
-distributions, answers the most common questions about configuring and
+distribution, answers the most common questions about configuring and
 running fetchmail.
+---------------------------------------------------------------------
 
-1. USEFUL THINGS TO INSTALL FIRST
 
-1.1 OTP/OPIE
+1. PREPARATIONS: USEFUL THINGS TO INSTALL FIRST
 
+1.1 OpenSSL
+
+If you are installing OpenSSL yourself, it is recommended that you build
+shared OpenSSL libraries, it works better and updating OpenSSL does not
+then require you to reinstall all applications that use OpenSSL.
+
+Try after unpacking OpenSSL:
+
+	./config shared && make && make test && make install
+
+1.2 gettext (internationalization)
+
+Internationalization of fetchmail requires GNU gettext (libintl and
+libiconv). Fetchmail, as of version 6.3.0, no longer ships its own
+libintl copy.  Note that some systems include gettext in their libc.
+
+1.3 OTP/OPIE
+
 If you want support for RFC1938-compliant one-time passwords, you'll
 need to install Craig Metz's OPIE libraries first and *make sure
 they're on the normal library path* where configure will find them.  Then
@@ -29,22 +50,6 @@
 The OPIE library sources are available at http://www.inner.net/pub/opie/
 You can also find OPIE and IPV6-capable servers there.
 
-1.2 OpenSSL
-
-If you are installing OpenSSL yourself, it is recommended that you build
-shared OpenSSL libraries, it works better and updating OpenSSL does not
-then require you to reinstall all applications that use OpenSSL.
-
-Try after unpacking OpenSSL:
-
-	./config shared && make && make test && make install
-
-1.3 gettext (internationalization)
-
-Internationalization of fetchmail requires GNU gettext (libintl and
-libiconv). Fetchmail, as of version 6.3.0, no longer ships its own
-libintl copy.  Note that some systems include gettext in their libc.
-
 1.4 IPv6
 
 Building in IPv6 support *requires* an up-to-date operating system.



From svn at mknod.org  Sat Mar 31 20:44:10 2007
From: svn at mknod.org (svn at mknod.org)
Date: Sat, 31 Mar 2007 13:44:10 -0500 (CDT)
Subject: [fetchmail-svn] r5080 - tags
Message-ID: <20070331184410.754E32180A1@mknod.org>

Author: m-a
Date: 2007-03-31 13:44:10 -0500 (Sat, 31 Mar 2007)
New Revision: 5080

Added:
   tags/SNAPSHOT_6-3-8-rc3/
Log:
Tagging 6.3.8-rc3.

Copied: tags/SNAPSHOT_6-3-8-rc3 (from rev 5079, branches/BRANCH_6-3)



From svn at mknod.org  Sat Mar 31 21:01:11 2007
From: svn at mknod.org (svn at mknod.org)
Date: Sat, 31 Mar 2007 14:01:11 -0500 (CDT)
Subject: [fetchmail-svn] r5081 - branches/BRANCH_6-3
Message-ID: <20070331190111.7FC102180A1@mknod.org>

Author: m-a
Date: 2007-03-31 14:01:11 -0500 (Sat, 31 Mar 2007)
New Revision: 5081

Modified:
   branches/BRANCH_6-3/NEWS
Log:
Give Reto Sch?\195?\188ttel credit although he wasn't the first to debug BSMTP PS_SOCKET.

Modified: branches/BRANCH_6-3/NEWS
===================================================================
--- branches/BRANCH_6-3/NEWS	2007-03-31 18:44:10 UTC (rev 5080)
+++ branches/BRANCH_6-3/NEWS	2007-03-31 19:01:11 UTC (rev 5081)
@@ -78,7 +78,8 @@
   fails. Improve error checking and reporting. Reported by Reto Sch?ttel,
   Debian Bug#416625. Fix based on a patch by Nico Golde.
 * Make BSMTP output actually work, it would persistently fail with SOCKET error
-  after writing the first header.
+  after writing the first header. Bug independently found and reported in
+  excellent detail by Reto Sch?ttel, Debian Bug#416812.
 
 # DOCUMENTATION:
 * Extend --mda documentation, discourage use of qmail-inject.



